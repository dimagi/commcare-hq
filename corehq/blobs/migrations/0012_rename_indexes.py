# Generated by Django 2.2.27 on 2022-03-14 19:10

from django.db import migrations


class Migration(migrations.Migration):

    dependencies = [
        ('blobs', '0011_blobmeta_compressed'),
    ]

    operations = [
        # The blobs_blobm_expires_64b92d_partial (index with old name) existed
        # because it had previously been renamed in state operations only.
        # blobs_blobm_expires_ed7e3d_partial probably does not exist anywhere,
        # but is being renamed here just in case. In no case should both exist
        # concurrently.
        migrations.RunSQL("""
            ALTER INDEX IF EXISTS blobs_blobm_expires_64b92d_partial RENAME TO blobs_blobmeta_expires_ed7e3d;
            ALTER INDEX IF EXISTS blobs_blobm_expires_ed7e3d_partial RENAME TO blobs_blobmeta_expires_ed7e3d;
            ALTER INDEX IF EXISTS blobs_blobm_type_co_23e226_partial RENAME TO blobs_blobmeta_type_co_23e226;
        """, """
            ALTER INDEX IF EXISTS blobs_blobmeta_expires_ed7e3d RENAME TO blobs_blobm_expires_ed7e3d_partial;
            ALTER INDEX IF EXISTS blobs_blobmeta_type_co_23e226 RENAME TO blobs_blobm_type_co_23e226_partial;
        """)
    ]
