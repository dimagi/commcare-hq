# -*- coding: utf-8 -*-
# Generated by Django 1.11.14 on 2018-08-28 22:58
from __future__ import unicode_literals
from __future__ import absolute_import

from corehq.apps.accounting.bootstrap.config.user_buckets_august_2018 import BOOTSTRAP_CONFIG
from corehq.apps.accounting.bootstrap.utils import ensure_plans
from corehq.sql_db.operations import HqRunPython
from django.db import migrations, models


def noop(*args, **kwargs):
    pass


def _bootstrap_new_monthly_pricing(apps, schema_editor):
    ensure_plans(BOOTSTRAP_CONFIG, verbose=True, apps=apps)


class Migration(migrations.Migration):

    dependencies = [
        ('accounting', '0038_remove_billingaccount_restrict_signup_email'),
    ]

    operations = [
        HqRunPython(_bootstrap_new_monthly_pricing, reverse_code=noop),

        migrations.AddField(
            model_name='softwareplan',
            name='is_annual_plan',
            field=models.BooleanField(default=False),
        ),
    ]
