# Generated by Django 3.2.15 on 2022-09-20 15:47

from django.db import migrations, models
from django.db.models.deletion import DO_NOTHING


class Migration(migrations.Migration):

    dependencies = [
        ('fixtures', '0006_index_row_id'),
    ]

    operations = [
        migrations.AlterField(
            model_name='lookuptablerow',
            name='table',
            field=models.ForeignKey(on_delete=DO_NOTHING, to='fixtures.lookuptable'),
        ),
        migrations.AlterField(
            model_name='lookuptablerowowner',
            name='row',
            field=models.ForeignKey(on_delete=DO_NOTHING, to='fixtures.lookuptablerow'),
        ),
        migrations.RunSQL(sql="""
        ALTER TABLE fixtures_lookuptablerow
            DROP CONSTRAINT fixtures_lookuptable_table_id_580508a8_fk_fixtures_,
            ADD CONSTRAINT fixtures_lookuptable_table_id_580508a8_fk_fixtures_
                FOREIGN KEY (table_id) REFERENCES fixtures_lookuptable(id)
                ON DELETE CASCADE DEFERRABLE INITIALLY DEFERRED;
        ALTER TABLE fixtures_lookuptablerowowner
            DROP CONSTRAINT fixtures_lookuptable_row_id_15fa6f2a_fk_fixtures_,
            ADD CONSTRAINT fixtures_lookuptable_row_id_15fa6f2a_fk_fixtures_
                FOREIGN KEY (row_id) REFERENCES fixtures_lookuptablerow(id)
                ON DELETE CASCADE DEFERRABLE INITIALLY DEFERRED;
        """, reverse_sql="""
        ALTER TABLE fixtures_lookuptablerow
            DROP CONSTRAINT fixtures_lookuptable_table_id_580508a8_fk_fixtures_,
            ADD CONSTRAINT fixtures_lookuptable_table_id_580508a8_fk_fixtures_
                FOREIGN KEY (table_id) REFERENCES fixtures_lookuptable(id)
                DEFERRABLE INITIALLY DEFERRED;
        ALTER TABLE fixtures_lookuptablerowowner
            DROP CONSTRAINT fixtures_lookuptable_row_id_15fa6f2a_fk_fixtures_,
            ADD CONSTRAINT fixtures_lookuptable_row_id_15fa6f2a_fk_fixtures_
                FOREIGN KEY (row_id) REFERENCES fixtures_lookuptablerow(id)
                DEFERRABLE INITIALLY DEFERRED;
        """),
    ]
