--- 
+++ 
@@ -1,9 +1,9 @@
-{% extends 'hqwebapp/bootstrap3/base_section.html' %}
+{% extends 'hqwebapp/bootstrap5/base_section.html' %}
 {% load crispy_forms_tags %}
 {% load i18n %}
 {% load hq_shared_tags %}
 
-{% js_entry_b3 'users/js/bootstrap3/roles_and_permissions' %}
+{% js_entry 'users/js/bootstrap5/roles_and_permissions' %}
 {% block page_content %}
   {% registerurl "post_user_role" domain %}
   {% registerurl "delete_user_role" domain %}
@@ -39,7 +39,7 @@
   </p>
 
   <div class="row ko-template" id="infobar">
-    <div class="col-sm-8 col-md-9">
+    <div class="col-md-8 col-lg-9">
       <p>
         <i class="fa fa-info-circle"></i>
         {% blocktrans %}
@@ -48,17 +48,17 @@
         {% endblocktrans %}
       </p>
     </div>
-    <div class="col-sm-4 col-md-3" data-bind="if: hasLinkedRoles">
-      <p class="pull-right">
+    <div class="col-md-4 col-lg-3" data-bind="if: hasLinkedRoles">
+      <p class="float-end">
         <!-- ko if: allowEdit -->
           <span data-bind="ifnot: unlockLinkedRoles">
-            <button type="button" class="btn btn-default" data-toggle="modal" data-target="#modal_linked_roles">
+            <button type="button" class="btn btn-outline-primary" data-bs-toggle="modal" data-bs-target="#modal_linked_roles">
               <i class="fa fa-link"></i>
               {% trans 'Unlock Linked Roles For Me' %}
             </button>
           </span>
           <span data-bind="if: unlockLinkedRoles">
-            <button type="button" class="btn btn-default" data-bind="click: toggleLinkedRoles">
+            <button type="button" class="btn btn-outline-primary" data-bind="click: toggleLinkedRoles">
               <i class="fa fa-link"></i>
               {% trans 'Lock Linked Roles For Me' %}
             </button>
@@ -104,13 +104,13 @@
     </div>
   {% endif %}
 
-  <div class="panel panel-default ko-template" id="user-roles-table">
-    <div class="panel-heading">
-      <h3 class="panel-title">
+  <div class="card  ko-template" id="user-roles-table">  {# todo B5: css-panel #}
+    <div class="card-header">
+      <h3 class="card-title">
         {% trans 'Roles' %}
       </h3>
     </div>
-    <div class="panel-body">
+    <div class="card-body">
       <table class="table table-striped table-responsive">
         <thead>
         <tr>
@@ -257,7 +257,7 @@
             <div data-bind="visible: !reportPermissions.all() && reportPermissions.filteredSpecific().length">
               <strong>{% trans "Only" %}</strong><br/>
               <span data-bind="foreach: reportPermissions.specific">
-                                    <span class="label label-default" data-bind="text: name, visible: value"></span><br data-bind="visible: value" />
+                                    <span class="badge text-bg-secondary" data-bind="text: name, visible: value"></span><br data-bind="visible: value" />
                                 </span>
             </div>
           </td>
@@ -273,7 +273,7 @@
             <div data-bind="visible: !manageRegistryPermission.all() && manageRegistryPermission.filteredSpecific().length">
               <strong>{% trans "Manage Only" %}</strong><br/>
               <span data-bind="foreach: manageRegistryPermission.filteredSpecific">
-                  <span class="label label-default" data-bind="text: name"></span><br />
+                  <span class="badge text-bg-secondary" data-bind="text: name"></span><br />
               </span>
             </div>
             <br/>
@@ -281,7 +281,7 @@
             <div data-bind="visible: !viewRegistryContentsPermission.all() && viewRegistryContentsPermission.filteredSpecific().length">
               <strong>{% trans "View Data From" %}</strong><br/>
               <span data-bind="foreach: viewRegistryContentsPermission.filteredSpecific">
-                  <span class="label label-default" data-bind="text: name"></span><br />
+                  <span class="badge text-bg-secondary" data-bind="text: name"></span><br />
               </span>
             </div>
           </td>
@@ -295,7 +295,7 @@
             </td>
           {% endif %}
           <td>
-            <button class="btn btn-default" data-bind="visible: $data._id, click: $data._id ? $root.setRoleBeingEdited : null">
+            <button class="btn btn-outline-primary" data-bind="visible: $data._id, click: $data._id ? $root.setRoleBeingEdited : null">
                                 <span data-bind="if: $root.allowEdit && (!upstream_id() || $parent.unlockLinkedRoles())">
                                     <i class="fa fa-edit"></i>
                                     {% trans "Edit Role" %}
@@ -305,7 +305,7 @@
                                     {% trans "View Role" %}
                                 </span>
             </button>
-            <button class="btn btn-danger"
+            <button class="btn btn-outline-danger"
               data-bind="visible: $data._id && !$data.preventRoleDelete && $root.allowEdit && isEditable,
                 click: $data._id ? $root.setRoleBeingDeleted : null">
               <i class="fa-regular fa-trash-can"></i>
@@ -323,7 +323,7 @@
         </tbody>
       </table>
       {% if can_edit_roles %}
-        <button class="btn btn-default"
+        <button class="btn btn-outline-primary"
                 data-bind="click: function () {$root.setRoleBeingEdited($root.defaultRole)}">
           <i class="fa fa-plus"></i>
           {% trans "Add Role" %}
@@ -334,7 +334,7 @@
             <div class="modal-content">
               <div class="modal-header">
                 <button type="button"
-                        class="close"
+                        class="btn-close"  {# todo B5: css-close #}
                         data-bind="click: $root.unsetRoleBeingDeleted">
                   <span aria-hidden="true">&times;</span>
                   <span class="sr-only">{% trans "Close" %}</span>
@@ -346,7 +346,7 @@
               </div>
               <div class="modal-footer">
                 <button type="button"
-                        class="btn btn-default"
+                        class="btn btn-outline-primary"
                         data-bind="click: $root.unsetRoleBeingDeleted">
                   {% trans "Cancel" %}
                 </button>
@@ -356,7 +356,7 @@
           </div>
         </div>
       {% endif %}
-      {% include 'users/partials/bootstrap3/edit_role_modal.html' %}
+      {% include 'users/partials/bootstrap5/edit_role_modal.html' %}
     </div>
   </div>
 
@@ -368,7 +368,7 @@
       <div class="modal-content">
         <div class="modal-header">
           <button type="button"
-                  class="close"
+                  class="btn-close"  {# todo B5: css-close #}
                   data-bind="click: $root.unsetRoleBeingDeleted">
             <span aria-hidden="true">&times;</span>
             <span class="sr-only">{% trans "Close" %}</span>
@@ -377,12 +377,12 @@
         </div>
         <div class="modal-body"></div>
         <div class="modal-footer">
-          <button type="button" class="btn btn-default" data-dismiss="modal">{% trans "Cancel" %}</button>
-          <button type="button" class="btn btn-danger" id="confirm-delete">{% trans "Delete" %}</button>
+          <button type="button" class="btn btn-outline-primary" data-bs-dismiss="modal">{% trans "Cancel" %}</button>
+          <button type="button" class="btn btn-outline-danger" id="confirm-delete">{% trans "Delete" %}</button>
         </div>
       </div>
     </div>
   </div>
 
-  {% include 'users/partials/bootstrap3/linked_roles_modal.html' %}
+  {% include 'users/partials/bootstrap5/linked_roles_modal.html' %}
 {% endblock %}
