--- 
+++ 
@@ -1,8 +1,8 @@
-{% extends 'hqwebapp/bootstrap3/base_section.html' %}
+{% extends 'hqwebapp/bootstrap5/base_section.html' %}
 {% load crispy_forms_tags %}
 {% load i18n %}
 {% load hq_shared_tags %}
-{% js_entry_b3 'users/js/bootstrap3/roles_and_permissions' %}
+{% js_entry 'users/js/bootstrap5/roles_and_permissions' %}
 {% block page_content %}
   {% registerurl "post_user_role" domain %}
   {% registerurl "delete_user_role" domain %}
@@ -38,7 +38,7 @@
   </p>
 
   <div class="row ko-template" id="infobar">
-    <div class="col-sm-8 col-md-9">
+    <div class="col-md-8 col-lg-9">
       <p>
         <i class="fa fa-info-circle"></i>
         {% blocktrans %}
@@ -51,15 +51,15 @@
         {% endblocktrans %}
       </p>
     </div>
-    <div class="col-sm-4 col-md-3" data-bind="if: hasLinkedRoles">
-      <p class="pull-right">
+    <div class="col-md-4 col-lg-3" data-bind="if: hasLinkedRoles">
+      <p class="float-end">
         <!-- ko if: allowEdit -->
         <span data-bind="ifnot: unlockLinkedRoles">
           <button
             type="button"
-            class="btn btn-default"
-            data-toggle="modal"
-            data-target="#modal_linked_roles"
+            class="btn btn-outline-primary"
+            data-bs-toggle="modal"
+            data-bs-target="#modal_linked_roles"
           >
             <i class="fa fa-link"></i>
             {% trans 'Unlock Linked Roles For Me' %}
@@ -68,7 +68,7 @@
         <span data-bind="if: unlockLinkedRoles">
           <button
             type="button"
-            class="btn btn-default"
+            class="btn btn-outline-primary"
             data-bind="click: toggleLinkedRoles"
           >
             <i class="fa fa-link"></i>
@@ -86,8 +86,7 @@
           class="hq-help-template"
           data-placement="left"
           data-title="{% trans 'Linked Configurations' %}"
-          data-content="
-              {% blocktrans %}
+          data-content="{% blocktrans %}
             Linked configurations are controlled from a separate, linked project
             space.
             <a
@@ -125,11 +124,11 @@
     </div>
   {% endif %}
 
-  <div class="panel panel-default ko-template" id="user-roles-table">
-    <div class="panel-heading">
-      <h3 class="panel-title">{% trans 'Roles' %}</h3>
+  <div class="card  ko-template" id="user-roles-table">
+    <div class="card-header">
+      <h3 class="card-title">{% trans 'Roles' %}</h3>
     </div>
-    <div class="panel-body">
+    <div class="card-body">
       <table class="table table-striped table-responsive">
         <thead>
           <tr>
@@ -179,95 +178,95 @@
             <td class="text-center">
               <div
                 data-bind="visible: permissions.access_all_locations,
-                                            permissionIcon: {
-                                              edit: permissions.edit_web_users,
-                                              view: permissions.view_web_users
-                                            }"
+                           permissionIcon: {
+                             edit: permissions.edit_web_users,
+                             view: permissions.view_web_users
+                           }"
               ></div>
             </td>
             <td class="text-center">
               <div
                 data-bind="permissionIcon: {
-                                              edit: permissions.edit_commcare_users,
-                                              view: permissions.view_commcare_users
-                                            }"
+                             edit: permissions.edit_commcare_users,
+                             view: permissions.view_commcare_users
+                           }"
               ></div>
             </td>
             <td class="text-center">
               <div
                 data-bind="visible: permissions.access_all_locations,
-                                            permissionIcon: {
-                                              edit: permissions.edit_groups,
-                                              view: permissions.view_groups
-                                            }"
+                          permissionIcon: {
+                            edit: permissions.edit_groups,
+                            view: permissions.view_groups
+                          }"
               ></div>
             </td>
             <td class="text-center">
               <div
                 data-bind="permissionIcon: {
-                                              edit: permissions.edit_locations,
-                                              view: permissions.view_locations
-                                            }"
+                             edit: permissions.edit_locations,
+                             view: permissions.view_locations
+                           }"
               ></div>
             </td>
             {% if request|request_has_privilege:"DATA_DICTIONARY" %}
               <td class="text-center">
                 <div
                   data-bind="visible: permissions.access_all_locations,
-                                              permissionIcon: {
-                                                edit: permissions.edit_data_dict,
-                                                view: permissions.view_data_dict
-                                              }"
+                             permissionIcon: {
+                               edit: permissions.edit_data_dict,
+                               view: permissions.view_data_dict
+                             }"
                 ></div>
               </td>
             {% endif %}
             <td class="text-center">
               <div
                 data-bind="permissionIcon: {
-                                              edit: permissions.edit_data
-                                            }"
+                             edit: permissions.edit_data
+                           }"
               ></div>
             </td>
             {% if request|request_has_privilege:"EXPORT_OWNERSHIP" %}
               <td class="text-center">
                 <div
                   data-bind="permissionIcon: {
-                                                edit: permissions.edit_shared_exports
-                                              }"
+                               edit: permissions.edit_shared_exports
+                             }"
                 ></div>
               </td>
             {% endif %}
             <td class="text-center">
               <div
                 data-bind="visible: permissions.access_all_locations,
-                                            permissionIcon: {
-                                              edit: permissions.edit_apps,
-                                              view: permissions.view_apps,
-                                            }"
+                           permissionIcon: {
+                             edit: permissions.edit_apps,
+                             view: permissions.view_apps,
+                           }"
               ></div>
             </td>
             <td class="text-center">
               <div
                 data-bind="permissionIcon: {
-                                              edit: permissions.edit_messaging,
-                                            }"
+                             edit: permissions.edit_messaging,
+                           }"
               ></div>
             </td>
             {% if show_integration %}
               <td class="text-center">
                 <div
                   data-bind="permissionIcon: {
-                                                  manage: permissions.edit_motech
-                                                }"
+                               manage: permissions.edit_motech
+                             }"
                 ></div>
               </td>
             {% endif %}
             <td class="text-center">
               <div
                 data-bind="visible: reportPermissions.all(),
-                                            permissionIcon: {
-                                                manage: true
-                                            }"
+                             permissionIcon: {
+                                 manage: true
+                             }"
               ></div>
               <div
                 data-bind="visible: !reportPermissions.all() && reportPermissions.filteredSpecific().length"
@@ -275,7 +274,7 @@
                 <strong>{% trans "Only" %}</strong><br />
                 <span data-bind="foreach: reportPermissions.specific">
                   <span
-                    class="label label-default"
+                    class="badge text-bg-secondary"
                     data-bind="text: name, visible: value"
                   ></span
                   ><br data-bind="visible: value" />
@@ -285,9 +284,9 @@
             <td class="text-center">
               <div
                 data-bind="visible: permissions.access_all_locations,
-                                            permissionIcon: {
-                                              manage: permissions.edit_billing
-                                            }"
+                           permissionIcon: {
+                             manage: permissions.edit_billing
+                           }"
               ></div>
             </td>
             {% if request|toggle_enabled:"DATA_REGISTRY" %}
@@ -303,7 +302,7 @@
                     data-bind="foreach: manageRegistryPermission.filteredSpecific"
                   >
                     <span
-                      class="label label-default"
+                      class="badge text-bg-secondary"
                       data-bind="text: name"
                     ></span
                     ><br />
@@ -321,7 +320,7 @@
                     data-bind="foreach: viewRegistryContentsPermission.filteredSpecific"
                   >
                     <span
-                      class="label label-default"
+                      class="badge text-bg-secondary"
                       data-bind="text: name"
                     ></span
                     ><br />
@@ -333,15 +332,15 @@
               <td class="text-center">
                 <div
                   data-bind="visible: permissions.manage_attendance_tracking,
-                                        permissionIcon: {
-                                          manage: permissions.manage_attendance_tracking,
-                                        }"
+                             permissionIcon: {
+                               manage: permissions.manage_attendance_tracking,
+                             }"
                 ></div>
               </td>
             {% endif %}
             <td>
               <button
-                class="btn btn-default"
+                class="btn btn-outline-primary"
                 data-bind="visible: $data._id, click: $data._id ? $root.setRoleBeingEdited : null"
               >
                 <span
@@ -357,8 +356,16 @@
                   {% trans "View Role" %}
                 </span>
               </button>
+              <a data-bind="attr: { href: $data.editUrl }">
+                <button class="btn btn-default">
+                  <span>
+                    <i class="fa fa-edit"></i>
+                    {% trans "Edit Role View" %}
+                  </span>
+                </button>
+              </a>
               <button
-                class="btn btn-danger"
+                class="btn btn-outline-danger"
                 data-bind="visible: $data._id && !$data.preventRoleDelete && $root.allowEdit && isEditable,
                 click: $data._id ? $root.setRoleBeingDeleted : null"
               >
@@ -378,25 +385,29 @@
       </table>
       {% if can_edit_roles %}
         <button
-          class="btn btn-default"
+          class="btn btn-outline-primary"
           data-bind="click: function () {$root.setRoleBeingEdited($root.defaultRole)}"
         >
           <i class="fa fa-plus"></i>
           {% trans "Add Role" %}
         </button>
-        <div data-bind="modal: roleBeingDeleted" tabindex="-1" role="dialog">
+        <div
+          data-bind="modal: roleBeingDeleted"
+          tabindex="-1"
+          role="dialog"
+          class="modal fade"
+        >
           <div data-bind="with: roleBeingDeleted" class="modal-dialog">
             <div class="modal-content">
               <div class="modal-header">
+                <h4 class="modal-title" data-bind="text: modalTitle"></h4>
                 <button
                   type="button"
-                  class="close"
+                  class="btn-close"
                   data-bind="click: $root.unsetRoleBeingDeleted"
                 >
-                  <span aria-hidden="true">&times;</span>
                   <span class="sr-only">{% trans "Close" %}</span>
                 </button>
-                <h4 class="modal-title" data-bind="text: modalTitle"></h4>
               </div>
               <div class="modal-body">
                 <h4 data-bind="text: modalConfirmation"></h4>
@@ -404,7 +415,7 @@
               <div class="modal-footer">
                 <button
                   type="button"
-                  class="btn btn-default"
+                  class="btn btn-outline-primary"
                   data-bind="click: $root.unsetRoleBeingDeleted"
                 >
                   {% trans "Cancel" %}
@@ -417,12 +428,12 @@
           </div>
         </div>
       {% endif %}
-      {% include 'users/partials/bootstrap3/edit_role_modal.html' %}
+      {% include 'users/partials/bootstrap5/edit_role_modal.html' %}
     </div>
   </div>
 {% endblock %}
 
 {% block modals %}
   {{ block.super }}
-  {% include 'users/partials/bootstrap3/linked_roles_modal.html' %}
+  {% include 'users/partials/bootstrap5/linked_roles_modal.html' %}
 {% endblock %}
