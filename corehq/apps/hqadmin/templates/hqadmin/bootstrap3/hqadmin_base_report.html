{% extends "style/bootstrap3/two_column.html" %}
{% load hq_shared_tags %}
{% load i18n %}

{% block title %}{{ report.title }}: Admin Reports{% endblock %}

{% block js %}{{ block.super }}
    <script type="text/javascript" src="{% static 'reports/javascripts/config.dataTables.bootstrap.js' %}"></script>
    <script type="text/javascript" src="{% static 'reports/javascripts/datepicker.js' %}"></script>
{% endblock %}

{% block js-inline %} {{ block.super }}
    <script type="text/javascript">
        {% if aoColumns %}
        $(function() {
                var reportTables = new HQReportDataTables({
                    {% if aoColumns %}aoColumns: {{ aoColumns|JSON }}{% endif %},
                    useBootstrap3: true,
                    paginationType: 'bs_normal'
                });
                reportTables.render();
        });
        {% endif %}
    </script>
{% endblock %}

{% block page_breadcrumbs %}
    <ol id="hq-breadcrumbs" class="breadcrumb breadcrumb-hq-section">
        <li>
            <a href="{% url "default_admin_report" %}"><strong>{% trans "Admin Reports" %}</strong></a>
        </li>
        <li class="active">{{ report.title }}</li>
    </ol>
{% endblock %}

{% block pre_page_content %}
    {% if report.is_exportable or report.is_emailable or report.is_printable %}
    <div class="report-actions">
        {% if report.is_exportable %}
            <a href="#" class="btn btn-default{% if report.needs_filters %} hide{% endif %}" id="export-report-excel">
                <i class="fa fa-share"></i> {% trans "Export to Excel" %}
            </a>
        {% endif %}

        {% if report.is_emailable %}
            <a href="#email-report-modal" class="btn{% if report.needs_filters %} hide{% endif %}" data-toggle="modal" id="email-report">
                <i class="fa fa-envelope"></i> {% trans "Email report" %}
            </a>
        {% endif %}

        {% if report.is_printable %}
            <a href="#" class="btn{% if report.needs_filters %} hide{% endif %}" id="print-report">
                <i class="fa fa-print"></i> {% trans "Print" %}
            </a>
        {% endif %}
    </div>
    {% endif %}
{% endblock %}

{% block page_content %}
    {% if not hide_filters %}
        {% include "hqadmin/bootstrap3/hqadmin_base_filters.html" %}
    {% endif %}
    <div id="report-content">
        {% block reportcontent %}{% endblock %}
     </div>
{% endblock %}
