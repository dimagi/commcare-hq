"use strict";(self.webpackChunkvellum=self.webpackChunkvellum||[]).push([[985],{8985:(t,e,n)=>{n.r(e);var s=n(8324),u=n.n(s),o=n(7512),i=n.n(o);const d=u().assert;describe("The UndoStack",(function(){it("undo should return null if nothing is on the undo stack",(function(){(new(i().UndoStack)).undo((t=>{d.isNull(t)}))})),it("undo should return null if only one item is on the undo stack",(function(){const t=new(i().UndoStack);t.push("test",!1),t.undo((t=>{d.isNull(t)}))})),it("Trying to undo the first item should not take it off the stack",(function(){const t=new(i().UndoStack);t.push("test",!1),t.undo((t=>{d.isNull(t)})),t.push("test2",!1),t.undo((t=>{d.equal(t,"test")}))})),it("undo should return the previous item if at least two items are on the undo stack",(function(){const t=new(i().UndoStack);t.push("test1",!1),t.push("test2",!1),t.undo((t=>{d.equal(t,"test1")}))})),it("redo should return null if nothing has been pushed",(function(){(new(i().UndoStack)).redo((t=>{d.isNull(t)}))})),it("redo should return null if nothing has been undone",(function(){const t=new(i().UndoStack);t.push("test1",!1),t.push("test2",!1),t.redo((t=>{d.isNull(t)}))})),it("redo after undo should return the last pushed item",(function(){const t=new(i().UndoStack);t.push("test1",!1),t.push("test2",!1),t.undo((t=>{d.equal(t,"test1")})),t.redo((t=>{d.equal(t,"test2")}))})),it("undo after redo should return same item as first undo",(function(){const t=new(i().UndoStack);t.push("test1",!1),t.push("test2",!1),t.undo((t=>{d.equal(t,"test1")})),t.redo((t=>{d.equal(t,"test2")})),t.undo((t=>{d.equal(t,"test1")}))})),it("push after undo empties redo stack",(function(){const t=new(i().UndoStack);t.push("test1",!1),t.push("test2",!1),t.undo((t=>{d.equal(t,"test1")})),t.push("test1",!1),t.redo((t=>{d.isNull(t)}))})),it("cannot push during undo",(function(){const t=new(i().UndoStack);t.push("test1",!1),t.push("test2",!1),t.undo((e=>{d.equal(e,"test1"),d.isFalse(t.push("test3"))})),t.undo((t=>{d.isNull(t)}))})),it("pushing twice in fast succession only keeps the last one",(function(){const t=new(i().UndoStack);t.push("test1a",!0),t.push("test1b",!0),t.push("test2",!1),t.undo((t=>{d.equal(t,"test1b")})),t.undo((t=>{d.isNull(t)}))})),it("pushing twice with pause keeps both items",(function(){const t=new(i().UndoStack);t.push("test1a",!0),setTimeout((()=>{t.push("test1b",!0),t.push("test2",!1),t.undo((t=>{d.equal(t,"test1b")})),t.undo((t=>{d.equal(t,"test1a")}))}),550)}))}))}}]);