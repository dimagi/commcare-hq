(self.webpackChunkvellum=self.webpackChunkvellum||[]).push([[483],{46999:t=>{function e(t,e){t&&(this.encoding=t),e&&(this.version=e)}!function(){e.prototype={encoding:"ISO-8859-1",version:"1.0",formatting:"indented",indentChar:"\t",indentation:1,newLine:"\n",writeStartDocument:function(t){this.close(),this.stack=[],this.standalone=t},writeEndDocument:function(){this.active=this.root,this.stack=[]},writeDocType:function(t){this.doctype=t},writeStartElement:function(t,e){e&&(t=e+":"+t);var i={n:t,a:{},c:[]};this.active?(this.active.c.push(i),this.stack.push(this.active)):this.root=i,this.active=i},deleteEndElement:function(){this.stack.pop(),this.active.c.pop()},writeEndElement:function(){this.active=this.stack.pop()||this.root},writeAttributeString:function(e,i){this.active&&(this.active.a[e]=String(i).replace(/[&<>"\n\r\t]/g,(function(e){return t[e]})))},writeRawAttributeString:function(t,e){this.active&&(this.active.a[t]=e)},writeString:function(e){this.active&&this.active.c.push(e.replace(/[&<>"]/g,(function(e){return t[e]})))},writeXML:function(t){this.active&&this.active.c.push(t)},writeElementString:function(t,e,i){this.writeStartElement(t,i),this.writeString(e),this.writeEndElement()},writeCDATA:function(t){t=t.replace(/>>]/g,"]]><![CDATA[>"),this.writeString("<![CDATA["+t+"]]>")},writeComment:function(t){this.writeString("\x3c!-- "+t+" --\x3e")},flush:function(){this.stack&&this.stack[0]&&this.writeEndDocument();var t="",e=this.indentation,i="indented"==this.formatting.toLowerCase(),r='<?xml version="'+this.version+'" encoding="'+this.encoding+'"';if(void 0!==this.standalone&&(r+=' standalone="'+(this.standalone?"yes":"no")+'" '),r=[r+=" ?>"],this.doctype&&this.root&&r.push("<!DOCTYPE "+this.root.n+" "+this.doctype+">"),i)for(;e--;)t+=this.indentChar;return this.root&&n(this.root,"",t,r),r.join(i?this.newLine:"")},close:function(){this.root&&i(this.root),this.active=this.root=this.stack=null},getDocument:window.ActiveXObject?function(){var t=new ActiveXObject("Microsoft.XMLDOM");return t.async=!1,t.loadXML(this.flush()),t}:function(){return(new DOMParser).parseFromString(this.flush(),"text/xml")}};var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","\t":"&#9;","\n":"&#10;","\r":"&#13;"};function i(t){for(var e=t.c.length;e--;)"object"==typeof t.c[e]&&i(t.c[e]);t.n=t.a=t.c=null}function n(t,e,i,r){var o,a,s=e+"<"+t.n,l=t.c.length,u=0;for(o in t.a)s+=" "+o+'="'+t.a[o]+'"';if(s+=l?">":" />",r.push(s),l){do{if("string"==typeof(a=t.c[u++])){if(1==l)return r.push(r.pop()+a+"</"+t.n+">");r.push(e+i+a)}else"object"==typeof a&&n(a,e+i,i,r)}while(u<l);r.push(e+"</"+t.n+">")}}}(),t.exports=e},31307:(t,e,i)=>{var n,r;n=[i(43809),i(94459)],void 0===(r=function(t,e){return{generateExportTSV:function(i){var n=i.vellum.data.javaRosa.Itext.getLanguages(),r={default:"Text",audio:"Audio",image:"Image",video:"Video","video-inline":"Video Inline"},o=["Question","Type"];for(var a in r)for(var s=r[a],l=0;l<n.length;l++)o.push(s+" ("+n[l]+")");o=o.concat(["Display Condition","Validation Condition","Validation Message","Calculate Condition","Required","Hint Text","Help Text","Comment"]);const u=Boolean(i.getMugList().find((t=>t.options.isRepeat)));u&&i.vellum.opts().features.use_custom_repeat_button_text&&(o=o.concat(["'Add New' Button Text","'Add Another' Button Text"]));var c=[o].concat(i.getMugList().map((function(t){var a,s={},l=t.p.labelItext,c=i.vellum.data.javaRosa.Itext.getDefaultLanguage(),m=function(t,e,i){return t&&t.hasForm(i)?t.getForm(i).getValueOrDefault(e):""};for(a=0;a<o.length;a++)s[o[a]]="";if("item"!==t.options.tagName?s.Question=t.absolutePathNoRoot:s.Question=t.parentMug.absolutePathNoRoot+"-"+t.p.nodeID,s.Type=t.options.typeName,!t.options.isDataOnly)for(var p in r){var w=r[p];for(a=0;a<n.length;a++){var h=w+" ("+n[a]+")";s[h]=m(l,n[a],p)}}for(var d in t.p.getDefinition("relevantAttr")&&(s["Display Condition"]=t.p.relevantAttr,s["Calculate Condition"]=t.p.calculateAttr,s.Required=t.p.requiredAttr?"yes":"no",s["Required Condition"]=t.p.requiredCondition,s["Validation Condition"]=t.p.constraintAttr,s["Validation Message"]=m(t.p.constraintMsgItext,c,"default")),s["Hint Text"]=m(t.p.hintItext,c,"default"),s["Help Text"]=m(t.p.helpItext,c,"default"),u&&t.options.customRepeatButtonText&&(s["'Add New' Button Text"]=m(t.p.addEmptyCaptionItext,c,"default"),s["'Add Another' Button Text"]=m(t.p.addCaptionItext,c,"default")),s.Comment=e.sanitizeInput(t.p.comment),s)s.hasOwnProperty(d)&&(s[d]=s[d]||"");return o.map((function(t){return s[t]}))})));return t.tabDelimit(c)}}}.apply(e,n))||(t.exports=r)},85081:(t,e,i)=>{var n,r;n=[i(10561),i(13946),i(46999),i(98094)],void 0===(r=function(t,e,i,n){var r=function(t,e){var i=e.attributes;for(var n in i)i.hasOwnProperty(n)&&i[n]&&t.writeAttributeString(n,i[n])};return{createXForm:function(o,a){var s=new i("UTF-8","1.0");o.vellum.beforeSerialize(),s.writeStartDocument(),s.writeStartElement("h:html"),function(t,e){t.writeAttributeString("xmlns:h","http://www.w3.org/1999/xhtml"),t.writeAttributeString("xmlns:orx","http://openrosa.org/jr/xforms"),t.writeAttributeString("xmlns","http://www.w3.org/2002/xforms"),t.writeAttributeString("xmlns:xsd","http://www.w3.org/2001/XMLSchema"),t.writeAttributeString("xmlns:jr","http://openrosa.org/javarosa"),t.writeAttributeString("xmlns:vellum","http://commcarehq.org/xforms/vellum");var i=[];e.mayDisableRichText&&!e.richText&&i.push("richText"),e.noMarkdown&&i.push("markdown"),i.length&&t.writeAttributeString("vellum:ignore",i.join(" "))}(s,o),s.writeStartElement("h:head"),s.writeStartElement("h:title"),s.writeString(o.formName),s.writeEndElement(),s.writeStartElement("model"),s.writeStartElement("instance"),r(s,o.instanceMetadata[0]);var l,u,c=o.dataTree();(function(t,e,i){e.walk((function(e,r,o){if(!e||!e.options.getTagName||null!==(r=e.options.getTagName(e,r))){if(i.writeStartElement(r),e){var a=e.p.rawDataAttributes,s=null;for(var l in e.options.getExtraDataAttributes&&(s=e.options.getExtraDataAttributes(e)),a)a.hasOwnProperty(l)&&i.writeAttributeString(l,a[l]);var u=e.p.dataValue,c=e.p.xmlnsAttr;if(u&&i.writeString(u),e.options.writeDataNodeXML&&e.options.writeDataNodeXML(i,e),e.p.comment&&i.writeAttributeString("vellum:comment",e.p.comment),c&&i.writeAttributeString("xmlns",c),s)for(l in s)s.hasOwnProperty(l)&&i.writeAttributeString(l,s[l])}else!function(t,e){var i,r;(r=t.formJRM)||(r="http://dev.commcarehq.org/jr/xforms"),(i=t.formUuid)||(i="http://openrosa.org/formdesigner/"+n.generate_xmlns_uuid()),e.writeAttributeString("xmlns:jrm",r),e.writeAttributeString("xmlns",i),e.writeAttributeString("uiVersion",t.formUIVersion||"1"),e.writeAttributeString("version",t.formVersion||"1"),e.writeAttributeString("name",t.formName||gettext("New Form"))}(t,i);o(e&&e.options.dataChildFilter),i.writeEndElement()}}))})(o,c,s),s.writeEndElement();for(var m=1;m<o.instanceMetadata.length;m++)l=s,(u=o.instanceMetadata[m]).internal||(l.writeStartElement("instance"),r(l,u),u.children.length&&l.writeXML(t("<div>").append(u.children).clone().html()),l.writeEndElement());(function(t,i){t.walk((function(t,r,o){t&&t.options.getBindList&&e.each(t.options.getBindList(t),(function(r){i.writeStartElement("bind"),e.each(r,(function(e,r){e&&n.writeHashtags(i,r,e,t)})),i.writeEndElement()})),o()}))})(c,s),function(t,i,r){function o(t,e){r.writeStartElement("setvalue"),r.writeAttributeString("event",t.event),n.writeHashtags(r,"ref",t.ref,e),n.writeHashtags(r,"value",t.value,e),r.writeEndElement()}e.each(i.getSetValues(),(function(t){o(t,{form:i})})),t.walk((function(t,i,n){t&&t.options.getSetValues&&e.each(t.options.getSetValues(t),(function(e){o(e,t)})),n()}))}(c,o,s),o.vellum.contributeToModelXML(s,o),s.writeEndElement();var p=o.knownExternalReferences();o.richText&&!e.isEmpty(p)&&(s.writeStartElement("vellum:hashtags"),s.writeString(JSON.stringify(p)),s.writeEndElement());var w=o.knownHashtagTransforms();return o.richText&&!e.isEmpty(p)&&(s.writeStartElement("vellum:hashtagTransforms"),s.writeString(JSON.stringify(w)),s.writeEndElement()),o.vellum.contributeToHeadXML(s,o),s.writeEndElement(),s.writeStartElement("h:body"),function(t,e){t.tree.walk((function(t,i,r){if(t){var o=t.options;if(!o.isDataOnly)if(o.writesOnlyCustomXML)o.writeCustomXML(e,t);else{e.writeStartElement(t.options.tagName.toLowerCase()),o.writeControlLabel&&function(t,e){var i,n=e.p.labelItext;n&&n.id&&(i="jr:itext('"+n.id+"')",n.isEmpty()&&"optional"===e.getPresence("labelItext")&&(i="")),(i||e.p.label)&&(t.writeStartElement("label"),i&&t.writeAttributeString("ref",i),e.p.label&&t.writeString(e.p.label),t.writeEndElement())}(e,t),o.writeControlHint&&function(t,e){var i=e.p.hintLabel,n=e.p.hintItext;if(i||n&&!n.isEmpty()){if(t.writeStartElement("hint"),i&&t.writeString(i),n&&!n.isEmpty()){var r="jr:itext('"+n.id+"')";t.writeAttributeString("ref",r)}t.writeEndElement()}}(e,t),o.writeControlHelp&&function(t,e){var i=e.p.helpItext;if(i&&!i.isEmpty()){t.writeStartElement("help");var n="jr:itext('"+i.id+"')";t.writeAttributeString("ref",n),t.writeEndElement()}}(e,t),o.writeControlAlert&&function(t,e){var i=e.p.constraintMsgItext;if(i&&!i.isEmpty()){t.writeStartElement("alert");var n="jr:itext('"+i.id+"')";t.writeAttributeString("ref",n),t.writeEndElement()}}(e,t),o.writeRepeatItexts&&function(t,e){var i=e.p.addEmptyCaptionItext;if(i&&!i.isEmpty()){t.writeStartElement("jr:addEmptyCaption");var n="jr:itext('"+i.id+"')";t.writeAttributeString("ref",n),t.writeEndElement()}var r=e.p.addCaptionItext;if(r&&!r.isEmpty()){t.writeStartElement("jr:addCaption");var o="jr:itext('"+r.id+"')";t.writeAttributeString("ref",o),t.writeEndElement()}}(e,t);var a=t.p.rawControlAttributes;for(var s in a)a.hasOwnProperty(s)&&e.writeAttributeString(s,a[s]);if(o.writeCustomXML&&o.writeCustomXML(e,t),o.writeControlRefAttr){var l=t.hashtagPath;n.writeHashtags(e,o.writeControlRefAttr,l,t)}var u=t.getAppearanceAttribute();u&&e.writeAttributeString("appearance",u),r(o.controlChildFilter),e.writeEndElement()}}else r()}))}(o,s),s.writeEndElement(),a&&o.vellum.contributeToAdditionalXML(s,o),s.writeEndElement(),s.writeEndDocument(),o.vellum.afterSerialize(),s.flush()}}}.apply(e,n))||(t.exports=r)}}]);