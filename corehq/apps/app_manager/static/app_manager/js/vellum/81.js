(self.webpackChunkvellum=self.webpackChunkvellum||[]).push([[81],{6999:t=>{function e(t,e){t&&(this.encoding=t),e&&(this.version=e)}!function(){e.prototype={encoding:"ISO-8859-1",version:"1.0",formatting:"indented",indentChar:"\t",indentation:1,newLine:"\n",writeStartDocument:function(t){this.close(),this.stack=[],this.standalone=t},writeEndDocument:function(){this.active=this.root,this.stack=[]},writeDocType:function(t){this.doctype=t},writeStartElement:function(t,e){e&&(t=e+":"+t);var i={n:t,a:{},c:[]};this.active?(this.active.c.push(i),this.stack.push(this.active)):this.root=i,this.active=i},deleteEndElement:function(){this.stack.pop(),this.active.c.pop()},writeEndElement:function(){this.active=this.stack.pop()||this.root},writeAttributeString:function(e,i){this.active&&(this.active.a[e]=String(i).replace(/[&<>"\n\r\t]/g,(function(e){return t[e]})))},writeRawAttributeString:function(t,e){this.active&&(this.active.a[t]=e)},writeString:function(e){this.active&&this.active.c.push(e.replace(/[&<>"]/g,(function(e){return t[e]})))},writeXML:function(t){this.active&&this.active.c.push(t)},writeElementString:function(t,e,i){this.writeStartElement(t,i),this.writeString(e),this.writeEndElement()},writeCDATA:function(t){t=t.replace(/>>]/g,"]]><![CDATA[>"),this.writeString("<![CDATA["+t+"]]>")},writeComment:function(t){this.writeString("\x3c!-- "+t+" --\x3e")},flush:function(){this.stack&&this.stack[0]&&this.writeEndDocument();var t="",e=this.indentation,i="indented"==this.formatting.toLowerCase(),n='<?xml version="'+this.version+'" encoding="'+this.encoding+'"';if(void 0!==this.standalone&&(n+=' standalone="'+(this.standalone?"yes":"no")+'" '),n=[n+=" ?>"],this.doctype&&this.root&&n.push("<!DOCTYPE "+this.root.n+" "+this.doctype+">"),i)for(;e--;)t+=this.indentChar;return this.root&&r(this.root,"",t,n),n.join(i?this.newLine:"")},close:function(){this.root&&i(this.root),this.active=this.root=this.stack=null},getDocument:window.ActiveXObject?function(){var t=new ActiveXObject("Microsoft.XMLDOM");return t.async=!1,t.loadXML(this.flush()),t}:function(){return(new DOMParser).parseFromString(this.flush(),"text/xml")}};var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","\t":"&#9;","\n":"&#10;","\r":"&#13;"};function i(t){for(var e=t.c.length;e--;)"object"==typeof t.c[e]&&i(t.c[e]);t.n=t.a=t.c=null}function r(t,e,i,n){var a,o,s=e+"<"+t.n,l=t.c.length,u=0;for(a in t.a)s+=" "+a+'="'+t.a[a]+'"';if(s+=l?">":" />",n.push(s),l){do{if("string"==typeof(o=t.c[u++])){if(1==l)return n.push(n.pop()+o+"</"+t.n+">");n.push(e+i+o)}else"object"==typeof o&&r(o,e+i,i,n)}while(u<l);n.push(e+"</"+t.n+">")}}}(),t.exports=e},5081:(t,e,i)=>{var r,n;r=[i(561),i(3946),i(6999),i(8094)],void 0===(n=function(t,e,i,r){var n=function(t,e){var i=e.attributes;for(var r in i)i.hasOwnProperty(r)&&i[r]&&t.writeAttributeString(r,i[r])};return{createXForm:function(a,o){var s=new i("UTF-8","1.0");a.vellum.beforeSerialize(),s.writeStartDocument(),s.writeStartElement("h:html"),function(t,e){t.writeAttributeString("xmlns:h","http://www.w3.org/1999/xhtml"),t.writeAttributeString("xmlns:orx","http://openrosa.org/jr/xforms"),t.writeAttributeString("xmlns","http://www.w3.org/2002/xforms"),t.writeAttributeString("xmlns:xsd","http://www.w3.org/2001/XMLSchema"),t.writeAttributeString("xmlns:jr","http://openrosa.org/javarosa"),t.writeAttributeString("xmlns:vellum","http://commcarehq.org/xforms/vellum");var i=[];e.mayDisableRichText&&!e.richText&&i.push("richText"),e.noMarkdown&&i.push("markdown"),i.length&&t.writeAttributeString("vellum:ignore",i.join(" "))}(s,a),s.writeStartElement("h:head"),s.writeStartElement("h:title"),s.writeString(a.formName),s.writeEndElement(),s.writeStartElement("model"),s.writeStartElement("instance"),n(s,a.instanceMetadata[0]);var l,u,w=a.dataTree();(function(t,e,i){e.walk((function(e,n,a){if(!e||!e.options.getTagName||null!==(n=e.options.getTagName(e,n))){if(i.writeStartElement(n),e){var o=e.p.rawDataAttributes,s=null;for(var l in e.options.getExtraDataAttributes&&(s=e.options.getExtraDataAttributes(e)),o)o.hasOwnProperty(l)&&i.writeAttributeString(l,o[l]);var u=e.p.dataValue,w=e.p.xmlnsAttr;if(u&&i.writeString(u),e.options.writeDataNodeXML&&e.options.writeDataNodeXML(i,e),e.p.comment&&i.writeAttributeString("vellum:comment",e.p.comment),w&&i.writeAttributeString("xmlns",w),s)for(l in s)s.hasOwnProperty(l)&&i.writeAttributeString(l,s[l])}else!function(t,e){var i,n;(n=t.formJRM)||(n="http://dev.commcarehq.org/jr/xforms"),(i=t.formUuid)||(i="http://openrosa.org/formdesigner/"+r.generate_xmlns_uuid()),e.writeAttributeString("xmlns:jrm",n),e.writeAttributeString("xmlns",i),e.writeAttributeString("uiVersion",t.formUIVersion||"1"),e.writeAttributeString("version",t.formVersion||"1"),e.writeAttributeString("name",t.formName||gettext("New Form"))}(t,i);a(e&&e.options.dataChildFilter),i.writeEndElement()}}))})(a,w,s),s.writeEndElement();for(var c=1;c<a.instanceMetadata.length;c++)l=s,(u=a.instanceMetadata[c]).internal||(l.writeStartElement("instance"),n(l,u),u.children.length&&l.writeXML(t("<div>").append(u.children).clone().html()),l.writeEndElement());(function(t,i){t.walk((function(t,n,a){t&&t.options.getBindList&&e.each(t.options.getBindList(t),(function(n){i.writeStartElement("bind"),e.each(n,(function(e,n){e&&r.writeHashtags(i,n,e,t)})),i.writeEndElement()})),a()}))})(w,s),function(t,i,n){function a(t,e){n.writeStartElement("setvalue"),n.writeAttributeString("event",t.event),r.writeHashtags(n,"ref",t.ref,e),r.writeHashtags(n,"value",t.value,e),n.writeEndElement()}e.each(i.getSetValues(),(function(t){a(t,{form:i})})),t.walk((function(t,i,r){t&&t.options.getSetValues&&e.each(t.options.getSetValues(t),(function(e){a(e,t)})),r()}))}(w,a,s),a.vellum.contributeToModelXML(s,a),s.writeEndElement();var h=a.knownExternalReferences();a.richText&&!e.isEmpty(h)&&(s.writeStartElement("vellum:hashtags"),s.writeString(JSON.stringify(h)),s.writeEndElement());var m=a.knownHashtagTransforms();return a.richText&&!e.isEmpty(h)&&(s.writeStartElement("vellum:hashtagTransforms"),s.writeString(JSON.stringify(m)),s.writeEndElement()),a.vellum.contributeToHeadXML(s,a),s.writeEndElement(),s.writeStartElement("h:body"),function(t,e){t.tree.walk((function(t,i,n){if(t){var a=t.options;if(!a.isDataOnly)if(a.writesOnlyCustomXML)a.writeCustomXML(e,t);else{e.writeStartElement(t.options.tagName.toLowerCase()),a.writeControlLabel&&function(t,e){var i,r=e.p.labelItext;r&&r.id&&(i="jr:itext('"+r.id+"')",r.isEmpty()&&"optional"===e.getPresence("labelItext")&&(i="")),(i||e.p.label)&&(t.writeStartElement("label"),i&&t.writeAttributeString("ref",i),e.p.label&&t.writeString(e.p.label),t.writeEndElement())}(e,t),a.writeControlHint&&function(t,e){var i=e.p.hintLabel,r=e.p.hintItext;if(i||r&&!r.isEmpty()){if(t.writeStartElement("hint"),i&&t.writeString(i),r&&!r.isEmpty()){var n="jr:itext('"+r.id+"')";t.writeAttributeString("ref",n)}t.writeEndElement()}}(e,t),a.writeControlHelp&&function(t,e){var i=e.p.helpItext;if(i&&!i.isEmpty()){t.writeStartElement("help");var r="jr:itext('"+i.id+"')";t.writeAttributeString("ref",r),t.writeEndElement()}}(e,t),a.writeControlAlert&&function(t,e){var i=e.p.constraintMsgItext;if(i&&!i.isEmpty()){t.writeStartElement("alert");var r="jr:itext('"+i.id+"')";t.writeAttributeString("ref",r),t.writeEndElement()}}(e,t),a.writeRepeatItexts&&function(t,e){var i=e.p.addEmptyCaptionItext;if(i&&!i.isEmpty()){t.writeStartElement("jr:addEmptyCaption");var r="jr:itext('"+i.id+"')";t.writeAttributeString("ref",r),t.writeEndElement()}var n=e.p.addCaptionItext;if(n&&!n.isEmpty()){t.writeStartElement("jr:addCaption");var a="jr:itext('"+n.id+"')";t.writeAttributeString("ref",a),t.writeEndElement()}}(e,t);var o=t.p.rawControlAttributes;for(var s in o)o.hasOwnProperty(s)&&e.writeAttributeString(s,o[s]);if(a.writeCustomXML&&a.writeCustomXML(e,t),a.writeControlRefAttr){var l=t.hashtagPath;r.writeHashtags(e,a.writeControlRefAttr,l,t)}var u=t.getAppearanceAttribute();u&&e.writeAttributeString("appearance",u),n(a.controlChildFilter),e.writeEndElement()}}else n()}))}(a,s),s.writeEndElement(),o&&a.vellum.contributeToAdditionalXML(s,a),s.writeEndElement(),s.writeEndDocument(),a.vellum.afterSerialize(),s.flush()}}}.apply(e,r))||(t.exports=n)}}]);