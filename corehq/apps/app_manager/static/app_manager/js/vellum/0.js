(self.webpackChunkvellum=self.webpackChunkvellum||[]).push([[0],{3417:t=>{var e,n,a;window.CKEDITOR&&window.CKEDITOR.dom||(window.CKEDITOR||(window.CKEDITOR=function(){var t=/(^|.*[\\\/])ckeditor\.js(?:\?.*|;.*)?$/i,e={timestamp:"N2U9",version:"4.21.0 DEV",revision:"5d9709a2f5",rnd:Math.floor(900*Math.random())+100,_:{pending:[],basePathSrcPattern:t},status:"unloaded",basePath:function(){var e=window.CKEDITOR_BASEPATH||"";if(!e)for(var n=document.getElementsByTagName("script"),a=0;a<n.length;a++){var o=n[a].src.match(t);if(o){e=o[1];break}}if(-1==e.indexOf(":/")&&"//"!=e.slice(0,2)&&(e=0===e.indexOf("/")?location.href.match(/^.*?:\/\/[^\/]*/)[0]+e:location.href.match(/^[^\?]*\/(?:)/)[0]+e),!e)throw'The CKEditor installation path could not be automatically detected. Please set the global variable "CKEDITOR_BASEPATH" before creating editor instances.';return e}(),getUrl:function(t){return-1==t.indexOf(":/")&&0!==t.indexOf("/")&&(t=this.basePath+t),this.appendTimestamp(t)},appendTimestamp:function(t){if(!this.timestamp||"/"===t.charAt(t.length-1)||/[&?]t=/.test(t))return t;var e=0<=t.indexOf("?")?"&":"?";return t+e+"t="+this.timestamp},domReady:function(){function t(){try{document.addEventListener?(document.removeEventListener("DOMContentLoaded",t,!1),window.removeEventListener("load",t,!1),e()):document.attachEvent&&"complete"===document.readyState&&(document.detachEvent("onreadystatechange",t),window.detachEvent("onload",t),e())}catch(t){}}function e(){for(var t;t=n.shift();)t()}var n=[];return function(e){if(n.push(e),"complete"===document.readyState&&setTimeout(t,1),1==n.length)if(document.addEventListener)document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1);else if(document.attachEvent){document.attachEvent("onreadystatechange",t),window.attachEvent("onload",t),e=!1;try{e=!window.frameElement}catch(t){}document.documentElement.doScroll&&e&&function e(){try{document.documentElement.doScroll("left")}catch(t){return void setTimeout(e,1)}t()}()}}}()},n=window.CKEDITOR_GETURL;if(n){var a=e.getUrl;e.getUrl=function(t){return n.call(e,t)||a.call(e,t)}}return e}()),a={},CKEDITOR.event||(CKEDITOR.event=function(){},CKEDITOR.event.implementOn=function(t){var e,n=CKEDITOR.event.prototype;for(e in n)null==t[e]&&(t[e]=n[e])},CKEDITOR.event.prototype=function(){function t(t){var a=e(this);return a[t]||(a[t]=new n(t))}var e=function(t){return(t=t.getPrivate&&t.getPrivate()||t._||(t._={})).events||(t.events={})},n=function(t){this.name=t,this.listeners=[]};return n.prototype={getListenerIndex:function(t){for(var e=0,n=this.listeners;e<n.length;e++)if(n[e].fn==t)return e;return-1}},{define:function(e,n){var a=t.call(this,e);CKEDITOR.tools.extend(a,n,!0)},on:function(e,n,o,i,r){function s(t,r,s,d){return t={name:e,sender:this,editor:t,data:r,listenerData:i,stop:s,cancel:d,removeListener:l},!1===n.call(o,t)?a:t.data}function l(){d.removeListener(e,n)}var d=this,u=t.call(this,e);if(0>u.getListenerIndex(n)){u=u.listeners,o||(o=this),isNaN(r)&&(r=10),s.fn=n,s.priority=r;for(var c=u.length-1;0<=c;c--)if(u[c].priority<=r)return u.splice(c+1,0,s),{removeListener:l};u.unshift(s)}return{removeListener:l}},once:function(){var t=Array.prototype.slice.call(arguments),e=t[1];return t[1]=function(t){return t.removeListener(),e.apply(this,arguments)},this.on.apply(this,t)},capture:function(){CKEDITOR.event.useCapture=1;var t=this.on.apply(this,arguments);return CKEDITOR.event.useCapture=0,t},fire:function(){var t=0,n=function(){t=1},o=0,i=function(){o=1};return function(r,s,l){var d=e(this)[r];r=t;var u=o;if(t=o=0,d&&(m=d.listeners).length)for(var c,m=m.slice(0),h=0;h<m.length;h++){if(d.errorProof)try{c=m[h].call(this,l,s,n,i)}catch(t){}else c=m[h].call(this,l,s,n,i);if(c===a?o=1:void 0!==c&&(s=c),t||o)break}return s=!o&&(void 0===s||s),t=r,o=u,s}}(),fireOnce:function(t,n,a){return n=this.fire(t,n,a),delete e(this)[t],n},removeListener:function(t,n){var a=e(this)[t];if(a){var o=a.getListenerIndex(n);0<=o&&a.listeners.splice(o,1)}},removeAllListeners:function(){var t,n=e(this);for(t in n)delete n[t]},hasListeners:function(t){return(t=e(this)[t])&&0<t.listeners.length}}}()),CKEDITOR.editor||(CKEDITOR.editor=function(){CKEDITOR._.pending.push([this,arguments]),CKEDITOR.event.call(this)},CKEDITOR.editor.prototype.fire=function(t,e){return t in{instanceReady:1,loaded:1}&&(this[t]=!0),CKEDITOR.event.prototype.fire.call(this,t,e,this)},CKEDITOR.editor.prototype.fireOnce=function(t,e){return t in{instanceReady:1,loaded:1}&&(this[t]=!0),CKEDITOR.event.prototype.fireOnce.call(this,t,e,this)},CKEDITOR.event.implementOn(CKEDITOR.editor.prototype)),CKEDITOR.env||(CKEDITOR.env=function(){var t=navigator.userAgent.toLowerCase(),e=t.match(/edge[ \/](\d+.?\d*)/),n=-1<t.indexOf("trident/");(n={ie:n=!(!e&&!n),edge:!!e,webkit:!n&&-1<t.indexOf(" applewebkit/"),air:-1<t.indexOf(" adobeair/"),mac:-1<t.indexOf("macintosh"),quirks:"BackCompat"==document.compatMode&&(!document.documentMode||10>document.documentMode),mobile:-1<t.indexOf("mobile"),iOS:/(ipad|iphone|ipod)/.test(t),isCustomDomain:function(){if(!this.ie)return!1;var t=document.domain,e=window.location.hostname;return t!=e&&t!="["+e+"]"},secure:"https:"==location.protocol}).gecko="Gecko"==navigator.product&&!n.webkit&&!n.ie,n.webkit&&(-1<t.indexOf("chrome")?n.chrome=!0:n.safari=!0);var a=0;return n.ie&&(a=e?parseFloat(e[1]):n.quirks||!document.documentMode?parseFloat(t.match(/msie (\d+)/)[1]):document.documentMode,n.ie9Compat=9==a,n.ie8Compat=8==a,n.ie7Compat=7==a,n.ie6Compat=7>a||n.quirks),n.gecko&&(e=t.match(/rv:([\d\.]+)/))&&(a=1e4*(e=e[1].split("."))[0]+100*(e[1]||0)+1*(e[2]||0)),n.air&&(a=parseFloat(t.match(/ adobeair\/(\d+)/)[1])),n.webkit&&(a=parseFloat(t.match(/ applewebkit\/(\d+)/)[1])),n.version=a,n.isCompatible=!(n.ie&&7>a||n.gecko&&4e4>a||n.webkit&&534>a),n.hidpi=2<=window.devicePixelRatio,n.needsBrFiller=n.gecko||n.webkit||n.ie&&10<a,n.needsNbspFiller=n.ie&&11>a,n.cssClass="cke_browser_"+(n.ie?"ie":n.gecko?"gecko":n.webkit?"webkit":"unknown"),n.quirks&&(n.cssClass+=" cke_browser_quirks"),n.ie&&(n.cssClass+=" cke_browser_ie"+(n.quirks?"6 cke_browser_iequirks":n.version)),n.air&&(n.cssClass+=" cke_browser_air"),n.iOS&&(n.cssClass+=" cke_browser_ios"),n.hidpi&&(n.cssClass+=" cke_hidpi"),n}()),"unloaded"==CKEDITOR.status&&(CKEDITOR.event.implementOn(CKEDITOR),CKEDITOR.loadFullCore=function(){if("basic_ready"!=CKEDITOR.status)CKEDITOR.loadFullCore._load=1;else{delete CKEDITOR.loadFullCore;var t=document.createElement("script");t.type="text/javascript",t.src=CKEDITOR.basePath+"ckeditor.js",document.getElementsByTagName("head")[0].appendChild(t)}},CKEDITOR.loadFullCoreTimeout=0,CKEDITOR.add=function(t){(this._.pending||(this._.pending=[])).push(t)},CKEDITOR.domReady((function(){var t=CKEDITOR.loadFullCore,e=CKEDITOR.loadFullCoreTimeout;t&&(CKEDITOR.status="basic_ready",t&&t._load?t():e&&setTimeout((function(){CKEDITOR.loadFullCore&&CKEDITOR.loadFullCore()}),1e3*e))})),CKEDITOR.status="basic_loaded"),CKEDITOR.VERBOSITY_WARN=1,CKEDITOR.VERBOSITY_ERROR=2,CKEDITOR.verbosity=CKEDITOR.VERBOSITY_WARN|CKEDITOR.VERBOSITY_ERROR,CKEDITOR.warn=function(t,e){CKEDITOR.verbosity&CKEDITOR.VERBOSITY_WARN&&CKEDITOR.fire("log",{type:"warn",errorCode:t,additionalData:e})},CKEDITOR.error=function(t,e){CKEDITOR.verbosity&CKEDITOR.VERBOSITY_ERROR&&CKEDITOR.fire("log",{type:"error",errorCode:t,additionalData:e})},CKEDITOR.on("log",(function(t){if(window.console&&window.console.log){var e=console[t.data.type]?t.data.type:"log",n=t.data.errorCode;(t=t.data.additionalData)?console[e]("[CKEDITOR] Error code: "+n+".",t):console[e]("[CKEDITOR] Error code: "+n+"."),console[e]("[CKEDITOR] For more information about this error go to https://ckeditor.com/docs/ckeditor4/latest/guide/dev_errors.html#"+n)}}),null,null,999),CKEDITOR.dom={},function(){function t(t,e,n){this._minInterval=t,this._context=n,this._lastOutput=this._scheduledTimer=0,this._output=CKEDITOR.tools.bind(e,n||{});var a=this;this.input=function(){function t(){a._lastOutput=(new Date).getTime(),a._scheduledTimer=0,a._call()}if(!a._scheduledTimer||!1!==a._reschedule()){var e=(new Date).getTime()-a._lastOutput;e<a._minInterval?a._scheduledTimer=setTimeout(t,a._minInterval-e):t()}}}function e(e,n,a){t.call(this,e,n,a),this._args=[];var o=this;this.input=CKEDITOR.tools.override(this.input,(function(t){return function(){o._args=Array.prototype.slice.call(arguments),t.call(this)}}))}var n=[],a=CKEDITOR.env.gecko?"-moz-":CKEDITOR.env.webkit?"-webkit-":CKEDITOR.env.ie?"-ms-":"",o=/&/g,i=/>/g,r=/</g,s=/"/g,l=/&(lt|gt|amp|quot|nbsp|shy|#\d{1,5});/g,d={lt:"<",gt:">",amp:"&",quot:'"',nbsp:" ",shy:"­"},u=function(t,e){return"#"==e[0]?String.fromCharCode(parseInt(e.slice(1),10)):d[e]};CKEDITOR.on("reset",(function(){n=[]})),CKEDITOR.tools={arrayCompare:function(t,e){if(!t&&!e)return!0;if(!t||!e||t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!=e[n])return!1;return!0},getIndex:function(t,e){for(var n=0;n<t.length;++n)if(e(t[n]))return n;return-1},clone:function(t){var e;if(t&&t instanceof Array){e=[];for(var n=0;n<t.length;n++)e[n]=CKEDITOR.tools.clone(t[n]);return e}if(null===t||"object"!=typeof t||t instanceof String||t instanceof Number||t instanceof Boolean||t instanceof Date||t instanceof RegExp||t.nodeType||t.window===t)return t;for(n in e=new t.constructor,t)e[n]=CKEDITOR.tools.clone(t[n]);return e},capitalize:function(t,e){return t.charAt(0).toUpperCase()+(e?t.slice(1):t.slice(1).toLowerCase())},extend:function(t){var e,n,a=arguments.length;"boolean"==typeof(e=arguments[a-1])?a--:"boolean"==typeof(e=arguments[a-2])&&(n=arguments[a-1],a-=2);for(var o=1;o<a;o++){var i=arguments[o]||{};CKEDITOR.tools.array.forEach(CKEDITOR.tools.object.keys(i),(function(a){!0!==e&&null!=t[a]||n&&!(a in n)||(t[a]=i[a])}))}return t},prototypedCopy:function(t){var e=function(){};return e.prototype=t,new e},copy:function(t){var e,n={};for(e in t)n[e]=t[e];return n},isArray:function(t){return"[object Array]"==Object.prototype.toString.call(t)},isEmpty:function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},cssVendorPrefix:function(t,e,n){return n?a+t+":"+e+";"+t+":"+e:((n={})[t]=e,n[a+t]=e,n)},cssStyleToDomStyle:function(){var t=document.createElement("div").style,e=void 0!==t.cssFloat?"cssFloat":void 0!==t.styleFloat?"styleFloat":"float";return function(t){return"float"==t?e:t.replace(/-./g,(function(t){return t.substr(1).toUpperCase()}))}}(),buildStyleHtml:function(t){t=[].concat(t);for(var e,n=[],a=0;a<t.length;a++)(e=t[a])&&(/@import|[{}]/.test(e)?n.push("<style>"+e+"</style>"):(e=CKEDITOR.appendTimestamp(e),n.push('<link type="text/css" rel=stylesheet href="'+e+'">')));return n.join("")},htmlEncode:function(t){return null==t?"":String(t).replace(o,"&amp;").replace(i,"&gt;").replace(r,"&lt;")},htmlDecode:function(t){return t.replace(l,u)},htmlEncodeAttr:function(t){return CKEDITOR.tools.htmlEncode(t).replace(s,"&quot;")},htmlDecodeAttr:function(t){return CKEDITOR.tools.htmlDecode(t)},transformPlainTextToHtml:function(t,e){var n=e==CKEDITOR.ENTER_BR,a=(a=this.htmlEncode(t.replace(/\r\n/g,"\n"))).replace(/\t/g,"&nbsp;&nbsp; &nbsp;"),o=e==CKEDITOR.ENTER_P?"p":"div";if(!n){var i=/\n{2}/g;if(i.test(a)){var r="<"+o+">",s="</"+o+">";a=r+a.replace(i,(function(){return s+r}))+s}}return a=a.replace(/\n/g,"<br>"),n||(a=a.replace(new RegExp("<br>(?=</"+o+">)"),(function(t){return CKEDITOR.tools.repeat(t,2)}))),(a=a.replace(/^ | $/g,"&nbsp;")).replace(/(>|\s) /g,(function(t,e){return e+"&nbsp;"})).replace(/ (?=<)/g,"&nbsp;")},getNextNumber:function(){var t=0;return function(){return++t}}(),getNextId:function(){return"cke_"+this.getNextNumber()},getUniqueId:function(){for(var t="e",e=0;8>e;e++)t+=Math.floor(65536*(1+Math.random())).toString(16).substring(1);return t},override:function(t,e){var n=e(t);return n.prototype=t.prototype,n},setTimeout:function(t,e,n,a,o){return o||(o=window),n||(n=o),o.setTimeout((function(){a?t.apply(n,[].concat(a)):t.apply(n)}),e||0)},debounce:function(t,e){var n;return function(){var a=this,o=arguments;clearTimeout(n),n=setTimeout((function(){n=null,t.apply(a,o)}),e)}},throttle:function(t,e,n){return new this.buffers.throttle(t,e,n)},trim:function(){var t=/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g;return function(e){return e.replace(t,"")}}(),ltrim:function(){var t=/^[ \t\n\r]+/g;return function(e){return e.replace(t,"")}}(),rtrim:function(){var t=/[ \t\n\r]+$/g;return function(e){return e.replace(t,"")}}(),indexOf:function(t,e){if("function"==typeof e){for(var n=0,a=t.length;n<a;n++)if(e(t[n]))return n}else{if(t.indexOf)return t.indexOf(e);for(n=0,a=t.length;n<a;n++)if(t[n]===e)return n}return-1},search:function(t,e){var n=CKEDITOR.tools.indexOf(t,e);return 0<=n?t[n]:null},bind:function(t,e){var n=Array.prototype.slice.call(arguments,2);return function(){return t.apply(e,n.concat(Array.prototype.slice.call(arguments)))}},createClass:function(t){var e=t.$,n=t.base,a=t.privates||t._,o=t.proto;if(t=t.statics,!e&&(e=function(){n&&this.base.apply(this,arguments)}),a){var i=e;e=function(){var t,e=this._||(this._={});for(t in a){var n=a[t];e[t]="function"==typeof n?CKEDITOR.tools.bind(n,this):n}i.apply(this,arguments)}}return n&&(e.prototype=this.prototypedCopy(n.prototype),e.prototype.constructor=e,e.base=n,e.baseProto=n.prototype,e.prototype.base=function t(){this.base=n.prototype.base,n.apply(this,arguments),this.base=t}),o&&this.extend(e.prototype,o,!0),t&&this.extend(e,t,!0),e},addFunction:function(t,e){return n.push((function(){return t.apply(e||this,arguments)}))-1},removeFunction:function(t){n[t]=null},callFunction:function(t){var e=n[t];return e&&e.apply(window,Array.prototype.slice.call(arguments,1))},cssLength:function(){var t,e=/^-?\d+\.?\d*px$/;return function(n){return t=CKEDITOR.tools.trim(n+"")+"px",e.test(t)?t:n||""}}(),convertToPx:function(){var t,e;return function(n){if(t&&!t.isDetached()||(t=CKEDITOR.dom.element.createFromHtml('<div style="position:absolute;left:-9999px;top:-9999px;margin:0px;padding:0px;border:0px;"></div>',CKEDITOR.document),CKEDITOR.document.getBody().append(t)),!/%$/.test(n)){var a=0>parseFloat(n);return a&&(n=n.replace("-","")),t.setStyle("width",n),e=t.getClientRect(),n=Math.round(e.width),a?-n:n}return n}}(),repeat:function(t,e){return Array(e+1).join(t)},tryThese:function(){for(var t,e=0,n=arguments.length;e<n;e++){var a=arguments[e];try{t=a();break}catch(t){}}return t},genKey:function(){return Array.prototype.slice.call(arguments).join("-")},defer:function(t){return function(){var e=arguments,n=this;window.setTimeout((function(){t.apply(n,e)}),0)}},normalizeCssText:function(t,e){var n,a=[],o=CKEDITOR.tools.parseCssText(t,!0,e);for(n in o)a.push(n+":"+o[n]);return a.sort(),a.length?a.join(";")+";":""},convertRgbToHex:function(t){return t.replace(/(?:rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\))/gi,(function(t,e,n,a){for(t=[e,n,a],e=0;3>e;e++)t[e]=("0"+parseInt(t[e],10).toString(16)).slice(-2);return"#"+t.join("")}))},normalizeHex:function(t){return t.replace(/#(([0-9a-f]{3}){1,2})($|;|\s+)/gi,(function(t,e,n,a){return 3==(t=e.toLowerCase()).length&&(t=[(t=t.split(""))[0],t[0],t[1],t[1],t[2],t[2]].join("")),"#"+t+a}))},_isValidColorFormat:function(t){return!!t&&(t=t.replace(/\s+/g,""),/^[a-z0-9()#%,./]+$/i.test(t))},parseCssText:function(t,e,n){var a={};return n&&(t=new CKEDITOR.dom.element("span").setAttribute("style",t).getAttribute("style")||""),t&&(t=CKEDITOR.tools.normalizeHex(CKEDITOR.tools.convertRgbToHex(t))),t&&";"!=t?(t.replace(/&quot;/g,'"').replace(/\s*([^:;\s]+)\s*:\s*([^;]+)\s*(?=;|$)/g,(function(t,n,o){e&&("font-family"==(n=n.toLowerCase())&&(o=o.replace(/\s*,\s*/g,",")),o=CKEDITOR.tools.trim(o)),a[n]=o})),a):a},writeCssText:function(t,e){var n,a=[];for(n in t)a.push(n+":"+t[n]);return e&&a.sort(),a.join("; ")},objectCompare:function(t,e,n){var a;if(!t&&!e)return!0;if(!t||!e)return!1;for(a in t)if(t[a]!=e[a])return!1;if(!n)for(a in e)if(t[a]!=e[a])return!1;return!0},objectKeys:function(t){return CKEDITOR.tools.object.keys(t)},convertArrayToObject:function(t,e){var n={};1==arguments.length&&(e=!0);for(var a=0,o=t.length;a<o;++a)n[t[a]]=e;return n},getStyledSpans:function(t,e){var n=CKEDITOR.env.ie&&8==CKEDITOR.env.version?t.toUpperCase():t;return n=e.find("span[style*="+n+"]").toArray(),CKEDITOR.tools.array.filter(n,(function(e){return!!e.getStyle(t)}))},fixDomain:function(){for(var t;;)try{t=window.parent.document.domain;break}catch(e){if(!(t=t?t.replace(/.+?(?:\.|$)/,""):document.domain))break;document.domain=t}return!!t},eventsBuffer:function(t,e,n){return new this.buffers.event(t,e,n)},enableHtml5Elements:function(t,e){for(var n,a="abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup main mark meter nav output progress section summary time video".split(" "),o=a.length;o--;)n=t.createElement(a[o]),e&&t.appendChild(n)},checkIfAnyArrayItemMatches:function(t,e){for(var n=0,a=t.length;n<a;++n)if(t[n].match(e))return!0;return!1},checkIfAnyObjectPropertyMatches:function(t,e){for(var n in t)if(n.match(e))return!0;return!1},keystrokeToString:function(t,e){var n=this.keystrokeToArray(t,e);return n.display=n.display.join("+"),n.aria=n.aria.join("+"),n},keystrokeToArray:function(t,e){var n=16711680&e,a=65535&e,o=CKEDITOR.env.mac,i=[],r=[];return n&CKEDITOR.CTRL&&(i.push(o?"⌘":t[17]),r.push(o?t[224]:t[17])),n&CKEDITOR.ALT&&(i.push(o?"⌥":t[18]),r.push(t[18])),n&CKEDITOR.SHIFT&&(i.push(o?"⇧":t[16]),r.push(t[16])),a&&(t[a]?(i.push(t[a]),r.push(t[a])):(i.push(String.fromCharCode(a)),r.push(String.fromCharCode(a)))),{display:i,aria:r}},transparentImageData:"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==",getCookie:function(t){t=t.toLowerCase();for(var e,n=document.cookie.split(";"),a=0;a<n.length;a++)if(e=n[a].split("="),decodeURIComponent(CKEDITOR.tools.trim(e[0]).toLowerCase())===t)return decodeURIComponent(1<e.length?e[1]:"");return null},setCookie:function(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)+";path=/"},getCsrfToken:function(){if(!(t=CKEDITOR.tools.getCookie("ckCsrfToken"))||40!=t.length){var t=[],e="";if(window.crypto&&window.crypto.getRandomValues)t=new Uint8Array(40),window.crypto.getRandomValues(t);else for(var n=0;40>n;n++)t.push(Math.floor(256*Math.random()));for(n=0;n<t.length;n++){var a="abcdefghijklmnopqrstuvwxyz0123456789".charAt(t[n]%36);e+=.5<Math.random()?a.toUpperCase():a}t=e,CKEDITOR.tools.setCookie("ckCsrfToken",t)}return t},escapeCss:function(t){if(t)if(window.CSS&&CSS.escape)t=CSS.escape(t);else{for(var e,n=(t=String(t)).length,a=-1,o="",i=t.charCodeAt(0);++a<n;)o=0==(e=t.charCodeAt(a))?o+"�":127==e||1<=e&&31>=e||0==a&&48<=e&&57>=e||1==a&&48<=e&&57>=e&&45==i?o+"\\"+e.toString(16)+" ":0==a&&1==n&&45==e?o+"\\"+t.charAt(a):128<=e||45==e||95==e||48<=e&&57>=e||65<=e&&90>=e||97<=e&&122>=e?o+t.charAt(a):o+"\\"+t.charAt(a);t=o}else t="";return t},getMouseButton:function(t){return!!(t=t&&t.data?t.data.$:t)&&CKEDITOR.tools.normalizeMouseButton(t.button)},normalizeMouseButton:function(t,e){if(!CKEDITOR.env.ie||9<=CKEDITOR.env.version&&!CKEDITOR.env.ie6Compat)return t;for(var n=[[CKEDITOR.MOUSE_BUTTON_LEFT,1],[CKEDITOR.MOUSE_BUTTON_MIDDLE,4],[CKEDITOR.MOUSE_BUTTON_RIGHT,2]],a=0;a<n.length;a++){var o=n[a];if(o[0]===t&&e)return o[1];if(!e&&o[1]===t)return o[0]}},convertHexStringToBytes:function(t){var e,n=[],a=t.length/2;for(e=0;e<a;e++)n.push(parseInt(t.substr(2*e,2),16));return n},convertBytesToBase64:function(t){var e,n="",a=t.length;for(e=0;e<a;e+=3){var o,i=t.slice(e,e+3),r=i.length,s=[];if(3>r)for(o=r;3>o;o++)i[o]=0;for(s[0]=(252&i[0])>>2,s[1]=(3&i[0])<<4|i[1]>>4,s[2]=(15&i[1])<<2|(192&i[2])>>6,s[3]=63&i[2],o=0;4>o;o++)n=o<=r?n+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(s[o]):n+"="}return n},style:{parse:{_borderStyle:"none hidden dotted dashed solid double groove ridge inset outset".split(" "),_widthRegExp:/^(thin|medium|thick|[\+-]?\d+(\.\d+)?[a-z%]+|[\+-]?0+(\.0+)?|\.\d+[a-z%]+)$/,_rgbaRegExp:/rgba?\(\s*\d+%?\s*,\s*\d+%?\s*,\s*\d+%?\s*(?:,\s*[0-9.]+\s*)?\)/gi,_hslaRegExp:/hsla?\(\s*[0-9.]+\s*,\s*\d+%\s*,\s*\d+%\s*(?:,\s*[0-9.]+\s*)?\)/gi,background:function(t){var e={},n=this._findColor(t);return n.length&&(e.color=n[0],CKEDITOR.tools.array.forEach(n,(function(e){t=t.replace(e,"")}))),(t=CKEDITOR.tools.trim(t))&&(e.unprocessed=t),e},margin:function(t){return CKEDITOR.tools.style.parse.sideShorthand(t,(function(t){return t.match(/(?:\-?[\.\d]+(?:%|\w*)|auto|inherit|initial|unset|revert)/g)||["0px"]}))},sideShorthand:function(t,e){function n(t){a.top=o[t[0]],a.right=o[t[1]],a.bottom=o[t[2]],a.left=o[t[3]]}var a={},o=e?e(t):t.split(/\s+/);switch(o.length){case 1:n([0,0,0,0]);break;case 2:n([0,1,0,1]);break;case 3:n([0,1,2,1]);break;case 4:n([0,1,2,3])}return a},border:function(t){return CKEDITOR.tools.style.border.fromCssRule(t)},_findColor:function(t){var e=[],n=CKEDITOR.tools.array;return(e=(e=e.concat(t.match(this._rgbaRegExp)||[])).concat(t.match(this._hslaRegExp)||[])).concat(n.filter(t.split(/\s+/),(function(t){return!!t.match(/^\#[a-f0-9]{3}(?:[a-f0-9]{3})?$/gi)||t.toLowerCase()in CKEDITOR.tools.style.parse._colors})))}}},array:{filter:function(t,e,n){var a=[];return this.forEach(t,(function(o,i){e.call(n,o,i,t)&&a.push(o)})),a},find:function(t,e,n){for(var a=t.length,o=0;o<a;){if(e.call(n,t[o],o,t))return t[o];o++}},forEach:function(t,e,n){var a,o=t.length;for(a=0;a<o;a++)e.call(n,t[a],a,t)},map:function(t,e,n){for(var a=[],o=0;o<t.length;o++)a.push(e.call(n,t[o],o,t));return a},reduce:function(t,e,n,a){for(var o=0;o<t.length;o++)n=e.call(a,n,t[o],o,t);return n},every:function(t,e,n){return!t.length||(e=this.filter(t,e,n),t.length===e.length)},some:function(t,e,n){for(var a=0;a<t.length;a++)if(e.call(n,t[a],a,t))return!0;return!1},zip:function(t,e){return CKEDITOR.tools.array.map(t,(function(t,n){return[t,e[n]]}))},unique:function(t){return this.filter(t,(function(e,n){return n===CKEDITOR.tools.array.indexOf(t,e)}))}},object:{DONT_ENUMS:"toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor".split(" "),entries:function(t){return CKEDITOR.tools.array.map(CKEDITOR.tools.object.keys(t),(function(e){return[e,t[e]]}))},values:function(t){return CKEDITOR.tools.array.map(CKEDITOR.tools.object.keys(t),(function(e){return t[e]}))},keys:function(t){var e=Object.prototype.hasOwnProperty,n=[],a=CKEDITOR.tools.object.DONT_ENUMS;if(CKEDITOR.env.ie&&9>CKEDITOR.env.version&&(!t||"object"!=typeof t)){if(e=[],"string"==typeof t)for(n=0;n<t.length;n++)e.push(String(n));return e}for(var o in t)n.push(o);if(CKEDITOR.env.ie&&9>CKEDITOR.env.version)for(o=0;o<a.length;o++)e.call(t,a[o])&&n.push(a[o]);return n},findKey:function(t,e){if("object"!=typeof t)return null;for(var n in t)if(t[n]===e)return n;return null},merge:function(t,e){var n=CKEDITOR.tools,a=n.clone(t),o=n.clone(e);return n.array.forEach(n.object.keys(o),(function(t){a[t]="object"==typeof o[t]&&"object"==typeof a[t]?n.object.merge(a[t],o[t]):o[t]})),a}},getAbsoluteRectPosition:function(t,e){var n=CKEDITOR.tools.copy(e);!function t(e){if(e){var a=e.getClientRect();n.top+=a.top,n.left+=a.left,"x"in n&&"y"in n&&(n.x+=a.x,n.y+=a.y),t(e.getWindow().getFrame())}}(t.getFrame());var a=CKEDITOR.document.getWindow().getScrollPosition();return n.top+=a.y,n.left+=a.x,"x"in n&&"y"in n&&(n.y+=a.y,n.x+=a.x),n.right=n.left+n.width,n.bottom=n.top+n.height,n}},t.prototype={reset:function(){this._lastOutput=0,this._clearTimer()},_reschedule:function(){return!1},_call:function(){this._output()},_clearTimer:function(){this._scheduledTimer&&clearTimeout(this._scheduledTimer),this._scheduledTimer=0}},e.prototype=CKEDITOR.tools.prototypedCopy(t.prototype),e.prototype._reschedule=function(){this._scheduledTimer&&this._clearTimer()},e.prototype._call=function(){this._output.apply(this._context,this._args)},CKEDITOR.tools.buffers={},CKEDITOR.tools.buffers.event=t,CKEDITOR.tools.buffers.throttle=e,CKEDITOR.tools.style.border=CKEDITOR.tools.createClass({$:function(t){t=t||{},this.width=t.width,this.style=t.style,this.color=t.color,this._.normalize()},_:{normalizeMap:{color:[[/windowtext/g,"black"]]},normalize:function(){for(var t in this._.normalizeMap){var e=this[t];e&&(this[t]=CKEDITOR.tools.array.reduce(this._.normalizeMap[t],(function(t,e){return t.replace(e[0],e[1])}),e))}}},proto:{toString:function(){return CKEDITOR.tools.array.filter([this.width,this.style,this.color],(function(t){return!!t})).join(" ")}},statics:{fromCssRule:function(t){var e={},n=t.split(/\s+/g);return(t=CKEDITOR.tools.style.parse._findColor(t)).length&&(e.color=t[0]),CKEDITOR.tools.array.forEach(n,(function(t){e.style||-1===CKEDITOR.tools.indexOf(CKEDITOR.tools.style.parse._borderStyle,t)?!e.width&&CKEDITOR.tools.style.parse._widthRegExp.test(t)&&(e.width=t):e.style=t})),new CKEDITOR.tools.style.border(e)},splitCssValues:function(t,e){e=e||{};var n=CKEDITOR.tools.array.reduce(["width","style","color"],(function(n,a){var o=t["border-"+a]||e[a];return n[a]=o?CKEDITOR.tools.style.parse.sideShorthand(o):null,n}),{});return CKEDITOR.tools.array.reduce(["top","right","bottom","left"],(function(e,a){var o,i={};for(o in n){var r=t["border-"+a+"-"+o];i[o]=r||n[o]&&n[o][a]}return e["border-"+a]=new CKEDITOR.tools.style.border(i),e}),{})}}}),CKEDITOR.tools.array.indexOf=CKEDITOR.tools.indexOf,CKEDITOR.tools.array.isArray=CKEDITOR.tools.isArray,CKEDITOR.MOUSE_BUTTON_LEFT=0,CKEDITOR.MOUSE_BUTTON_MIDDLE=1,CKEDITOR.MOUSE_BUTTON_RIGHT=2}(),CKEDITOR.dtd=function(){var t=CKEDITOR.tools.extend,e=function(t,e){for(var n=CKEDITOR.tools.clone(t),a=1;a<arguments.length;a++)for(var o in e=arguments[a])delete n[o];return n},n={},a={},o={address:1,article:1,aside:1,blockquote:1,details:1,div:1,dl:1,fieldset:1,figure:1,footer:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,header:1,hgroup:1,hr:1,main:1,menu:1,nav:1,ol:1,p:1,pre:1,section:1,table:1,ul:1},i={command:1,link:1,meta:1,noscript:1,script:1,style:1},r={},s={"#":1},l={center:1,dir:1,noframes:1};return t(n,{a:1,abbr:1,area:1,audio:1,b:1,bdi:1,bdo:1,br:1,button:1,canvas:1,cite:1,code:1,command:1,datalist:1,del:1,dfn:1,em:1,embed:1,i:1,iframe:1,img:1,input:1,ins:1,kbd:1,keygen:1,label:1,map:1,mark:1,meter:1,noscript:1,object:1,output:1,progress:1,q:1,ruby:1,s:1,samp:1,script:1,select:1,small:1,span:1,strong:1,sub:1,sup:1,textarea:1,time:1,u:1,var:1,video:1,wbr:1},s,{acronym:1,applet:1,basefont:1,big:1,font:1,isindex:1,strike:1,style:1,tt:1}),t(a,o,n,l),e={a:e(n,{a:1,button:1}),abbr:n,address:a,area:r,article:a,aside:a,audio:t({source:1,track:1},a),b:n,base:r,bdi:n,bdo:n,blockquote:a,body:a,br:r,button:e(n,{a:1,button:1}),canvas:n,caption:a,cite:n,code:n,col:r,colgroup:{col:1},command:r,datalist:t({option:1},n),dd:a,del:n,details:t({summary:1},a),dfn:n,div:a,dl:{dt:1,dd:1},dt:a,em:n,embed:r,fieldset:t({legend:1},a),figcaption:a,figure:t({figcaption:1},a),footer:a,form:a,h1:n,h2:n,h3:n,h4:n,h5:n,h6:n,head:t({title:1,base:1},i),header:a,hgroup:{h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},hr:r,html:t({head:1,body:1},a,i),i:n,iframe:s,img:r,input:r,ins:n,kbd:n,keygen:r,label:n,legend:n,li:a,link:r,main:a,map:a,mark:n,menu:t({li:1},a),meta:r,meter:e(n,{meter:1}),nav:a,noscript:t({link:1,meta:1,style:1},n),object:t({param:1},n),ol:{li:1},optgroup:{option:1},option:s,output:n,p:n,param:r,pre:n,progress:e(n,{progress:1}),q:n,rp:n,rt:n,ruby:t({rp:1,rt:1},n),s:n,samp:n,script:s,section:a,select:{optgroup:1,option:1},small:n,source:r,span:n,strong:n,style:s,sub:n,summary:t({h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},n),sup:n,table:{caption:1,colgroup:1,thead:1,tfoot:1,tbody:1,tr:1},tbody:{tr:1},td:a,textarea:s,tfoot:{tr:1},th:a,thead:{tr:1},time:e(n,{time:1}),title:s,tr:{th:1,td:1},track:r,u:n,ul:{li:1},var:n,video:t({source:1,track:1},a),wbr:r,acronym:n,applet:t({param:1},a),basefont:r,big:n,center:a,dialog:r,dir:{li:1},font:n,isindex:r,noframes:a,strike:n,tt:n},t(e,{$block:t({audio:1,dd:1,dt:1,figcaption:1,li:1,video:1},o,l),$blockLimit:{article:1,aside:1,audio:1,body:1,caption:1,details:1,dir:1,div:1,dl:1,fieldset:1,figcaption:1,figure:1,footer:1,form:1,header:1,hgroup:1,main:1,menu:1,nav:1,ol:1,section:1,table:1,td:1,th:1,tr:1,ul:1,video:1},$cdata:{script:1,style:1},$editable:{address:1,article:1,aside:1,blockquote:1,body:1,details:1,div:1,fieldset:1,figcaption:1,footer:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,header:1,hgroup:1,main:1,nav:1,p:1,pre:1,section:1},$empty:{area:1,base:1,basefont:1,br:1,col:1,command:1,dialog:1,embed:1,hr:1,img:1,input:1,isindex:1,keygen:1,link:1,meta:1,param:1,source:1,track:1,wbr:1},$inline:n,$list:{dl:1,ol:1,ul:1},$listItem:{dd:1,dt:1,li:1},$nonBodyContent:t({body:1,head:1,html:1},e.head),$nonEditable:{applet:1,audio:1,button:1,embed:1,iframe:1,map:1,object:1,option:1,param:1,script:1,textarea:1,video:1},$object:{applet:1,audio:1,button:1,hr:1,iframe:1,img:1,input:1,object:1,select:1,table:1,textarea:1,video:1},$removeEmpty:{abbr:1,acronym:1,b:1,bdi:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,mark:1,meter:1,output:1,q:1,ruby:1,s:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,time:1,tt:1,u:1,var:1},$tabIndex:{a:1,area:1,button:1,input:1,object:1,select:1,textarea:1},$tableContent:{caption:1,col:1,colgroup:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1},$transparent:{a:1,audio:1,canvas:1,del:1,ins:1,map:1,noscript:1,object:1,video:1},$intermediate:{caption:1,colgroup:1,dd:1,dt:1,figcaption:1,legend:1,li:1,optgroup:1,option:1,rp:1,rt:1,summary:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1}}),e}(),CKEDITOR.dom.event=function(t){this.$=t},CKEDITOR.dom.event.prototype={getKey:function(){return this.$.keyCode||this.$.which},getKeystroke:function(){var t=this.getKey();return(this.$.ctrlKey||this.$.metaKey)&&(t+=CKEDITOR.CTRL),this.$.shiftKey&&(t+=CKEDITOR.SHIFT),this.$.altKey&&(t+=CKEDITOR.ALT),t},preventDefault:function(t){var e=this.$;e.preventDefault?e.preventDefault():e.returnValue=!1,t&&this.stopPropagation()},stopPropagation:function(){var t=this.$;t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},getTarget:function(){var t=this.$.target||this.$.srcElement;return t?new CKEDITOR.dom.node(t):null},getPhase:function(){return this.$.eventPhase||2},getPageOffset:function(){var t=this.getTarget().getDocument().$;return{x:this.$.pageX||this.$.clientX+(t.documentElement.scrollLeft||t.body.scrollLeft),y:this.$.pageY||this.$.clientY+(t.documentElement.scrollTop||t.body.scrollTop)}}},CKEDITOR.CTRL=1114112,CKEDITOR.SHIFT=2228224,CKEDITOR.ALT=4456448,CKEDITOR.EVENT_PHASE_CAPTURING=1,CKEDITOR.EVENT_PHASE_AT_TARGET=2,CKEDITOR.EVENT_PHASE_BUBBLING=3,CKEDITOR.HISTORY_NATIVE=1,CKEDITOR.HISTORY_HASH=2,CKEDITOR.HISTORY_OFF=0,CKEDITOR.dom.domObject=function(t){t&&(this.$=t)},CKEDITOR.dom.domObject.prototype={getPrivate:function(){var t;return(t=this.getCustomData("_"))||this.setCustomData("_",t={}),t},on:function(t){var e=this.getCustomData("_cke_nativeListeners");return e||(e={},this.setCustomData("_cke_nativeListeners",e)),e[t]||(e=e[t]=function(t,e){return function(n){"undefined"!=typeof CKEDITOR&&t.fire(e,new CKEDITOR.dom.event(n))}}(this,t),this.$.addEventListener?this.$.addEventListener(t,e,!!CKEDITOR.event.useCapture):this.$.attachEvent&&this.$.attachEvent("on"+t,e)),CKEDITOR.event.prototype.on.apply(this,arguments)},removeListener:function(t){if(CKEDITOR.event.prototype.removeListener.apply(this,arguments),!this.hasListeners(t)){var e=this.getCustomData("_cke_nativeListeners"),n=e&&e[t];n&&(this.$.removeEventListener?this.$.removeEventListener(t,n,!1):this.$.detachEvent&&this.$.detachEvent("on"+t,n),delete e[t])}},removeAllListeners:function(){try{var t,e=this.getCustomData("_cke_nativeListeners");for(t in e){var n=e[t];this.$.detachEvent?this.$.detachEvent("on"+t,n):this.$.removeEventListener&&this.$.removeEventListener(t,n,!1),delete e[t]}}catch(t){if(!CKEDITOR.env.edge||-2146828218!==t.number)throw t}CKEDITOR.event.prototype.removeAllListeners.call(this)}},function(t){var e={};CKEDITOR.on("reset",(function(){e={}})),t.equals=function(t){try{return t&&t.$===this.$}catch(t){return!1}},t.setCustomData=function(t,n){var a=this.getUniqueId();return(e[a]||(e[a]={}))[t]=n,this},t.getCustomData=function(t){var n=this.$["data-cke-expando"];return(n=n&&e[n])&&t in n?n[t]:null},t.removeCustomData=function(t){var n,a,o;return(n=(n=this.$["data-cke-expando"])&&e[n])&&(a=n[t],o=t in n,delete n[t]),o?a:null},t.clearCustomData=function(){this.removeAllListeners();var t=this.getUniqueId();t&&delete e[t]},t.getUniqueId=function(){return this.$["data-cke-expando"]||(this.$["data-cke-expando"]=CKEDITOR.tools.getNextNumber())},CKEDITOR.event.implementOn(t)}(CKEDITOR.dom.domObject.prototype),CKEDITOR.dom.node=function(t){return t?new CKEDITOR.dom[t.nodeType==CKEDITOR.NODE_DOCUMENT?"document":t.nodeType==CKEDITOR.NODE_ELEMENT?"element":t.nodeType==CKEDITOR.NODE_TEXT?"text":t.nodeType==CKEDITOR.NODE_COMMENT?"comment":t.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT?"documentFragment":"domObject"](t):this},CKEDITOR.dom.node.prototype=new CKEDITOR.dom.domObject,CKEDITOR.NODE_ELEMENT=1,CKEDITOR.NODE_DOCUMENT=9,CKEDITOR.NODE_TEXT=3,CKEDITOR.NODE_COMMENT=8,CKEDITOR.NODE_DOCUMENT_FRAGMENT=11,CKEDITOR.POSITION_IDENTICAL=0,CKEDITOR.POSITION_DISCONNECTED=1,CKEDITOR.POSITION_FOLLOWING=2,CKEDITOR.POSITION_PRECEDING=4,CKEDITOR.POSITION_IS_CONTAINED=8,CKEDITOR.POSITION_CONTAINS=16,CKEDITOR.tools.extend(CKEDITOR.dom.node.prototype,{appendTo:function(t,e){return t.append(this,e),t},clone:function(t,e){var n=this.$.cloneNode(t);return function n(a){if(a["data-cke-expando"]&&(a["data-cke-expando"]=!1),(a.nodeType==CKEDITOR.NODE_ELEMENT||a.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT)&&(e||a.nodeType!=CKEDITOR.NODE_ELEMENT||a.removeAttribute("id",!1),t)){a=a.childNodes;for(var o=0;o<a.length;o++)n(a[o])}}(n),n=new CKEDITOR.dom.node(n),CKEDITOR.env.ie&&9>CKEDITOR.env.version&&(this.type==CKEDITOR.NODE_ELEMENT||this.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT)&&function e(n){if(n.type==CKEDITOR.NODE_ELEMENT||n.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT){if(n.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var a=n.getName();":"==a[0]&&n.renameNode(a.substring(1))}if(t)for(a=0;a<n.getChildCount();a++)e(n.getChild(a))}}(n),n},hasPrevious:function(){return!!this.$.previousSibling},hasNext:function(){return!!this.$.nextSibling},insertAfter:function(t){return t.$.parentNode.insertBefore(this.$,t.$.nextSibling),t},insertBefore:function(t){return t.$.parentNode.insertBefore(this.$,t.$),t},insertBeforeMe:function(t){return this.$.parentNode.insertBefore(t.$,this.$),t},getAddress:function(t){for(var e=[],n=this.getDocument().$.documentElement,a=this;a&&a!=n;){var o=a.getParent();o&&e.unshift(this.getIndex.call(a,t)),a=o}return e},getDocument:function(){return new CKEDITOR.dom.document(this.$.ownerDocument||this.$.parentNode.ownerDocument)},getIndex:function(t){function e(t,n){var a=n?t.getNext():t.getPrevious();return a&&a.type==CKEDITOR.NODE_TEXT?a.isEmpty()?e(a,n):a:null}var n,a=this,o=-1;if(!this.getParent()||t&&a.type==CKEDITOR.NODE_TEXT&&a.isEmpty()&&!e(a)&&!e(a,!0))return-1;do{t&&!a.equals(this)&&a.type==CKEDITOR.NODE_TEXT&&(n||a.isEmpty())||(o++,n=a.type==CKEDITOR.NODE_TEXT)}while(a=a.getPrevious());return o},getNextSourceNode:function(t,e,n){if(n&&!n.call){var a=n;n=function(t){return!t.equals(a)}}var o;if(!(t=!t&&this.getFirst&&this.getFirst())){if(this.type==CKEDITOR.NODE_ELEMENT&&n&&!1===n(this,!0))return null;t=this.getNext()}for(;!t&&(o=(o||this).getParent());){if(n&&!1===n(o,!0))return null;t=o.getNext()}return!t||n&&!1===n(t)?null:e&&e!=t.type?t.getNextSourceNode(!1,e,n):t},getPreviousSourceNode:function(t,e,n){if(n&&!n.call){var a=n;n=function(t){return!t.equals(a)}}var o;if(!(t=!t&&this.getLast&&this.getLast())){if(this.type==CKEDITOR.NODE_ELEMENT&&n&&!1===n(this,!0))return null;t=this.getPrevious()}for(;!t&&(o=(o||this).getParent());){if(n&&!1===n(o,!0))return null;t=o.getPrevious()}return!t||n&&!1===n(t)?null:e&&t.type!=e?t.getPreviousSourceNode(!1,e,n):t},getPrevious:function(t){var e,n=this.$;do{e=(n=n.previousSibling)&&10!=n.nodeType&&new CKEDITOR.dom.node(n)}while(e&&t&&!t(e));return e},getNext:function(t){var e,n=this.$;do{e=(n=n.nextSibling)&&new CKEDITOR.dom.node(n)}while(e&&t&&!t(e));return e},getParent:function(t){var e=this.$.parentNode;return e&&(e.nodeType==CKEDITOR.NODE_ELEMENT||t&&e.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT)?new CKEDITOR.dom.node(e):null},getParents:function(t){var e=this,n=[];do{n[t?"push":"unshift"](e)}while(e=e.getParent());return n},getCommonAncestor:function(t){if(t.equals(this))return this;if(t.contains&&t.contains(this))return t;var e=this.contains?this:this.getParent();do{if(e.contains(t))return e}while(e=e.getParent());return null},getPosition:function(t){var e=this.$,n=t.$;if(e.compareDocumentPosition)return e.compareDocumentPosition(n);if(e==n)return CKEDITOR.POSITION_IDENTICAL;if(this.type==CKEDITOR.NODE_ELEMENT&&t.type==CKEDITOR.NODE_ELEMENT){if(e.contains){if(e.contains(n))return CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_PRECEDING;if(n.contains(e))return CKEDITOR.POSITION_IS_CONTAINED+CKEDITOR.POSITION_FOLLOWING}if("sourceIndex"in e)return 0>e.sourceIndex||0>n.sourceIndex?CKEDITOR.POSITION_DISCONNECTED:e.sourceIndex<n.sourceIndex?CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_FOLLOWING}e=this.getAddress(),t=t.getAddress(),n=Math.min(e.length,t.length);for(var a=0;a<n;a++)if(e[a]!=t[a])return e[a]<t[a]?CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_FOLLOWING;return e.length<t.length?CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_IS_CONTAINED+CKEDITOR.POSITION_FOLLOWING},getAscendant:function(t,e){var n,a,o=this.$;for(e||(o=o.parentNode),"function"==typeof t?(a=!0,n=t):(a=!1,n=function(e){return e="string"==typeof e.nodeName?e.nodeName.toLowerCase():"","string"==typeof t?e==t:e in t});o;){if(n(a?new CKEDITOR.dom.node(o):o))return new CKEDITOR.dom.node(o);try{o=o.parentNode}catch(t){o=null}}return null},hasAscendant:function(t,e){var n=this.$;for(e||(n=n.parentNode);n;){if(n.nodeName&&n.nodeName.toLowerCase()==t)return!0;n=n.parentNode}return!1},move:function(t,e){t.append(this.remove(),e)},remove:function(t){var e=this.$,n=e.parentNode;if(n){if(t)for(;t=e.firstChild;)n.insertBefore(e.removeChild(t),e);n.removeChild(e)}return this},replace:function(t){this.insertBefore(t),t.remove()},trim:function(){this.ltrim(),this.rtrim()},ltrim:function(){for(var t;this.getFirst&&(t=this.getFirst());){if(t.type==CKEDITOR.NODE_TEXT){var e=CKEDITOR.tools.ltrim(t.getText()),n=t.getLength();if(!e){t.remove();continue}e.length<n&&(t.split(n-e.length),this.$.removeChild(this.$.firstChild))}break}},rtrim:function(){for(var t;this.getLast&&(t=this.getLast());){if(t.type==CKEDITOR.NODE_TEXT){var e=CKEDITOR.tools.rtrim(t.getText()),n=t.getLength();if(!e){t.remove();continue}e.length<n&&(t.split(e.length),this.$.lastChild.parentNode.removeChild(this.$.lastChild))}break}CKEDITOR.env.needsBrFiller&&(t=this.$.lastChild)&&1==t.type&&"br"==t.nodeName.toLowerCase()&&t.parentNode.removeChild(t)},isReadOnly:function(t){var e=this;if(this.type!=CKEDITOR.NODE_ELEMENT&&(e=this.getParent()),CKEDITOR.env.edge&&e&&e.is("textarea","input")&&(t=!0),!t&&e&&void 0!==e.$.isContentEditable)return!(e.$.isContentEditable||e.data("cke-editable"));for(;e;){if(e.data("cke-editable"))return!1;if(e.hasAttribute("contenteditable"))return"false"==e.getAttribute("contenteditable");e=e.getParent()}return!0}}),CKEDITOR.dom.window=function(t){CKEDITOR.dom.domObject.call(this,t)},CKEDITOR.dom.window.prototype=new CKEDITOR.dom.domObject,CKEDITOR.tools.extend(CKEDITOR.dom.window.prototype,{focus:function(){this.$.focus()},getViewPaneSize:function(){var t=this.$.document,e="CSS1Compat"==t.compatMode;return{width:(e?t.documentElement.clientWidth:t.body.clientWidth)||0,height:(e?t.documentElement.clientHeight:t.body.clientHeight)||0}},getScrollPosition:function(){var t=this.$;return"pageXOffset"in t?{x:t.pageXOffset||0,y:t.pageYOffset||0}:{x:(t=t.document).documentElement.scrollLeft||t.body.scrollLeft||0,y:t.documentElement.scrollTop||t.body.scrollTop||0}},getFrame:function(){var t=this.$.frameElement;return t?new CKEDITOR.dom.element.get(t):null}}),CKEDITOR.dom.document=function(t){CKEDITOR.dom.domObject.call(this,t)},CKEDITOR.dom.document.prototype=new CKEDITOR.dom.domObject,CKEDITOR.tools.extend(CKEDITOR.dom.document.prototype,{type:CKEDITOR.NODE_DOCUMENT,appendStyleSheet:function(t){if(t=CKEDITOR.appendTimestamp(t),this.$.createStyleSheet)this.$.createStyleSheet(t);else{var e=new CKEDITOR.dom.element("link");e.setAttributes({rel:"stylesheet",type:"text/css",href:t}),this.getHead().append(e)}},appendStyleText:function(t){if(this.$.createStyleSheet){var e=this.$.createStyleSheet("");e.cssText=t}else{var n=new CKEDITOR.dom.element("style",this);n.append(new CKEDITOR.dom.text(t,this)),this.getHead().append(n)}return e||n.$.sheet},createElement:function(t,e){var n=new CKEDITOR.dom.element(t,this);return e&&(e.attributes&&n.setAttributes(e.attributes),e.styles&&n.setStyles(e.styles)),n},createText:function(t){return new CKEDITOR.dom.text(t,this)},focus:function(){this.getWindow().focus()},getActive:function(){var t;try{t=this.$.activeElement}catch(t){return null}return new CKEDITOR.dom.element(t)},getById:function(t){return(t=this.$.getElementById(t))?new CKEDITOR.dom.element(t):null},getByAddress:function(t,e){for(var n=this.$.documentElement,a=0;n&&a<t.length;a++){var o=t[a];if(e)for(var i=-1,r=0;r<n.childNodes.length;r++){var s=n.childNodes[r];if((!0!==e||3!=s.nodeType||!s.previousSibling||3!=s.previousSibling.nodeType)&&++i==o){n=s;break}}else n=n.childNodes[o]}return n?new CKEDITOR.dom.node(n):null},getElementsByTag:function(t,e){return CKEDITOR.env.ie&&8>=document.documentMode||!e||(t=e+":"+t),new CKEDITOR.dom.nodeList(this.$.getElementsByTagName(t))},getHead:function(){var t=this.$.getElementsByTagName("head")[0];return t?new CKEDITOR.dom.element(t):this.getDocumentElement().append(new CKEDITOR.dom.element("head"),!0)},getBody:function(){return new CKEDITOR.dom.element(this.$.body)},getDocumentElement:function(){return new CKEDITOR.dom.element(this.$.documentElement)},getWindow:function(){return new CKEDITOR.dom.window(this.$.parentWindow||this.$.defaultView)},write:function(t){this.$.open("text/html","replace"),CKEDITOR.env.ie&&(t=t.replace(/(?:^\s*<!DOCTYPE[^>]*?>)|^/i,'$&\n<script data-cke-temp="1">('+CKEDITOR.tools.fixDomain+")();<\/script>")),this.$.write(t),this.$.close()},find:function(t){return new CKEDITOR.dom.nodeList(this.$.querySelectorAll(t))},findOne:function(t){return(t=this.$.querySelector(t))?new CKEDITOR.dom.element(t):null},_getHtml5ShivFrag:function(){var t=this.getCustomData("html5ShivFrag");return t||(t=this.$.createDocumentFragment(),CKEDITOR.tools.enableHtml5Elements(t,!0),this.setCustomData("html5ShivFrag",t)),t}}),CKEDITOR.dom.nodeList=function(t){this.$=t},CKEDITOR.dom.nodeList.prototype={count:function(){return this.$.length},getItem:function(t){return 0>t||t>=this.$.length?null:(t=this.$[t])?new CKEDITOR.dom.node(t):null},toArray:function(){return CKEDITOR.tools.array.map(this.$,(function(t){return new CKEDITOR.dom.node(t)}))}},CKEDITOR.dom.element=function(t,e){"string"==typeof t&&(t=(e?e.$:document).createElement(t)),CKEDITOR.dom.domObject.call(this,t)},CKEDITOR.dom.element.get=function(t){return(t="string"==typeof t?document.getElementById(t)||document.getElementsByName(t)[0]:t)&&(t.$?t:new CKEDITOR.dom.element(t))},CKEDITOR.dom.element.prototype=new CKEDITOR.dom.node,CKEDITOR.dom.element.createFromHtml=function(t,e){var n=new CKEDITOR.dom.element("div",e);return n.setHtml(t),n.getFirst().remove()},CKEDITOR.dom.element.setMarker=function(t,e,n,a){var o=e.getCustomData("list_marker_id")||e.setCustomData("list_marker_id",CKEDITOR.tools.getNextNumber()).getCustomData("list_marker_id"),i=e.getCustomData("list_marker_names")||e.setCustomData("list_marker_names",{}).getCustomData("list_marker_names");return t[o]=e,i[n]=1,e.setCustomData(n,a)},CKEDITOR.dom.element.clearAllMarkers=function(t){for(var e in t)CKEDITOR.dom.element.clearMarkers(t,t[e],1)},CKEDITOR.dom.element.clearMarkers=function(t,e,n){var a,o=e.getCustomData("list_marker_names"),i=e.getCustomData("list_marker_id");for(a in o)e.removeCustomData(a);e.removeCustomData("list_marker_names"),n&&(e.removeCustomData("list_marker_id"),delete t[i])},function(){function t(t,e){return-1<(" "+t+" ").replace(i," ").indexOf(" "+e+" ")}function e(t){var e=!0;return t.$.id||(t.$.id="cke_tmp_"+CKEDITOR.tools.getNextNumber(),e=!1),function(){e||t.removeAttribute("id")}}function n(t,e){var n=CKEDITOR.tools.escapeCss(t.$.id);return"#"+n+" "+e.split(/,\s*/).join(", #"+n+" ")}function a(t){for(var e=0,n=0,a=r[t].length;n<a;n++)e+=parseFloat(this.getComputedStyle(r[t][n])||0,10)||0;return e}var o=void 0!==(o=document.createElement("_").classList)&&null!==String(o.add).match(/\[Native code\]/gi),i=/[\n\t\r]/g;CKEDITOR.tools.extend(CKEDITOR.dom.element.prototype,{type:CKEDITOR.NODE_ELEMENT,addClass:o?function(t){return this.$.classList.add(t),this}:function(e){var n=this.$.className;return n&&(t(n,e)||(n+=" "+e)),this.$.className=n||e,this},removeClass:o?function(t){var e=this.$;return e.classList.remove(t),e.className||e.removeAttribute("class"),this}:function(e){var n=this.getAttribute("class");return n&&t(n,e)&&((n=n.replace(new RegExp("(?:^|\\s+)"+e+"(?=\\s|$)"),"").replace(/^\s+/,""))?this.setAttribute("class",n):this.removeAttribute("class")),this},hasClass:function(e){return t(this.$.className,e)},append:function(t,e){return"string"==typeof t&&(t=this.getDocument().createElement(t)),e?this.$.insertBefore(t.$,this.$.firstChild):this.$.appendChild(t.$),t},appendHtml:function(t){if(this.$.childNodes.length){var e=new CKEDITOR.dom.element("div",this.getDocument());e.setHtml(t),e.moveChildren(this)}else this.setHtml(t)},appendText:function(t){null!=this.$.text&&CKEDITOR.env.ie&&9>CKEDITOR.env.version?this.$.text+=t:this.append(new CKEDITOR.dom.text(t))},appendBogus:function(t){if(t||CKEDITOR.env.needsBrFiller){for(t=this.getLast();t&&t.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.rtrim(t.getText());)t=t.getPrevious();t&&t.is&&t.is("br")||(t=this.getDocument().createElement("br"),CKEDITOR.env.gecko&&t.setAttribute("type","_moz"),this.append(t))}},breakParent:function(t,e){var n=new CKEDITOR.dom.range(this.getDocument());n.setStartAfter(this),n.setEndAfter(t);var a,o=n.extractContents(!1,e||!1);if(n.insertNode(this.remove()),CKEDITOR.env.ie&&!CKEDITOR.env.edge){for(n=new CKEDITOR.dom.element("div");a=o.getFirst();)a.$.style.backgroundColor&&(a.$.style.backgroundColor=a.$.style.backgroundColor),n.append(a);n.insertAfter(this),n.remove(!0)}else o.insertAfterNode(this)},contains:document.compareDocumentPosition?function(t){return!!(16&this.$.compareDocumentPosition(t.$))}:function(t){var e=this.$;return t.type!=CKEDITOR.NODE_ELEMENT?e.contains(t.getParent().$):e!=t.$&&e.contains(t.$)},focus:function(){function t(){try{this.$.focus()}catch(t){}}return function(e){e?CKEDITOR.tools.setTimeout(t,100,this):t.call(this)}}(),getHtml:function(){var t=this.$.innerHTML;return CKEDITOR.env.ie?t.replace(/<\?[^>]*>/g,""):t},getOuterHtml:function(){if(this.$.outerHTML)return this.$.outerHTML.replace(/<\?[^>]*>/,"");var t=this.$.ownerDocument.createElement("div");return t.appendChild(this.$.cloneNode(!0)),t.innerHTML},getClientRect:function(t){var e=CKEDITOR.tools.extend({},this.$.getBoundingClientRect());return!e.width&&(e.width=e.right-e.left),!e.height&&(e.height=e.bottom-e.top),t?CKEDITOR.tools.getAbsoluteRectPosition(this.getWindow(),e):e},setHtml:CKEDITOR.env.ie&&9>CKEDITOR.env.version?function(t){try{var e=this.$;if(this.getParent())return e.innerHTML=t;var n=this.getDocument()._getHtml5ShivFrag();return n.appendChild(e),e.innerHTML=t,n.removeChild(e),t}catch(n){for(this.$.innerHTML="",(e=new CKEDITOR.dom.element("body",this.getDocument())).$.innerHTML=t,e=e.getChildren();e.count();)this.append(e.getItem(0));return t}}:function(t){return this.$.innerHTML=t},setText:function(){var t=document.createElement("p");return t.innerHTML="x",t=t.textContent,function(e){this.$[t?"textContent":"innerText"]=e}}(),getAttribute:CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(t){switch(t){case"class":t="className";break;case"http-equiv":t="httpEquiv";break;case"name":return this.$.name;case"tabindex":return 0!==(t=this.$.getAttribute(t,2))&&0===this.$.tabIndex&&(t=null),t;case"checked":return((t=this.$.attributes.getNamedItem(t)).specified?t.nodeValue:this.$.checked)?"checked":null;case"hspace":case"value":return this.$[t];case"style":return this.$.style.cssText;case"contenteditable":case"contentEditable":return this.$.attributes.getNamedItem("contentEditable").specified?this.$.getAttribute("contentEditable"):null}return this.$.getAttribute(t,2)}:function(t){return this.$.getAttribute(t,2)},getAttributes:function(t){var e,n={},a=this.$.attributes;for(t=CKEDITOR.tools.isArray(t)?t:[],e=0;e<a.length;e++)-1===CKEDITOR.tools.indexOf(t,a[e].name)&&(n[a[e].name]=a[e].value);return n},getChildren:function(){return new CKEDITOR.dom.nodeList(this.$.childNodes)},getClientSize:function(){return{width:this.$.clientWidth,height:this.$.clientHeight}},getComputedStyle:document.defaultView&&document.defaultView.getComputedStyle?function(t){var e=this.getWindow().$.getComputedStyle(this.$,null);return e?e.getPropertyValue(t):""}:function(t){return this.$.currentStyle[CKEDITOR.tools.cssStyleToDomStyle(t)]},getDtd:function(){var t=CKEDITOR.dtd[this.getName()];return this.getDtd=function(){return t},t},getElementsByTag:CKEDITOR.dom.document.prototype.getElementsByTag,getTabIndex:function(){var t=this.$.tabIndex;return 0!==t||CKEDITOR.dtd.$tabIndex[this.getName()]||0===parseInt(this.getAttribute("tabindex"),10)?t:-1},getText:function(){return this.$.textContent||this.$.innerText||""},getWindow:function(){return this.getDocument().getWindow()},getId:function(){return this.$.id||null},getNameAtt:function(){return this.$.name||null},getName:function(){var t=this.$.nodeName.toLowerCase();if(CKEDITOR.env.ie&&8>=document.documentMode){var e=this.$.scopeName;"HTML"!=e&&(t=e.toLowerCase()+":"+t)}return this.getName=function(){return t},this.getName()},getValue:function(){return this.$.value},getFirst:function(t){var e=this.$.firstChild;return(e=e&&new CKEDITOR.dom.node(e))&&t&&!t(e)&&(e=e.getNext(t)),e},getLast:function(t){var e=this.$.lastChild;return(e=e&&new CKEDITOR.dom.node(e))&&t&&!t(e)&&(e=e.getPrevious(t)),e},getStyle:function(t){return this.$.style[CKEDITOR.tools.cssStyleToDomStyle(t)]},is:function(){var t=this.getName();if("object"==typeof arguments[0])return!!arguments[0][t];for(var e=0;e<arguments.length;e++)if(arguments[e]==t)return!0;return!1},isEditable:function(t){var e=this.getName();return!(this.isReadOnly()||"none"==this.getComputedStyle("display")||"hidden"==this.getComputedStyle("visibility")||CKEDITOR.dtd.$nonEditable[e]||CKEDITOR.dtd.$empty[e]||this.is("a")&&(this.data("cke-saved-name")||this.hasAttribute("name"))&&!this.getChildCount()||!1!==t&&(!(t=CKEDITOR.dtd[e]||CKEDITOR.dtd.span)||!t["#"]))},isIdentical:function(t){var e=this.clone(0,1);if(t=t.clone(0,1),e.removeAttributes(["_moz_dirty","data-cke-expando","data-cke-saved-href","data-cke-saved-name"]),t.removeAttributes(["_moz_dirty","data-cke-expando","data-cke-saved-href","data-cke-saved-name"]),e.$.isEqualNode)return e.$.style.cssText=CKEDITOR.tools.normalizeCssText(e.$.style.cssText),t.$.style.cssText=CKEDITOR.tools.normalizeCssText(t.$.style.cssText),e.$.isEqualNode(t.$);if(e=e.getOuterHtml(),t=t.getOuterHtml(),CKEDITOR.env.ie&&9>CKEDITOR.env.version&&this.is("a")){var n=this.getParent();n.type==CKEDITOR.NODE_ELEMENT&&((n=n.clone()).setHtml(e),e=n.getHtml(),n.setHtml(t),t=n.getHtml())}return e==t},isVisible:function(){var t,e,n=(this.$.offsetHeight||this.$.offsetWidth)&&"hidden"!=this.getComputedStyle("visibility");return n&&CKEDITOR.env.webkit&&!(t=this.getWindow()).equals(CKEDITOR.document.getWindow())&&(e=t.$.frameElement)&&(n=new CKEDITOR.dom.element(e).isVisible()),!!n},isEmptyInlineRemoveable:function(){if(!CKEDITOR.dtd.$removeEmpty[this.getName()])return!1;for(var t=this.getChildren(),e=0,n=t.count();e<n;e++){var a=t.getItem(e);if((a.type!=CKEDITOR.NODE_ELEMENT||!a.data("cke-bookmark"))&&(a.type==CKEDITOR.NODE_ELEMENT&&!a.isEmptyInlineRemoveable()||a.type==CKEDITOR.NODE_TEXT&&CKEDITOR.tools.trim(a.getText())))return!1}return!0},hasAttributes:CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(){for(var t=this.$.attributes,e=0;e<t.length;e++){var n=t[e];switch(n.nodeName){case"class":if(this.getAttribute("class"))return!0;case"data-cke-expando":continue;default:if(n.specified)return!0}}return!1}:function(){var t=this.$.attributes,e=t.length,n={"data-cke-expando":1,_moz_dirty:1};return 0<e&&(2<e||!n[t[0].nodeName]||2==e&&!n[t[1].nodeName])},hasAttribute:function(){function t(t){var e=this.$.attributes.getNamedItem(t);if("input"==this.getName())switch(t){case"class":return 0<this.$.className.length;case"checked":return!!this.$.checked;case"value":return"checkbox"==(t=this.getAttribute("type"))||"radio"==t?"on"!=this.$.value:!!this.$.value}return!!e&&e.specified}return CKEDITOR.env.ie?8>CKEDITOR.env.version?function(e){return"name"==e?!!this.$.name:t.call(this,e)}:t:function(t){return!!this.$.attributes.getNamedItem(t)}}(),hide:function(){this.setStyle("display","none")},moveChildren:function(t,e){var n,a=this.$;if(a!=(t=t.$))if(e)for(;n=a.lastChild;)t.insertBefore(a.removeChild(n),t.firstChild);else for(;n=a.firstChild;)t.appendChild(a.removeChild(n))},mergeSiblings:function(){function t(t,e,n){if(e&&e.type==CKEDITOR.NODE_ELEMENT){for(var a=[];e.data("cke-bookmark")||e.isEmptyInlineRemoveable();)if(a.push(e),!(e=n?e.getNext():e.getPrevious())||e.type!=CKEDITOR.NODE_ELEMENT)return;if(t.isIdentical(e)){for(var o=n?t.getLast():t.getFirst();a.length;)a.shift().move(t,!n);e.moveChildren(t,!n),e.remove(),o&&o.type==CKEDITOR.NODE_ELEMENT&&o.mergeSiblings()}}}return function(e){(!1===e||CKEDITOR.dtd.$removeEmpty[this.getName()]||this.is("a"))&&(t(this,this.getNext(),!0),t(this,this.getPrevious()))}}(),show:function(){this.setStyles({display:"",visibility:""})},setAttribute:function(){var t=function(t,e){return this.$.setAttribute(t,e),this};return CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(e,n){return"class"==e?this.$.className=n:"style"==e?this.$.style.cssText=n:"tabindex"==e?this.$.tabIndex=n:"checked"==e?this.$.checked=n:"contenteditable"==e?t.call(this,"contentEditable",n):t.apply(this,arguments),this}:CKEDITOR.env.ie8Compat&&CKEDITOR.env.secure?function(e,n){if("src"==e&&n.match(/^http:\/\//))try{t.apply(this,arguments)}catch(t){}else t.apply(this,arguments);return this}:t}(),setAttributes:function(t){for(var e in t)this.setAttribute(e,t[e]);return this},setValue:function(t){return this.$.value=t,this},removeAttribute:CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(t){"class"==t?t="className":"tabindex"==t?t="tabIndex":"contenteditable"==t&&(t="contentEditable"),this.$.removeAttribute(t)}:function(t){this.$.removeAttribute(t)},removeAttributes:function(t){if(CKEDITOR.tools.isArray(t))for(var e=0;e<t.length;e++)this.removeAttribute(t[e]);else for(e in t=t||this.getAttributes())t.hasOwnProperty(e)&&this.removeAttribute(e)},removeStyle:function(t){if((a=this.$.style).removeProperty||"border"!=t&&"margin"!=t&&"padding"!=t)a.removeProperty?a.removeProperty(t):a.removeAttribute(CKEDITOR.tools.cssStyleToDomStyle(t)),this.$.style.cssText||this.removeAttribute("style");else{var e,n=["top","left","right","bottom"];"border"==t&&(e=["color","style","width"]);for(var a=[],o=0;o<n.length;o++)if(e)for(var i=0;i<e.length;i++)a.push([t,n[o],e[i]].join("-"));else a.push([t,n[o]].join("-"));for(t=0;t<a.length;t++)this.removeStyle(a[t])}},setStyle:function(t,e){return this.$.style[CKEDITOR.tools.cssStyleToDomStyle(t)]=e,this},setStyles:function(t){for(var e in t)this.setStyle(e,t[e]);return this},setOpacity:function(t){CKEDITOR.env.ie&&9>CKEDITOR.env.version?(t=Math.round(100*t),this.setStyle("filter",100<=t?"":"progid:DXImageTransform.Microsoft.Alpha(opacity="+t+")")):this.setStyle("opacity",t)},unselectable:function(){if(this.setStyles(CKEDITOR.tools.cssVendorPrefix("user-select","none")),CKEDITOR.env.ie){this.setAttribute("unselectable","on");for(var t=this.getElementsByTag("*"),e=0,n=t.count();e<n;e++)t.getItem(e).setAttribute("unselectable","on")}},getPositionedAncestor:function(){for(var t=this;"html"!=t.getName();){if("static"!=t.getComputedStyle("position"))return t;t=t.getParent()}return null},getDocumentPosition:function(t){var e=0,n=0,a=this.getDocument(),o=a.getBody(),i="BackCompat"==a.$.compatMode;if(!document.documentElement.getBoundingClientRect||CKEDITOR.env.ie&&8===CKEDITOR.env.version)for(l=this,d=null;l&&"body"!=l.getName()&&"html"!=l.getName();){for(e+=l.$.offsetLeft-l.$.scrollLeft,n+=l.$.offsetTop-l.$.scrollTop,l.equals(this)||(e+=l.$.clientLeft||0,n+=l.$.clientTop||0);d&&!d.equals(l);)e-=d.$.scrollLeft,n-=d.$.scrollTop,d=d.getParent();d=l,l=(r=l.$.offsetParent)?new CKEDITOR.dom.element(r):null}else{var r=this.$.getBoundingClientRect(),s=a.$.documentElement,l=s.clientTop||o.$.clientTop||0,d=s.clientLeft||o.$.clientLeft||0,u=!0;CKEDITOR.env.ie&&(u=a.getDocumentElement().contains(this),a=a.getBody().contains(this),u=i&&a||!i&&u),u&&(CKEDITOR.env.webkit||CKEDITOR.env.ie&&12<=CKEDITOR.env.version?(e=o.$.scrollLeft||s.scrollLeft,n=o.$.scrollTop||s.scrollTop):(e=(n=i?o.$:s).scrollLeft,n=n.scrollTop),e=r.left+e-d,n=r.top+n-l)}return t&&(r=this.getWindow(),l=t.getWindow(),!r.equals(l)&&r.$.frameElement&&(e+=(t=new CKEDITOR.dom.element(r.$.frameElement).getDocumentPosition(t)).x,n+=t.y)),document.documentElement.getBoundingClientRect||!CKEDITOR.env.gecko||i||(e+=this.$.clientLeft?1:0,n+=this.$.clientTop?1:0),{x:e,y:n}},scrollIntoView:function(t){var e=this.getParent();if(e)do{if((e.$.clientWidth&&e.$.clientWidth<e.$.scrollWidth||e.$.clientHeight&&e.$.clientHeight<e.$.scrollHeight)&&!e.is("body")&&this.scrollIntoParent(e,t,1),e.is("html")){var n=e.getWindow();try{var a=n.$.frameElement;a&&(e=new CKEDITOR.dom.element(a))}catch(t){}}}while(e=e.getParent())},scrollIntoParent:function(t,e,n){var a,o,i,r;function s(e,n){/body|html/.test(t.getName())?t.getWindow().$.scrollBy(e,n):(t.$.scrollLeft+=e,t.$.scrollTop+=n)}function l(t,e){var n={x:0,y:0};if(!t.is(u?"body":"html")){var a=t.$.getBoundingClientRect();n.x=a.left,n.y=a.top}return(a=t.getWindow()).equals(e)||(a=l(CKEDITOR.dom.element.get(a.$.frameElement),e),n.x+=a.x,n.y+=a.y),n}function d(t,e){return parseInt(t.getComputedStyle("margin-"+e)||0,10)||0}!t&&(t=this.getWindow());var u="BackCompat"==(i=t.getDocument()).$.compatMode;t instanceof CKEDITOR.dom.window&&(t=u?i.getBody():i.getDocumentElement()),CKEDITOR.env.webkit&&(i=this.getEditor(!1))&&(i._.previousScrollTop=null),o=l(this,i=t.getWindow());var c=l(t,i),m=this.$.offsetHeight;a=this.$.offsetWidth;var h=t.$.clientHeight,f=t.$.clientWidth;i=o.x-d(this,"left")-c.x||0,r=o.y-d(this,"top")-c.y||0,a=o.x+a+d(this,"right")-(c.x+f)||0,o=o.y+m+d(this,"bottom")-(c.y+h)||0,(0>r||0<o)&&s(0,!0===e?r:!1===e?o:0>r?r:o),n&&(0>i||0<a)&&s(0>i?i:a,0)},setState:function(t,e,n){switch(e=e||"cke",t){case CKEDITOR.TRISTATE_ON:this.addClass(e+"_on"),this.removeClass(e+"_off"),this.removeClass(e+"_disabled"),n&&this.setAttribute("aria-pressed",!0),n&&this.removeAttribute("aria-disabled");break;case CKEDITOR.TRISTATE_DISABLED:this.addClass(e+"_disabled"),this.removeClass(e+"_off"),this.removeClass(e+"_on"),n&&this.setAttribute("aria-disabled",!0),n&&this.removeAttribute("aria-pressed");break;default:this.addClass(e+"_off"),this.removeClass(e+"_on"),this.removeClass(e+"_disabled"),n&&this.removeAttribute("aria-pressed"),n&&this.removeAttribute("aria-disabled")}},getFrameDocument:function(){var t=this.$;try{t.contentWindow.document}catch(e){t.src=t.src}return t&&new CKEDITOR.dom.document(t.contentWindow.document)},copyAttributes:function(t,e){var n=this.$.attributes;e=e||{};for(var a=0;a<n.length;a++){var o,i=n[a],r=i.nodeName.toLowerCase();r in e||("checked"==r&&(o=this.getAttribute(r))?t.setAttribute(r,o):CKEDITOR.env.ie&&!this.hasAttribute(r)||(null===(o=this.getAttribute(r))&&(o=i.nodeValue),t.setAttribute(r,o)))}""!==this.$.style.cssText&&(t.$.style.cssText=this.$.style.cssText)},renameNode:function(t){if(this.getName()!=t){var e=this.getDocument();t=new CKEDITOR.dom.element(t,e),this.copyAttributes(t),this.moveChildren(t),this.getParent(!0)&&this.$.parentNode.replaceChild(t.$,this.$),t.$["data-cke-expando"]=this.$["data-cke-expando"],this.$=t.$,delete this.getName}},getChild:function(){function t(t,e){var n=t.childNodes;if(0<=e&&e<n.length)return n[e]}return function(e){var n=this.$;if(e.slice)for(e=e.slice();0<e.length&&n;)n=t(n,e.shift());else n=t(n,e);return n?new CKEDITOR.dom.node(n):null}}(),getChildCount:function(){return this.$.childNodes.length},disableContextMenu:function(){function t(t){return t.type==CKEDITOR.NODE_ELEMENT&&t.hasClass("cke_enable_context_menu")}this.on("contextmenu",(function(e){e.data.getTarget().getAscendant(t,!0)||e.data.preventDefault()}))},getDirection:function(t){return t?this.getComputedStyle("direction")||this.getDirection()||this.getParent()&&this.getParent().getDirection(1)||this.getDocument().$.dir||"ltr":this.getStyle("direction")||this.getAttribute("dir")},data:function(t,e){return t="data-"+t,void 0===e?this.getAttribute(t):(!1===e?this.removeAttribute(t):this.setAttribute(t,e),null)},getEditor:function(t){var e,n,a,o=CKEDITOR.instances;for(e in t=t||void 0===t,o)if((n=o[e]).element.equals(this)&&n.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO||!t&&(a=n.editable())&&(a.equals(this)||a.contains(this)))return n;return null},find:function(t){var a=e(this);return t=new CKEDITOR.dom.nodeList(this.$.querySelectorAll(n(this,t))),a(),t},findOne:function(t){var a=e(this);return t=this.$.querySelector(n(this,t)),a(),t?new CKEDITOR.dom.element(t):null},forEach:function(t,e,n){if(!(n||e&&this.type!=e))var a=t(this);if(!1!==a){n=this.getChildren();for(var o=0;o<n.count();o++)(a=n.getItem(o)).type==CKEDITOR.NODE_ELEMENT?a.forEach(t,e):e&&a.type!=e||t(a)}},fireEventHandler:function(t,e){var n="on"+t,a=this.$;if(CKEDITOR.env.ie&&9>CKEDITOR.env.version){var o,i=a.ownerDocument.createEventObject();for(o in e)i[o]=e[o];a.fireEvent(n,i)}else a[a[t]?t:n](e)},isDetached:function(){var t=this.getDocument(),e=t.getDocumentElement();return!e.equals(this)&&!e.contains(this)||(!CKEDITOR.env.ie||8<CKEDITOR.env.version&&!CKEDITOR.env.quirks)&&!t.$.defaultView}});var r={width:["border-left-width","border-right-width","padding-left","padding-right"],height:["border-top-width","border-bottom-width","padding-top","padding-bottom"]};CKEDITOR.dom.element.prototype.setSize=function(t,e,n){"number"==typeof e&&(!n||CKEDITOR.env.ie&&CKEDITOR.env.quirks||(e-=a.call(this,t)),this.setStyle(t,e+"px"))},CKEDITOR.dom.element.prototype.getSize=function(t,e){var n=Math.max(this.$["offset"+CKEDITOR.tools.capitalize(t)],this.$["client"+CKEDITOR.tools.capitalize(t)])||0;return e&&(n-=a.call(this,t)),n}}(),CKEDITOR.dom.documentFragment=function(t){t=t||CKEDITOR.document,this.$=t.type==CKEDITOR.NODE_DOCUMENT?t.$.createDocumentFragment():t},CKEDITOR.tools.extend(CKEDITOR.dom.documentFragment.prototype,CKEDITOR.dom.element.prototype,{type:CKEDITOR.NODE_DOCUMENT_FRAGMENT,insertAfterNode:function(t){(t=t.$).parentNode.insertBefore(this.$,t.nextSibling)},getHtml:function(){var t=new CKEDITOR.dom.element("div");return this.clone(1,1).appendTo(t),t.getHtml().replace(/\s*data-cke-expando=".*?"/g,"")}},!0,{append:1,appendBogus:1,clone:1,getFirst:1,getHtml:1,getLast:1,getParent:1,getNext:1,getPrevious:1,appendTo:1,moveChildren:1,insertBefore:1,insertAfterNode:1,replace:1,trim:1,type:1,ltrim:1,rtrim:1,getDocument:1,getChildCount:1,getChild:1,getChildren:1}),CKEDITOR.tools.extend(CKEDITOR.dom.documentFragment.prototype,CKEDITOR.dom.document.prototype,!0,{find:1,findOne:1}),function(){function t(t,e){var n=this.range;if(this._.end)return null;if(!this._.start){if(this._.start=1,n.collapsed)return this.end(),null;n.optimize()}var a,o=n.startContainer;a=n.endContainer;var i,r=n.startOffset,s=n.endOffset,l=this.guard,d=this.type,u=t?"getPreviousSourceNode":"getNextSourceNode";if(!t&&!this._.guardLTR){var c=a.type==CKEDITOR.NODE_ELEMENT?a:a.getParent(),m=a.type==CKEDITOR.NODE_ELEMENT?a.getChild(s):a.getNext();this._.guardLTR=function(t,e){return!(e&&c.equals(t)||m&&t.equals(m)||t.type==CKEDITOR.NODE_ELEMENT&&e&&t.equals(n.root))}}if(t&&!this._.guardRTL){var h=o.type==CKEDITOR.NODE_ELEMENT?o:o.getParent(),f=o.type==CKEDITOR.NODE_ELEMENT?r?o.getChild(r-1):null:o.getPrevious();this._.guardRTL=function(t,e){return!(e&&h.equals(t)||f&&t.equals(f)||t.type==CKEDITOR.NODE_ELEMENT&&e&&t.equals(n.root))}}var p=t?this._.guardRTL:this._.guardLTR;for(i=l?function(t,e){return!1!==p(t,e)&&l(t,e)}:p,this.current?a=this.current[u](!1,d,i):(t?a.type==CKEDITOR.NODE_ELEMENT&&(a=0<s?a.getChild(s-1):!1===i(a,!0)?null:a.getPreviousSourceNode(!0,d,i)):(a=o).type==CKEDITOR.NODE_ELEMENT&&((a=a.getChild(r))||(a=!1===i(o,!0)?null:o.getNextSourceNode(!0,d,i))),a&&!1===i(a)&&(a=null));a&&!this._.end;){if(this.current=a,this.evaluator&&!1===this.evaluator(a)){if(e&&this.evaluator)return!1}else if(!e)return a;a=a[u](!1,d,i)}return this.end(),this.current=null}function e(e){for(var n,a=null;n=t.call(this,e);)a=n;return a}CKEDITOR.dom.walker=CKEDITOR.tools.createClass({$:function(t){this.range=t,this._={}},proto:{end:function(){this._.end=1},next:function(){return t.call(this)},previous:function(){return t.call(this,1)},checkForward:function(){return!1!==t.call(this,0,1)},checkBackward:function(){return!1!==t.call(this,1,1)},lastForward:function(){return e.call(this)},lastBackward:function(){return e.call(this,1)},reset:function(){delete this.current,this._={}}}});var n={block:1,"list-item":1,table:1,"table-row-group":1,"table-header-group":1,"table-footer-group":1,"table-row":1,"table-column-group":1,"table-column":1,"table-cell":1,"table-caption":1},a={absolute:1,fixed:1};CKEDITOR.dom.element.prototype.isBlockBoundary=function(t){return!("none"!=this.getComputedStyle("float")||this.getComputedStyle("position")in a||!n[this.getComputedStyle("display")])||!!(this.is(CKEDITOR.dtd.$block)||t&&this.is(t))},CKEDITOR.dom.walker.blockBoundary=function(t){return function(e){return!(e.type==CKEDITOR.NODE_ELEMENT&&e.isBlockBoundary(t))}},CKEDITOR.dom.walker.listItemBoundary=function(){return this.blockBoundary({br:1})},CKEDITOR.dom.walker.bookmark=function(t,e){function n(t){return t&&t.getName&&"span"==t.getName()&&t.data("cke-bookmark")}return function(a){var o,i;return o=a&&a.type!=CKEDITOR.NODE_ELEMENT&&(i=a.getParent())&&n(i),o=t?o:o||n(a),!!(e^o)}},CKEDITOR.dom.walker.whitespaces=function(t){return function(e){var n;return e&&e.type==CKEDITOR.NODE_TEXT&&(n=!CKEDITOR.tools.trim(e.getText())||CKEDITOR.env.webkit&&e.getText()==CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE),!!(t^n)}},CKEDITOR.dom.walker.invisible=function(t){var e=CKEDITOR.dom.walker.whitespaces(),n=CKEDITOR.env.webkit?1:0;return function(a){return e(a)?a=1:(a.type==CKEDITOR.NODE_TEXT&&(a=a.getParent()),a=a.$.offsetWidth<=n),!!(t^a)}},CKEDITOR.dom.walker.nodeType=function(t,e){return function(n){return!!(e^n.type==t)}},CKEDITOR.dom.walker.bogus=function(t){function e(t){return!i(t)&&!r(t)}return function(n){var a=CKEDITOR.env.needsBrFiller?n.is&&n.is("br"):n.getText&&o.test(n.getText());return a&&(a=n.getParent(),n=n.getNext(e),a=a.isBlockBoundary()&&(!n||n.type==CKEDITOR.NODE_ELEMENT&&n.isBlockBoundary())),!!(t^a)}},CKEDITOR.dom.walker.temp=function(t){return function(e){return e.type!=CKEDITOR.NODE_ELEMENT&&(e=e.getParent()),e=e&&e.hasAttribute("data-cke-temp"),!!(t^e)}};var o=/^[\t\r\n ]*(?:&nbsp;|\xa0)$/,i=CKEDITOR.dom.walker.whitespaces(),r=CKEDITOR.dom.walker.bookmark(),s=CKEDITOR.dom.walker.temp(),l=function(t){return r(t)||i(t)||t.type==CKEDITOR.NODE_ELEMENT&&t.is(CKEDITOR.dtd.$inline)&&!t.is(CKEDITOR.dtd.$empty)};CKEDITOR.dom.walker.ignored=function(t){return function(e){return e=i(e)||r(e)||s(e),!!(t^e)}};var d=CKEDITOR.dom.walker.ignored();CKEDITOR.dom.walker.empty=function(t){return function(e){for(var n=0,a=e.getChildCount();n<a;++n)if(!d(e.getChild(n)))return!!t;return!t}};var u=CKEDITOR.dom.walker.empty(),c=CKEDITOR.dom.walker.validEmptyBlockContainers=CKEDITOR.tools.extend(function(t){var e,n={};for(e in t)CKEDITOR.dtd[e]["#"]&&(n[e]=1);return n}(CKEDITOR.dtd.$block),{caption:1,td:1,th:1});CKEDITOR.dom.walker.editable=function(t){return function(e){return e=!d(e)&&!!(e.type==CKEDITOR.NODE_TEXT||e.type==CKEDITOR.NODE_ELEMENT&&(e.is(CKEDITOR.dtd.$inline)||e.is("hr")||"false"==e.getAttribute("contenteditable")||!CKEDITOR.env.needsBrFiller&&e.is(c)&&u(e))),!!(t^e)}},CKEDITOR.dom.element.prototype.getBogus=function(){var t=this;do{t=t.getPreviousSourceNode()}while(l(t));return!(!t||!(CKEDITOR.env.needsBrFiller?t.is&&t.is("br"):t.getText&&o.test(t.getText())))&&t}}(),CKEDITOR.dom.range=function(t){this.endOffset=this.endContainer=this.startOffset=this.startContainer=null,this.collapsed=!0;var e=t instanceof CKEDITOR.dom.document;this.document=e?t:t.getDocument(),this.root=e?t.getBody():t},function(){function t(t){t.collapsed=t.startContainer&&t.endContainer&&t.startContainer.equals(t.endContainer)&&t.startOffset==t.endOffset}function e(t,e,n,a,o){function i(t,e,n,a){var i=n?t.getPrevious():t.getNext();return a&&r||(l||a?e.append(t.clone(!0,o),n):(t.remove(),s&&e.append(t,n))),i}t.optimizeBookmark();var r=0===e,s=1==e,l=2==e;e=l||s;var d,u,c,m,h,f,p=t.startContainer,g=t.endContainer,v=t.startOffset,x=t.endOffset;if(l&&g.type==CKEDITOR.NODE_TEXT&&(p.equals(g)||p.type===CKEDITOR.NODE_ELEMENT&&p.getFirst().equals(g)))n.append(t.document.createText(g.substring(v,x)));else{g.type==CKEDITOR.NODE_TEXT?l?f=!0:g=g.split(x):0<g.getChildCount()?x>=g.getChildCount()?(g=g.getChild(x-1),u=!0):g=g.getChild(x):m=u=!0,p.type==CKEDITOR.NODE_TEXT?l?h=!0:p.split(v):0<p.getChildCount()?0===v?(p=p.getChild(v),d=!0):p=p.getChild(v-1):c=d=!0;for(var b,E,T,C=p.getParents(),y=g.getParents(),I=function(){var t,e,n,a=Math.min(C.length,y.length);for(t=0;t<a;t++)if(e=C[t],n=y[t],!e.equals(n))return t;return t-1}(),D=C.length-1,_=y.length-1,w=n,O=-1,R=I;R<=D;R++){for(T=(E=C[R]).getNext(),R!=D||E.equals(y[R])&&D<_?e&&(b=w.append(E.clone(0,o))):d?i(E,w,!1,c):h&&w.append(t.document.createText(E.substring(v)));T;){if(T.equals(y[R])){O=R;break}T=i(T,w)}w=b}for(w=n,R=I;R<=_;R++)if(T=(n=y[R]).getPrevious(),n.equals(C[R]))e&&(w=w.getChild(0));else{if(R!=_||n.equals(C[R])&&_<D?e&&(b=w.append(n.clone(0,o))):u?i(n,w,!1,m):f&&w.append(t.document.createText(n.substring(0,x))),R>O)for(;T;)T=i(T,w,!0);w=b}l||function(){var e=I-1,n=c&&m&&!p.equals(g);e<D-1||e<_-1||n?(n?t.moveToPosition(g,CKEDITOR.POSITION_BEFORE_START):_==e+1&&u?t.moveToPosition(y[e],CKEDITOR.POSITION_BEFORE_END):t.moveToPosition(y[e+1],CKEDITOR.POSITION_BEFORE_START),a&&(e=C[e+1])&&e.type==CKEDITOR.NODE_ELEMENT&&((n=CKEDITOR.dom.element.createFromHtml('<span data-cke-bookmark="1" style="display:none">&nbsp;</span>',t.document)).insertAfter(e),e.mergeSiblings(!1),t.moveToBookmark({startNode:n}))):t.collapse(!0)}()}}function n(){var t=!1,e=CKEDITOR.dom.walker.whitespaces(),n=CKEDITOR.dom.walker.bookmark(!0),a=CKEDITOR.dom.walker.bogus();return function(i){return!(!n(i)&&!e(i))||(a(i)&&!t?t=!0:!(i.type==CKEDITOR.NODE_TEXT&&(i.hasAscendant("pre")||CKEDITOR.tools.trim(i.getText()).length)||i.type==CKEDITOR.NODE_ELEMENT&&!i.is(o)))}}function a(t){return function(){var e;return this[t?"getPreviousNode":"getNextNode"]((function(t){return!e&&l(t)&&(e=t),s(t)&&!(i(t)&&t.equals(e))}))}}var o={abbr:1,acronym:1,b:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,q:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,tt:1,u:1,var:1},i=CKEDITOR.dom.walker.bogus(),r=/^[\t\r\n ]*(?:&nbsp;|\xa0)$/,s=CKEDITOR.dom.walker.editable(),l=CKEDITOR.dom.walker.ignored(!0);CKEDITOR.dom.range.prototype={clone:function(){var t=new CKEDITOR.dom.range(this.root);return t._setStartContainer(this.startContainer),t.startOffset=this.startOffset,t._setEndContainer(this.endContainer),t.endOffset=this.endOffset,t.collapsed=this.collapsed,t},collapse:function(t){t?(this._setEndContainer(this.startContainer),this.endOffset=this.startOffset):(this._setStartContainer(this.endContainer),this.startOffset=this.endOffset),this.collapsed=!0},cloneContents:function(t){var n=new CKEDITOR.dom.documentFragment(this.document);return this.collapsed||e(this,2,n,!1,void 0===t||t),n},deleteContents:function(t){this.collapsed||e(this,0,null,t)},extractContents:function(t,n){var a=new CKEDITOR.dom.documentFragment(this.document);return this.collapsed||e(this,1,a,t,void 0===n||n),a},equals:function(t){return this.startOffset===t.startOffset&&this.endOffset===t.endOffset&&this.startContainer.equals(t.startContainer)&&this.endContainer.equals(t.endContainer)},createBookmark:function(t){function e(t){return t.getAscendant((function(t){var e;return(e=t.data&&t.data("cke-temp"))&&(e=-1===CKEDITOR.tools.array.indexOf(["cke_copybin","cke_pastebin"],t.getAttribute("id"))),e}),!0)}var n,a,o,i,r=this.startContainer,s=this.endContainer,l=this.collapsed;return(n=this.document.createElement("span")).data("cke-bookmark",1),n.setStyle("display","none"),n.setHtml("&nbsp;"),t&&(o="cke_bm_"+CKEDITOR.tools.getNextNumber(),n.setAttribute("id",o+(l?"C":"S"))),l||((a=n.clone()).setHtml("&nbsp;"),t&&a.setAttribute("id",o+"E"),i=this.clone(),e(s)&&(s=e(s),i.moveToPosition(s,CKEDITOR.POSITION_AFTER_END)),i.collapse(),i.insertNode(a)),i=this.clone(),e(r)&&(s=e(r),i.moveToPosition(s,CKEDITOR.POSITION_BEFORE_START)),i.collapse(!0),i.insertNode(n),a?(this.setStartAfter(n),this.setEndBefore(a)):this.moveToPosition(n,CKEDITOR.POSITION_AFTER_END),{startNode:t?o+(l?"C":"S"):n,endNode:t?o+"E":a,serializable:t,collapsed:l}},createBookmark2:function(){function t(t){var e,a=t.container,o=t.offset,i=o;if((e=(e=a).type!=CKEDITOR.NODE_ELEMENT||0===i||i==e.getChildCount()?0:e.getChild(i-1).type==CKEDITOR.NODE_TEXT&&e.getChild(i).type==CKEDITOR.NODE_TEXT)&&(o=(a=a.getChild(o-1)).getLength()),a.type==CKEDITOR.NODE_ELEMENT&&0<o){t:{for(e=a;o--;)if(0<=(i=e.getChild(o).getIndex(!0))){o=i;break t}o=-1}o+=1}if(a.type==CKEDITOR.NODE_TEXT){for(e=a,i=0;(e=e.getPrevious())&&e.type==CKEDITOR.NODE_TEXT;)i+=e.getText().replace(CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE,"").length;e=i,a.isEmpty()?(i=a.getPrevious(n),e?(o=e,a=i?i.getNext():a.getParent().getFirst()):(a=a.getParent(),o=i?i.getIndex(!0)+1:0)):o+=e}t.container=a,t.offset=o}function e(t,e){var n=e.getCustomData("cke-fillingChar");if(n){var a=t.container;n.equals(a)&&(t.offset-=CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE.length,0>=t.offset&&(t.offset=a.getIndex(),t.container=a.getParent()))}}var n=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_TEXT,!0);return function(n){var a=this.collapsed,o={container:this.startContainer,offset:this.startOffset},i={container:this.endContainer,offset:this.endOffset};return n&&(t(o),e(o,this.root),a||(t(i),e(i,this.root))),{start:o.container.getAddress(n),end:a?null:i.container.getAddress(n),startOffset:o.offset,endOffset:i.offset,normalized:n,collapsed:a,is2:!0}}}(),moveToBookmark:function(t){if(t.is2){var e=this.document.getByAddress(t.start,t.normalized),n=t.startOffset,a=t.end&&this.document.getByAddress(t.end,t.normalized);t=t.endOffset,this.setStart(e,n),a?this.setEnd(a,t):this.collapse(!0)}else e=(n=t.serializable)?this.document.getById(t.startNode):t.startNode,t=n?this.document.getById(t.endNode):t.endNode,this.setStartBefore(e),e.remove(),t?(this.setEndBefore(t),t.remove()):this.collapse(!0)},getBoundaryNodes:function(){var t,e=this.startContainer,n=this.endContainer,a=this.startOffset,o=this.endOffset;if(e.type==CKEDITOR.NODE_ELEMENT)if((t=e.getChildCount())>a)e=e.getChild(a);else if(1>t)e=e.getPreviousSourceNode();else{for(e=e.$;e.lastChild;)e=e.lastChild;e=(e=new CKEDITOR.dom.node(e)).getNextSourceNode()||e}if(n.type==CKEDITOR.NODE_ELEMENT)if((t=n.getChildCount())>o)n=n.getChild(o).getPreviousSourceNode(!0);else if(1>t)n=n.getPreviousSourceNode();else{for(n=n.$;n.lastChild;)n=n.lastChild;n=new CKEDITOR.dom.node(n)}return e.getPosition(n)&CKEDITOR.POSITION_FOLLOWING&&(e=n),{startNode:e,endNode:n}},getCommonAncestor:function(t,e){var n=this.startContainer,a=this.endContainer;return n=n.equals(a)?t&&n.type==CKEDITOR.NODE_ELEMENT&&this.startOffset==this.endOffset-1?n.getChild(this.startOffset):n:n.getCommonAncestor(a),e&&!n.is?n.getParent():n},optimize:function(){var t=this.startContainer,e=this.startOffset;t.type!=CKEDITOR.NODE_ELEMENT&&(e?e>=t.getLength()&&this.setStartAfter(t):this.setStartBefore(t)),t=this.endContainer,e=this.endOffset,t.type!=CKEDITOR.NODE_ELEMENT&&(e?e>=t.getLength()&&this.setEndAfter(t):this.setEndBefore(t))},optimizeBookmark:function(){var t=this.startContainer,e=this.endContainer;t.is&&t.is("span")&&t.data("cke-bookmark")&&this.setStartAt(t,CKEDITOR.POSITION_BEFORE_START),e&&e.is&&e.is("span")&&e.data("cke-bookmark")&&this.setEndAt(e,CKEDITOR.POSITION_AFTER_END)},trim:function(t,e){var n=this.startContainer,a=this.startOffset,o=this.collapsed;if((!t||o)&&n&&n.type==CKEDITOR.NODE_TEXT){if(a)if(a>=n.getLength())a=n.getIndex()+1,n=n.getParent();else{var i=n.split(a);a=n.getIndex()+1,n=n.getParent(),this.startContainer.equals(this.endContainer)?this.setEnd(i,this.endOffset-this.startOffset):n.equals(this.endContainer)&&(this.endOffset+=1)}else a=n.getIndex(),n=n.getParent();if(this.setStart(n,a),o)return void this.collapse(!0)}n=this.endContainer,a=this.endOffset,e||o||!n||n.type!=CKEDITOR.NODE_TEXT||(a?(a>=n.getLength()||n.split(a),a=n.getIndex()+1):a=n.getIndex(),n=n.getParent(),this.setEnd(n,a))},enlarge:function(t,e){function n(t){return t&&t.type==CKEDITOR.NODE_ELEMENT&&t.hasAttribute("contenteditable")?null:t}function a(t,e,n){var a=new CKEDITOR.dom.range(n);for(a.setStart(t,e),a.setEndAt(n,CKEDITOR.POSITION_BEFORE_END),(n=new CKEDITOR.dom.walker(a)).guard=function(t){return!(t.type==CKEDITOR.NODE_ELEMENT&&t.isBlockBoundary())};a=n.next();){if(a.type!=CKEDITOR.NODE_TEXT)return!1;if(o=a!=t?a.getText():a.substring(e),r.test(o))return!1}return!0}var o,i,r=new RegExp(/[^\s\ufeff]/);switch(t){case CKEDITOR.ENLARGE_INLINE:var s=1;case CKEDITOR.ENLARGE_ELEMENT:if(this.collapsed)break;var l=this.getCommonAncestor();i=this.root;var d,u,c,m,h,f,p=!1;f=this.startContainer;var g=this.startOffset;for(f.type==CKEDITOR.NODE_TEXT?(g&&(p=!!(f=!CKEDITOR.tools.trim(f.substring(0,g)).length&&f)),f&&((m=f.getPrevious())||(c=f.getParent()))):(g&&(m=f.getChild(g-1)||f.getLast()),m||(c=f)),c=n(c);c||m;){if(c&&!m){if(!h&&c.equals(l)&&(h=!0),s?c.isBlockBoundary():!i.contains(c))break;p&&"inline"==c.getComputedStyle("display")||(p=!1,h?d=c:this.setStartBefore(c)),m=c.getPrevious()}for(;m;)if(f=!1,m.type==CKEDITOR.NODE_COMMENT)m=m.getPrevious();else{if(m.type==CKEDITOR.NODE_TEXT)o=m.getText(),r.test(o)&&(m=null),f=/[\s\ufeff]$/.test(o);else if((m.$.offsetWidth>(CKEDITOR.env.webkit?1:0)||e&&m.is("br"))&&!m.data("cke-bookmark"))if(p&&CKEDITOR.dtd.$removeEmpty[m.getName()]){if(o=m.getText(),r.test(o))m=null;else{g=m.$.getElementsByTagName("*");for(var v,x=0;v=g[x++];)if(!CKEDITOR.dtd.$removeEmpty[v.nodeName.toLowerCase()]){m=null;break}}m&&(f=!!o.length)}else m=null;if(f&&(p?h?d=c:c&&this.setStartBefore(c):p=!0),m){if(f=m.getPrevious(),!c&&!f){c=m,m=null;break}m=f}else c=null}c&&(c=n(c.getParent()))}for(f=this.endContainer,g=this.endOffset,c=m=null,h=p=!1,f.type==CKEDITOR.NODE_TEXT?CKEDITOR.tools.trim(f.substring(g)).length?p=!0:(p=!f.getLength(),g==f.getLength()?(m=f.getNext())||(c=f.getParent()):a(f,g,i)&&(c=f.getParent())):(m=f.getChild(g))||(c=f);c||m;){if(c&&!m){if(!h&&c.equals(l)&&(h=!0),s?c.isBlockBoundary():!i.contains(c))break;p&&"inline"==c.getComputedStyle("display")||(p=!1,h?u=c:c&&this.setEndAfter(c)),m=c.getNext()}for(;m;){if(f=!1,m.type==CKEDITOR.NODE_TEXT)o=m.getText(),a(m,0,i)||(m=null),f=/^[\s\ufeff]/.test(o);else if(m.type==CKEDITOR.NODE_ELEMENT){if((0<m.$.offsetWidth||e&&m.is("br"))&&!m.data("cke-bookmark"))if(p&&CKEDITOR.dtd.$removeEmpty[m.getName()]){if(o=m.getText(),r.test(o))m=null;else for(g=m.$.getElementsByTagName("*"),x=0;v=g[x++];)if(!CKEDITOR.dtd.$removeEmpty[v.nodeName.toLowerCase()]){m=null;break}m&&(f=!!o.length)}else m=null}else f=1;if(f&&p&&(h?u=c:this.setEndAfter(c)),m){if(f=m.getNext(),!c&&!f){c=m,m=null;break}m=f}else c=null}c&&(c=n(c.getParent()))}d&&u&&(l=d.contains(u)?u:d,this.setStartBefore(l),this.setEndAfter(l));break;case CKEDITOR.ENLARGE_BLOCK_CONTENTS:case CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS:c=new CKEDITOR.dom.range(this.root),i=this.root,c.setStartAt(i,CKEDITOR.POSITION_AFTER_START),c.setEnd(this.startContainer,this.startOffset),c=new CKEDITOR.dom.walker(c);var b,E,T=CKEDITOR.dom.walker.blockBoundary(t==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS?{br:1}:null),C=null,y=function(t){if(t.type==CKEDITOR.NODE_ELEMENT&&"false"==t.getAttribute("contenteditable"))if(C){if(C.equals(t))return void(C=null)}else C=t;else if(C)return;var e=T(t);return e||(b=t),e};if(s=function(t){var e=y(t);return!e&&t.is&&t.is("br")&&(E=t),e},c.guard=y,c=c.lastBackward(),b=b||i,this.setStartAt(b,!b.is("br")&&(!c&&this.checkStartOfBlock()||c&&b.contains(c))?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_AFTER_END),t==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS){c=this.clone(),c=new CKEDITOR.dom.walker(c);var I=CKEDITOR.dom.walker.whitespaces(),D=CKEDITOR.dom.walker.bookmark();if(c.evaluator=function(t){return!I(t)&&!D(t)},(c=c.previous())&&c.type==CKEDITOR.NODE_ELEMENT&&c.is("br"))break}(c=this.clone()).collapse(),c.setEndAt(i,CKEDITOR.POSITION_BEFORE_END),(c=new CKEDITOR.dom.walker(c)).guard=t==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS?s:y,b=C=E=null,c=c.lastForward(),b=b||i,this.setEndAt(b,!c&&this.checkEndOfBlock()||c&&b.contains(c)?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_BEFORE_START),E&&this.setEndAfter(E)}},shrink:function(t,e,n){var a="boolean"==typeof n?n:!n||"boolean"!=typeof n.shrinkOnBlockBoundary||n.shrinkOnBlockBoundary,o=n&&n.skipBogus;if(!this.collapsed){t=t||CKEDITOR.SHRINK_TEXT;var i=this.clone(),r=this.startContainer,s=this.endContainer,l=this.startOffset,d=this.endOffset,u=n=1;r&&r.type==CKEDITOR.NODE_TEXT&&(l?l>=r.getLength()?i.setStartAfter(r):(i.setStartBefore(r),n=0):i.setStartBefore(r)),s&&s.type==CKEDITOR.NODE_TEXT&&(d?d>=s.getLength()?i.setEndAfter(s):(i.setEndAfter(s),u=0):i.setEndBefore(s)),i=new CKEDITOR.dom.walker(i);var c,m=CKEDITOR.dom.walker.bookmark(),h=CKEDITOR.dom.walker.bogus();return i.evaluator=function(e){return e.type==(t==CKEDITOR.SHRINK_ELEMENT?CKEDITOR.NODE_ELEMENT:CKEDITOR.NODE_TEXT)},i.guard=function(e,n){return!!(o&&h(e)||m(e))||!(t==CKEDITOR.SHRINK_ELEMENT&&e.type==CKEDITOR.NODE_TEXT||n&&e.equals(c)||!1===a&&e.type==CKEDITOR.NODE_ELEMENT&&e.isBlockBoundary()||e.type==CKEDITOR.NODE_ELEMENT&&e.hasAttribute("contenteditable"))&&(n||e.type!=CKEDITOR.NODE_ELEMENT||(c=e),!0)},n&&(r=i[t==CKEDITOR.SHRINK_ELEMENT?"lastForward":"next"]())&&this.setStartAt(r,e?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_START),u&&(i.reset(),(i=i[t==CKEDITOR.SHRINK_ELEMENT?"lastBackward":"previous"]())&&this.setEndAt(i,e?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_AFTER_END)),!(!n&&!u)}},insertNode:function(t){this.optimizeBookmark(),this.trim(!1,!0);var e=this.startContainer,n=e.getChild(this.startOffset);n?t.insertBefore(n):e.append(t),t.getParent()&&t.getParent().equals(this.endContainer)&&this.endOffset++,this.setStartBefore(t)},moveToPosition:function(t,e){this.setStartAt(t,e),this.collapse(!0)},moveToRange:function(t){this.setStart(t.startContainer,t.startOffset),this.setEnd(t.endContainer,t.endOffset)},selectNodeContents:function(t){this.setStart(t,0),this.setEnd(t,t.type==CKEDITOR.NODE_TEXT?t.getLength():t.getChildCount())},setStart:function(e,n){e.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$empty[e.getName()]&&(n=e.getIndex(),e=e.getParent()),this._setStartContainer(e),this.startOffset=n,this.endContainer||(this._setEndContainer(e),this.endOffset=n),t(this)},setEnd:function(e,n){e.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$empty[e.getName()]&&(n=e.getIndex()+1,e=e.getParent()),this._setEndContainer(e),this.endOffset=n,this.startContainer||(this._setStartContainer(e),this.startOffset=n),t(this)},setStartAfter:function(t){this.setStart(t.getParent(),t.getIndex()+1)},setStartBefore:function(t){this.setStart(t.getParent(),t.getIndex())},setEndAfter:function(t){this.setEnd(t.getParent(),t.getIndex()+1)},setEndBefore:function(t){this.setEnd(t.getParent(),t.getIndex())},setStartAt:function(e,n){switch(n){case CKEDITOR.POSITION_AFTER_START:this.setStart(e,0);break;case CKEDITOR.POSITION_BEFORE_END:e.type==CKEDITOR.NODE_TEXT?this.setStart(e,e.getLength()):this.setStart(e,e.getChildCount());break;case CKEDITOR.POSITION_BEFORE_START:this.setStartBefore(e);break;case CKEDITOR.POSITION_AFTER_END:this.setStartAfter(e)}t(this)},setEndAt:function(e,n){switch(n){case CKEDITOR.POSITION_AFTER_START:this.setEnd(e,0);break;case CKEDITOR.POSITION_BEFORE_END:e.type==CKEDITOR.NODE_TEXT?this.setEnd(e,e.getLength()):this.setEnd(e,e.getChildCount());break;case CKEDITOR.POSITION_BEFORE_START:this.setEndBefore(e);break;case CKEDITOR.POSITION_AFTER_END:this.setEndAfter(e)}t(this)},fixBlock:function(t,e){var n=this.createBookmark(),a=this.document.createElement(e);this.collapse(t),this.enlarge(CKEDITOR.ENLARGE_BLOCK_CONTENTS),this.extractContents().appendTo(a),a.trim(),this.insertNode(a);var o=a.getBogus();return o&&o.remove(),a.appendBogus(),this.moveToBookmark(n),a},splitBlock:function(t,e){var n=new CKEDITOR.dom.elementPath(this.startContainer,this.root),a=new CKEDITOR.dom.elementPath(this.endContainer,this.root),o=n.block,i=a.block,r=null;return n.blockLimit.equals(a.blockLimit)?("br"!=t&&(o||(o=this.fixBlock(!0,t),i=new CKEDITOR.dom.elementPath(this.endContainer,this.root).block),i||(i=this.fixBlock(!1,t))),n=o&&this.checkStartOfBlock(),a=i&&this.checkEndOfBlock(),this.deleteContents(),o&&o.equals(i)&&(a?(r=new CKEDITOR.dom.elementPath(this.startContainer,this.root),this.moveToPosition(i,CKEDITOR.POSITION_AFTER_END),i=null):n?(r=new CKEDITOR.dom.elementPath(this.startContainer,this.root),this.moveToPosition(o,CKEDITOR.POSITION_BEFORE_START),o=null):(i=this.splitElement(o,e||!1),o.is("ul","ol")||o.appendBogus())),{previousBlock:o,nextBlock:i,wasStartOfBlock:n,wasEndOfBlock:a,elementPath:r}):null},splitElement:function(t,e){if(!this.collapsed)return null;this.setEndAt(t,CKEDITOR.POSITION_BEFORE_END);var n=this.extractContents(!1,e||!1),a=t.clone(!1,e||!1);return n.appendTo(a),a.insertAfter(t),this.moveToPosition(t,CKEDITOR.POSITION_AFTER_END),a},removeEmptyBlocksAtEnd:function(){function t(t){return function(a){return!(e(a)||n(a)||a.type==CKEDITOR.NODE_ELEMENT&&a.isEmptyInlineRemoveable()||t.is("table")&&a.is("caption"))}}var e=CKEDITOR.dom.walker.whitespaces(),n=CKEDITOR.dom.walker.bookmark(!1);return function(e){for(var n,a=this.createBookmark(),o=this[e?"endPath":"startPath"](),i=o.block||o.blockLimit;i&&!i.equals(o.root)&&!i.getFirst(t(i));)n=i.getParent(),this[e?"setEndAt":"setStartAt"](i,CKEDITOR.POSITION_AFTER_END),i.remove(1),i=n;this.moveToBookmark(a)}}(),startPath:function(){return new CKEDITOR.dom.elementPath(this.startContainer,this.root)},endPath:function(){return new CKEDITOR.dom.elementPath(this.endContainer,this.root)},checkBoundaryOfElement:function(t,e){var n=e==CKEDITOR.START,a=this.clone();return a.collapse(n),a[n?"setStartAt":"setEndAt"](t,n?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END),(a=new CKEDITOR.dom.walker(a)).evaluator=function(t){var e=CKEDITOR.dom.walker.whitespaces(),n=CKEDITOR.dom.walker.bookmark(1);return function(a){return!(!n(a)&&!e(a))||!t&&i(a)||a.type==CKEDITOR.NODE_ELEMENT&&a.is(CKEDITOR.dtd.$removeEmpty)}}(n),a[n?"checkBackward":"checkForward"]()},checkStartOfBlock:function(t){var e=this.startContainer,a=this.startOffset;return CKEDITOR.env.ie&&a&&e.type==CKEDITOR.NODE_TEXT&&(e=CKEDITOR.tools.ltrim(e.substring(0,a)),r.test(e)&&this.trim(0,1)),t||this.trim(),t=new CKEDITOR.dom.elementPath(this.startContainer,this.root),(e=this.clone()).collapse(!0),e.setStartAt(t.block||t.blockLimit,CKEDITOR.POSITION_AFTER_START),(t=new CKEDITOR.dom.walker(e)).evaluator=n(),t.checkBackward()},checkEndOfBlock:function(t){var e=this.endContainer,a=this.endOffset;return CKEDITOR.env.ie&&e.type==CKEDITOR.NODE_TEXT&&(e=CKEDITOR.tools.rtrim(e.substring(a)),r.test(e)&&this.trim(1,0)),t||this.trim(),t=new CKEDITOR.dom.elementPath(this.endContainer,this.root),(e=this.clone()).collapse(!1),e.setEndAt(t.block||t.blockLimit,CKEDITOR.POSITION_BEFORE_END),(t=new CKEDITOR.dom.walker(e)).evaluator=n(),t.checkForward()},getPreviousNode:function(t,e,n){var a=this.clone();return a.collapse(1),a.setStartAt(n||this.root,CKEDITOR.POSITION_AFTER_START),(n=new CKEDITOR.dom.walker(a)).evaluator=t,n.guard=e,n.previous()},getNextNode:function(t,e,n){var a=this.clone();return a.collapse(),a.setEndAt(n||this.root,CKEDITOR.POSITION_BEFORE_END),(n=new CKEDITOR.dom.walker(a)).evaluator=t,n.guard=e,n.next()},checkReadOnly:function(){function t(t,e){for(;t;){if(t.type==CKEDITOR.NODE_ELEMENT){if("false"==t.getAttribute("contentEditable")&&!t.data("cke-editable"))return 0;if(t.is("html")||"true"==t.getAttribute("contentEditable")&&(t.contains(e)||t.equals(e)))break}t=t.getParent()}return 1}return function(){var e=this.startContainer,n=this.endContainer;return!(t(e,n)&&t(n,e))}}(),moveToElementEditablePosition:function(t,e){if(t.type==CKEDITOR.NODE_ELEMENT&&!t.isEditable(!1))return this.moveToPosition(t,e?CKEDITOR.POSITION_AFTER_END:CKEDITOR.POSITION_BEFORE_START),!0;for(var n=0;t;){if(t.type==CKEDITOR.NODE_TEXT){e&&this.endContainer&&this.checkEndOfBlock()&&r.test(t.getText())?this.moveToPosition(t,CKEDITOR.POSITION_BEFORE_START):this.moveToPosition(t,e?CKEDITOR.POSITION_AFTER_END:CKEDITOR.POSITION_BEFORE_START),n=1;break}if(t.type==CKEDITOR.NODE_ELEMENT)if(t.isEditable())this.moveToPosition(t,e?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_AFTER_START),n=1;else if(e&&t.is("br")&&this.endContainer&&this.checkEndOfBlock())this.moveToPosition(t,CKEDITOR.POSITION_BEFORE_START);else if("false"==t.getAttribute("contenteditable")&&t.is(CKEDITOR.dtd.$block))return this.setStartBefore(t),this.setEndAfter(t),!0;var a=t,o=n,i=void 0;a.type==CKEDITOR.NODE_ELEMENT&&a.isEditable(!1)&&(i=a[e?"getLast":"getFirst"](l)),o||i||(i=a[e?"getPrevious":"getNext"](l)),t=i}return!!n},moveToClosestEditablePosition:function(t,e){var n,a,o,i=0,r=[CKEDITOR.POSITION_AFTER_END,CKEDITOR.POSITION_BEFORE_START];return t?(n=new CKEDITOR.dom.range(this.root)).moveToPosition(t,r[e?0:1]):n=this.clone(),t&&!t.is(CKEDITOR.dtd.$block)?i=1:(a=n[e?"getNextEditableNode":"getPreviousEditableNode"]())&&(i=1,(o=a.type==CKEDITOR.NODE_ELEMENT)&&a.is(CKEDITOR.dtd.$block)&&"false"==a.getAttribute("contenteditable")?(n.setStartAt(a,CKEDITOR.POSITION_BEFORE_START),n.setEndAt(a,CKEDITOR.POSITION_AFTER_END)):!CKEDITOR.env.needsBrFiller&&o&&a.is(CKEDITOR.dom.walker.validEmptyBlockContainers)?(n.setEnd(a,0),n.collapse()):n.moveToPosition(a,r[e?1:0])),i&&this.moveToRange(n),!!i},moveToElementEditStart:function(t){return this.moveToElementEditablePosition(t)},moveToElementEditEnd:function(t){return this.moveToElementEditablePosition(t,!0)},getEnclosedNode:function(){if((t=this.clone()).optimize(),t.startContainer.type!=CKEDITOR.NODE_ELEMENT||t.endContainer.type!=CKEDITOR.NODE_ELEMENT)return null;var t=new CKEDITOR.dom.walker(t),e=CKEDITOR.dom.walker.bookmark(!1,!0),n=CKEDITOR.dom.walker.whitespaces(!0);t.evaluator=function(t){return n(t)&&e(t)};var a=t.next();return t.reset(),a&&a.equals(t.previous())?a:null},getTouchedStartNode:function(){var t=this.startContainer;return this.collapsed||t.type!=CKEDITOR.NODE_ELEMENT?t:t.getChild(this.startOffset)||t},getTouchedEndNode:function(){var t=this.endContainer;return this.collapsed||t.type!=CKEDITOR.NODE_ELEMENT?t:t.getChild(this.endOffset-1)||t},getNextEditableNode:a(),getPreviousEditableNode:a(1),_getTableElement:function(t){t=t||{td:1,th:1,tr:1,tbody:1,thead:1,tfoot:1,table:1};var e=this.getTouchedStartNode(),n=this.getTouchedEndNode(),a=e.getAscendant("table",!0);return n=n.getAscendant("table",!0),a&&!this.root.contains(a)?null:this.getEnclosedNode()?this.getEnclosedNode().getAscendant(t,!0):a&&n&&(a.equals(n)||a.contains(n)||n.contains(a))?e.getAscendant(t,!0):null},scrollIntoView:function(){var t,e,n,a=new CKEDITOR.dom.element.createFromHtml("<span>&nbsp;</span>",this.document),o=this.clone();o.optimize(),(n=o.startContainer.type==CKEDITOR.NODE_TEXT)?(e=o.startContainer.getText(),t=o.startContainer.split(o.startOffset),a.insertAfter(o.startContainer)):o.insertNode(a),a.scrollIntoView(),n&&(o.startContainer.setText(e),t.remove()),a.remove()},getClientRects:function(){function t(t,e,a){var o;return e.collapsed?a.startContainer instanceof CKEDITOR.dom.element?(t=a.checkStartOfBlock(),o=new CKEDITOR.dom.text("​"),t?a.startContainer.append(o,!0):0===a.startOffset?o.insertBefore(a.startContainer.getFirst()):(a=a.startContainer.getChildren().getItem(a.startOffset-1),o.insertAfter(a)),e.setStart(o.$,0),e.setEnd(o.$,0),t=e.getClientRects(),o.remove()):a.startContainer instanceof CKEDITOR.dom.text&&(""===a.startContainer.getText()?(a.startContainer.setText("​"),t=e.getClientRects(),a.startContainer.setText("")):t=[n(a.createBookmark())]):t=[n(a.createBookmark())],t}function e(t,e,n){return t=CKEDITOR.tools.extend({},t),e&&(t=CKEDITOR.tools.getAbsoluteRectPosition(n.document.getWindow(),t)),!t.width&&(t.width=t.right-t.left),!t.height&&(t.height=t.bottom-t.top),t}function n(t){var e,n=t.startNode;return t=t.endNode,n.setText("​"),n.removeStyle("display"),t?(t.setText("​"),t.removeStyle("display"),e=[n.getClientRect(),t.getClientRect()],t.remove()):e=[n.getClientRect(),n.getClientRect()],n.remove(),{right:Math.max(e[0].right,e[1].right),bottom:Math.max(e[0].bottom,e[1].bottom),left:Math.min(e[0].left,e[1].left),top:Math.min(e[0].top,e[1].top),width:Math.abs(e[0].left-e[1].left),height:Math.max(e[0].bottom,e[1].bottom)-Math.min(e[0].top,e[1].top)}}return void 0!==document.getSelection?function(n){var a,o=this.root.getDocument().$.createRange();return o.setStart(this.startContainer.$,this.startOffset),o.setEnd(this.endContainer.$,this.endOffset),a=function(t,e){var n,a,o,i=CKEDITOR.tools.array.map(t,(function(t){return t})),r=new CKEDITOR.dom.range(e.root);if(e.startContainer instanceof CKEDITOR.dom.element&&(a=0===e.startOffset&&e.startContainer.hasAttribute("data-widget")),e.endContainer instanceof CKEDITOR.dom.element&&(o=(o=e.endOffset===(e.endContainer.getChildCount?e.endContainer.getChildCount():e.endContainer.length))&&e.endContainer.hasAttribute("data-widget")),a&&r.setStart(e.startContainer.getParent(),e.startContainer.getIndex()),o&&r.setEnd(e.endContainer.getParent(),e.endContainer.getIndex()+1),(a||o)&&(e=r),r=e.cloneContents().find("[data-cke-widget-id]").toArray(),r=CKEDITOR.tools.array.map(r,(function(t){var n=e.root.editor;return t=t.getAttribute("data-cke-widget-id"),n.widgets.instances[t].element})))return r=CKEDITOR.tools.array.map(r,(function(t){var e;return e=t.getParent().hasClass("cke_widget_wrapper")?t.getParent():t,(n=this.root.getDocument().$.createRange()).setStart(e.getParent().$,e.getIndex()),n.setEnd(e.getParent().$,e.getIndex()+1),(e=n.getClientRects()).widgetRect=t.getClientRect(),e}),e),CKEDITOR.tools.array.forEach(r,(function(t){var e;!function n(a){CKEDITOR.tools.array.forEach(i,(function(n,o){var r=CKEDITOR.tools.objectCompare(t[a],n);r||(r=CKEDITOR.tools.objectCompare(t.widgetRect,n)),r&&(Array.prototype.splice.call(i,o,t.length-a,t.widgetRect),e=!0)})),e||(a<i.length-1?n(a+1):i.push(t.widgetRect))}(0)})),i}(a=o.getClientRects(),this),a.length||(a=t(a,o,this)),CKEDITOR.tools.array.map(a,(function(t){return e(t,n,this)}),this)}:function(t){return[e(n(this.createBookmark()),t,this)]}}(),_setStartContainer:function(t){this.startContainer=t},_setEndContainer:function(t){this.endContainer=t},_find:function(t,e){var n,a,o,i,r=this.getCommonAncestor(),s=this.getBoundaryNodes(),l=[];if(r&&r.find)for(a=r.find(t),n=0;n<a.count();n++)r=a.getItem(n),(e||!r.isReadOnly())&&(o=r.getPosition(s.startNode)&CKEDITOR.POSITION_FOLLOWING||s.startNode.equals(r),i=r.getPosition(s.endNode)&CKEDITOR.POSITION_PRECEDING+CKEDITOR.POSITION_IS_CONTAINED||s.endNode.equals(r),o&&i&&l.push(r));return l}},CKEDITOR.dom.range.mergeRanges=function(t){return CKEDITOR.tools.array.reduce(t,(function(t,e){var n=t[t.length-1],a=!1;if((e=e.clone()).enlarge(CKEDITOR.ENLARGE_ELEMENT),n){var o=new CKEDITOR.dom.range(e.root),i=(a=new CKEDITOR.dom.walker(o),CKEDITOR.dom.walker.whitespaces());for(o.setStart(n.endContainer,n.endOffset),o.setEnd(e.startContainer,e.startOffset),o=a.next();i(o)||e.endContainer.equals(o);)o=a.next();a=!o}return a?n.setEnd(e.endContainer,e.endOffset):t.push(e),t}),[])}}(),CKEDITOR.POSITION_AFTER_START=1,CKEDITOR.POSITION_BEFORE_END=2,CKEDITOR.POSITION_BEFORE_START=3,CKEDITOR.POSITION_AFTER_END=4,CKEDITOR.ENLARGE_ELEMENT=1,CKEDITOR.ENLARGE_BLOCK_CONTENTS=2,CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS=3,CKEDITOR.ENLARGE_INLINE=4,CKEDITOR.START=1,CKEDITOR.END=2,CKEDITOR.SHRINK_ELEMENT=1,CKEDITOR.SHRINK_TEXT=2,function(){function t(t){1>arguments.length||(this.range=t,this.forceBrBreak=0,this.enlargeBr=1,this.enforceRealBlocks=0,this._||(this._={}))}function e(t,n,a,o){t:{null==o&&(o=function(t){var e=[];return t.forEach((function(t){if("true"==t.getAttribute("contenteditable"))return e.push(t),!1}),CKEDITOR.NODE_ELEMENT,!0),e}(a));for(var i;i=o.shift();)if(i.getDtd().p){o={element:i,remaining:o};break t}o=null}return o?(i=CKEDITOR.filter.instances[o.element.data("cke-filter")])&&!i.check(n)?e(t,n,a,o.remaining):((n=new CKEDITOR.dom.range(o.element)).selectNodeContents(o.element),(n=n.createIterator()).enlargeBr=t.enlargeBr,n.enforceRealBlocks=t.enforceRealBlocks,n.activeFilter=n.filter=i,t._.nestedEditable={element:o.element,container:a,remaining:o.remaining,iterator:n},1):0}function n(t,e,n){return!!e&&((t=t.clone()).collapse(!n),t.checkBoundaryOfElement(e,n?CKEDITOR.START:CKEDITOR.END))}var a=/^[\r\n\t ]+$/,o=CKEDITOR.dom.walker.bookmark(!1,!0),i=CKEDITOR.dom.walker.whitespaces(!0),r=function(t){return o(t)&&i(t)},s={dd:1,dt:1,li:1};t.prototype={getNextParagraph:function(t){var i,l,d,u,c;if(t=t||"p",this._.nestedEditable){if(i=this._.nestedEditable.iterator.getNextParagraph(t))return this.activeFilter=this._.nestedEditable.iterator.activeFilter,i;if(this.activeFilter=this.filter,e(this,t,this._.nestedEditable.container,this._.nestedEditable.remaining))return this.activeFilter=this._.nestedEditable.iterator.activeFilter,this._.nestedEditable.iterator.getNextParagraph(t);this._.nestedEditable=null}if(!this.range.root.getDtd()[t])return null;if(!this._.started){var m=this.range.clone();l=m.startPath();var h=m.endPath(),f=!m.collapsed&&n(m,l.block),p=!m.collapsed&&n(m,h.block,1);m.shrink(CKEDITOR.SHRINK_ELEMENT,!0),f&&m.setStartAt(l.block,CKEDITOR.POSITION_BEFORE_END),p&&m.setEndAt(h.block,CKEDITOR.POSITION_AFTER_START),l=m.endContainer.hasAscendant("pre",!0)||m.startContainer.hasAscendant("pre",!0),m.enlarge(this.forceBrBreak&&!l||!this.enlargeBr?CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS:CKEDITOR.ENLARGE_BLOCK_CONTENTS),m.collapsed||(l=new CKEDITOR.dom.walker(m.clone()),h=CKEDITOR.dom.walker.bookmark(!0,!0),l.evaluator=h,this._.nextNode=l.next(),(l=new CKEDITOR.dom.walker(m.clone())).evaluator=h,l=l.previous(),this._.lastNode=l.getNextSourceNode(!0,null,m.root),this._.lastNode&&this._.lastNode.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.trim(this._.lastNode.getText())&&this._.lastNode.getParent().isBlockBoundary()&&((h=this.range.clone()).moveToPosition(this._.lastNode,CKEDITOR.POSITION_AFTER_END),h.checkEndOfBlock()&&(h=new CKEDITOR.dom.elementPath(h.endContainer,h.root),this._.lastNode=(h.block||h.blockLimit).getNextSourceNode(!0))),this._.lastNode&&m.root.contains(this._.lastNode)||(this._.lastNode=this._.docEndMarker=m.document.createText(""),this._.lastNode.insertAfter(l)),m=null),this._.started=1,l=m}for(h=this._.nextNode,m=this._.lastNode,this._.nextNode=null;h;){f=0,p=h.hasAscendant("pre");var g=h.type!=CKEDITOR.NODE_ELEMENT,v=0;if(g)h.type==CKEDITOR.NODE_TEXT&&a.test(h.getText())&&(g=0);else{var x=h.getName();if(CKEDITOR.dtd.$block[x]&&"false"==h.getAttribute("contenteditable")){e(this,t,i=h);break}if(h.isBlockBoundary(this.forceBrBreak&&!p&&{br:1})){if("br"==x)g=1;else if(!l&&!h.getChildCount()&&"hr"!=x){i=h,d=h.equals(m);break}l&&(l.setEndAt(h,CKEDITOR.POSITION_BEFORE_START),"br"!=x&&(this._.nextNode=h)),f=1}else{if(h.getFirst()){l||(l=this.range.clone()).setStartAt(h,CKEDITOR.POSITION_BEFORE_START),h=h.getFirst();continue}g=1}}if(g&&!l&&(l=this.range.clone()).setStartAt(h,CKEDITOR.POSITION_BEFORE_START),d=(!f||g)&&h.equals(m),l&&!f)for(;!h.getNext(r)&&!d;){if((x=h.getParent()).isBlockBoundary(this.forceBrBreak&&!p&&{br:1})){f=1,g=0,d||x.equals(m),l.setEndAt(x,CKEDITOR.POSITION_BEFORE_END);break}g=1,d=(h=x).equals(m),v=1}if(g&&l.setEndAt(h,CKEDITOR.POSITION_AFTER_END),(d=!(h=this._getNextSourceNode(h,v,m)))||f&&l)break}if(!i){if(!l)return this._.docEndMarker&&this._.docEndMarker.remove(),this._.nextNode=null;h=(i=new CKEDITOR.dom.elementPath(l.startContainer,l.root)).blockLimit,f={div:1,th:1,td:1},!(i=i.block)&&h&&!this.enforceRealBlocks&&f[h.getName()]&&l.checkStartOfBlock()&&l.checkEndOfBlock()&&!h.equals(l.root)?i=h:!i||this.enforceRealBlocks&&i.is(s)?(i=this.range.document.createElement(t),l.extractContents().appendTo(i),i.trim(),l.insertNode(i),u=c=!0):"li"!=i.getName()?l.checkStartOfBlock()&&l.checkEndOfBlock()||(i=i.clone(!1),l.extractContents().appendTo(i),i.trim(),u=!(c=l.splitBlock()).wasStartOfBlock,c=!c.wasEndOfBlock,l.insertNode(i)):d||(this._.nextNode=i.equals(m)?null:this._getNextSourceNode(l.getBoundaryNodes().endNode,1,m))}return u&&(u=i.getPrevious())&&u.type==CKEDITOR.NODE_ELEMENT&&("br"==u.getName()?u.remove():u.getLast()&&"br"==u.getLast().$.nodeName.toLowerCase()&&u.getLast().remove()),c&&(u=i.getLast())&&u.type==CKEDITOR.NODE_ELEMENT&&"br"==u.getName()&&(!CKEDITOR.env.needsBrFiller||u.getPrevious(o)||u.getNext(o))&&u.remove(),this._.nextNode||(this._.nextNode=d||i.equals(m)||!m?null:this._getNextSourceNode(i,1,m)),i},_getNextSourceNode:function(t,e,n){function a(t){return!(t.equals(n)||t.equals(i))}var i=this.range.root;for(t=t.getNextSourceNode(e,null,a);!o(t);)t=t.getNextSourceNode(e,null,a);return t}},CKEDITOR.dom.range.prototype.createIterator=function(){return new t(this)}}(),CKEDITOR.command=function(t,e){var n;this.uiItems=[],this.exec=function(n){return!(this.state==CKEDITOR.TRISTATE_DISABLED||!this.checkAllowed())&&(this.editorFocus&&t.focus(),!1===this.fire("exec")||!1!==e.exec.call(this,t,n))},this.refresh=function(t,n){return!(this.readOnly||!t.readOnly)||(this.context&&!n.isContextFor(this.context)||!this.checkAllowed(!0)?(this.disable(),!0):(this.startDisabled||this.enable(),this.modes&&!this.modes[t.mode]&&this.disable(),!1===this.fire("refresh",{editor:t,path:n})||e.refresh&&!1!==e.refresh.apply(this,arguments)))},this.checkAllowed=function(e){return e||"boolean"!=typeof n?n=t.activeFilter.checkFeature(this):n},CKEDITOR.tools.extend(this,e,{modes:{wysiwyg:1},editorFocus:1,contextSensitive:!!e.context,state:CKEDITOR.TRISTATE_DISABLED}),CKEDITOR.event.call(this)},CKEDITOR.command.prototype={enable:function(){this.state==CKEDITOR.TRISTATE_DISABLED&&this.checkAllowed()&&this.setState(this.preserveState&&void 0!==this.previousState?this.previousState:CKEDITOR.TRISTATE_OFF)},disable:function(){this.setState(CKEDITOR.TRISTATE_DISABLED)},setState:function(t){return!(this.state==t||t!=CKEDITOR.TRISTATE_DISABLED&&!this.checkAllowed()||(this.previousState=this.state,this.state=t,this.fire("state"),0))},toggleState:function(){this.state==CKEDITOR.TRISTATE_OFF?this.setState(CKEDITOR.TRISTATE_ON):this.state==CKEDITOR.TRISTATE_ON&&this.setState(CKEDITOR.TRISTATE_OFF)}},CKEDITOR.event.implementOn(CKEDITOR.command.prototype),CKEDITOR.ENTER_P=1,CKEDITOR.ENTER_BR=2,CKEDITOR.ENTER_DIV=3,CKEDITOR.config={customConfig:"config.js",autoUpdateElement:!0,language:"",defaultLanguage:"en",contentsLangDirection:"",enterMode:CKEDITOR.ENTER_P,forceEnterMode:!1,shiftEnterMode:CKEDITOR.ENTER_BR,docType:"<!DOCTYPE html>",bodyId:"",bodyClass:"",fullPage:!1,height:200,contentsCss:CKEDITOR.getUrl("contents.css"),extraPlugins:"",removePlugins:"",protectedSource:[],tabIndex:0,useComputedState:!0,width:"",baseFloatZIndex:1e4,blockedKeystrokes:[CKEDITOR.CTRL+66,CKEDITOR.CTRL+73,CKEDITOR.CTRL+85]},function(){function t(t,e,n,a,o){var i,s,l;for(i in t=[],e){s="boolean"==typeof(s=e[i])?{}:"function"==typeof s?{match:s}:_(s),"$"!=i.charAt(0)&&(s.elements=i),n&&(s.featureName=n.toLowerCase());var d=s;d.elements=r(d.elements,/\s+/)||null,d.propertiesOnly=d.propertiesOnly||!0===d.elements;var u=/\s*,\s*/,c=void 0;for(c in q){d[c]=r(d[c],u)||null;var m=d,h=k[c],f=r(d[k[c]],u),p=d[c],v=[],x=!0,b=void 0;for(b in f?x=!1:f={},p)"!"==b.charAt(0)&&(b=b.slice(1),v.push(b),f[b]=!0,x=!1);for(;b=v.pop();)p[b]=p["!"+b],delete p["!"+b];m[h]=!x&&f||null}d.match=d.match||null,a.push(s),t.push(s)}for(e=o.elements,o=o.generic,n=0,a=t.length;n<a;++n){for(u in s=!0===(i=_(t[n])).classes||!0===i.styles||!0===i.attributes,d=i,c=h=u=void 0,q)d[u]=g(d[u]);for(c in m=!0,k){for(p in f=[],p=void 0,h=d[u=k[c]])-1<p.indexOf("*")?f.push(new RegExp("^"+p.replace(/\*/g,".*")+"$")):f.push(p);(h=f).length&&(d[u]=h,m=!1)}if(d.nothingRequired=m,d.noProperties=!(d.attributes||d.classes||d.styles),!0===i.elements||null===i.elements)o[s?"unshift":"push"](i);else for(l in d=i.elements,delete i.elements,d)e[l]?e[l][s?"unshift":"push"](i):e[l]=[i]}}function e(t,e,a,o){if((!t.match||t.match(e))&&(o||s(t,e))&&(t.propertiesOnly||(a.valid=!0),a.allAttributes||(a.allAttributes=n(t.attributes,e.attributes,a.validAttributes)),a.allStyles||(a.allStyles=n(t.styles,e.styles,a.validStyles)),!a.allClasses)){if(t=t.classes,e=e.classes,o=a.validClasses,t)if(!0===t)t=!0;else{for(var i,r=0,l=e.length;r<l;++r)o[i=e[r]]||(o[i]=t(i));t=!1}else t=!1;a.allClasses=t}}function n(t,e,n){if(!t)return!1;if(!0===t)return!0;for(var a in e)n[a]||(n[a]=t(a));return!1}function a(t,e,n){if(!t.match||t.match(e)){if(t.noProperties)return!1;if(n.hadInvalidAttribute=o(t.attributes,e.attributes)||n.hadInvalidAttribute,n.hadInvalidStyle=o(t.styles,e.styles)||n.hadInvalidStyle,t=t.classes,e=e.classes,t){for(var a=!1,i=!0===t,r=e.length;r--;)(i||t(e[r]))&&(e.splice(r,1),a=!0);t=a}else t=!1;n.hadInvalidClass=t||n.hadInvalidClass}}function o(t,e){if(!t)return!1;var n,a=!1,o=!0===t;for(n in e)(o||t(n))&&(delete e[n],a=!0);return a}function i(t,e,n){return!(t.disabled||t.customConfig&&!n||!e||(t._.cachedChecks={},0))}function r(t,e){if(!t)return!1;if(!0===t)return t;if("string"==typeof t)return"*"==(t=w(t))||CKEDITOR.tools.convertArrayToObject(t.split(e));if(CKEDITOR.tools.isArray(t))return!!t.length&&CKEDITOR.tools.convertArrayToObject(t);var n,a={},o=0;for(n in t)a[n]=t[n],o++;return!!o&&a}function s(t,e){if(t.nothingRequired)return!0;var n,a,o,i;if(o=t.requiredClasses)for(i=e.classes,n=0;n<o.length;++n)if("string"==typeof(a=o[n])){if(-1==CKEDITOR.tools.indexOf(i,a))return!1}else if(!CKEDITOR.tools.checkIfAnyArrayItemMatches(i,a))return!1;return l(e.styles,t.requiredStyles)&&l(e.attributes,t.requiredAttributes)}function l(t,e){if(!e)return!0;for(var n,a=0;a<e.length;++a)if("string"==typeof(n=e[a])){if(!(n in t))return!1}else if(!CKEDITOR.tools.checkIfAnyObjectPropertyMatches(t,n))return!1;return!0}function d(t){if(!t)return{};t=t.split(/\s*,\s*/).sort();for(var e={};t.length;)e[t.shift()]="cke-test";return e}function u(t){var e,n,a,o,i={},r=1;for(t=w(t);e=t.match(K);)(n=e[2])?(a=c(n,"styles"),o=c(n,"attrs"),n=c(n,"classes")):a=o=n=null,i["$"+r++]={elements:e[1],classes:n,styles:a,attributes:o},t=t.slice(e[0].length);return i}function c(t,e){var n=t.match(S[e]);return n?w(n[1]):null}function m(t){var e=t.styleBackup=t.attributes.style,n=t.classBackup=t.attributes.class;t.styles||(t.styles=CKEDITOR.tools.parseCssText(e||"",1)),t.classes||(t.classes=n?n.split(/\s+/):[])}function h(t,n,o,i){var r,s=0;if(i.toHtml&&(n.name=n.name.replace(M,"$1")),i.doCallbacks&&t.elementCallbacks){t:{for(var l,d=0,u=(r=t.elementCallbacks).length;d<u;++d)if(l=r[d](n)){r=l;break t}r=void 0}if(r)return r}if(i.doTransform&&(r=t._.transformations[n.name])){for(m(n),d=0;d<r.length;++d)E(t,n,r[d]);f(n)}if(i.doFilter){t:{d=n.name,t=(u=t._).allowedRules.elements[d],r=u.allowedRules.generic,d=u.disallowedRules.elements[d],u=u.disallowedRules.generic,l=i.skipRequired;var c,h,g={valid:!1,validAttributes:{},validClasses:{},validStyles:{},allAttributes:!1,allClasses:!1,allStyles:!1,hadInvalidAttribute:!1,hadInvalidClass:!1,hadInvalidStyle:!1};if(t||r){if(m(n),d)for(c=0,h=d.length;c<h;++c)if(!1===a(d[c],n,g)){t=null;break t}if(u)for(c=0,h=u.length;c<h;++c)a(u[c],n,g);if(t)for(c=0,h=t.length;c<h;++c)e(t[c],n,g,l);if(r)for(c=0,h=r.length;c<h;++c)e(r[c],n,g,l);t=g}else t=null}if(!t||!t.valid)return o.push(n),1;h=t.validAttributes;var v=t.validStyles;r=t.validClasses,d=n.attributes;var x=n.styles;u=n.classes,l=n.classBackup;var b,T,C=n.styleBackup,y=[],I=(g=[],/^data-cke-/);if(c=!1,delete d.style,delete d.class,delete n.classBackup,delete n.styleBackup,!t.allAttributes)for(b in d)h[b]||I.test(b)&&(b==(T=b.replace(/^data-cke-saved-/,""))||h[T])||(delete d[b],c=!0);if(!t.allStyles||t.hadInvalidStyle){for(b in x)t.allStyles||v[b]?y.push(b+":"+x[b]):c=!0;y.length&&(d.style=y.sort().join("; "))}else C&&(d.style=C);if(!t.allClasses||t.hadInvalidClass){for(b=0;b<u.length;++b)(t.allClasses||r[u[b]])&&g.push(u[b]);g.length&&(d.class=g.sort().join(" ")),l&&g.length<l.split(/\s+/).length&&(c=!0)}else l&&(d.class=l);if(c&&(s=1),!i.skipFinalValidation&&!p(n))return o.push(n),1}return i.toHtml&&(n.name=n.name.replace(L,"cke:$1")),s}function f(t){var e,n=t.attributes;delete n.style,delete n.class,(e=CKEDITOR.tools.writeCssText(t.styles,!0))&&(n.style=e),t.classes.length&&(n.class=t.classes.sort().join(" "))}function p(t){switch(t.name){case"a":if(!(t.children.length||t.attributes.name||t.attributes.id))return!1;break;case"img":if(!t.attributes.src)return!1}return!0}function g(t){if(!t)return!1;if(!0===t)return!0;var e=function(t){var e,n=[];for(e in t)-1<e.indexOf("*")&&n.push(e.replace(/\*/g,".*"));return n.length?new RegExp("^(?:"+n.join("|")+")$"):null}(t);return function(n){return n in t||e&&n.match(e)}}function v(){return new CKEDITOR.htmlParser.element("br")}function x(t){return t.type==CKEDITOR.NODE_ELEMENT&&("br"==t.name||D.$block[t.name])}function b(t,e,n){var a=t.name;if(D.$empty[a]||!t.children.length)"hr"==a&&"br"==e?t.replaceWith(v()):(t.parent&&n.push({check:"it",el:t.parent}),t.remove());else if(D.$block[a]||"tr"==a)if("br"==e)t.previous&&!x(t.previous)&&(e=v()).insertBefore(t),t.next&&!x(t.next)&&(e=v()).insertAfter(t),t.replaceWithChildren();else{var o;a=t.children;t:{o=D[e];for(var i,r=0,s=a.length;r<s;++r)if((i=a[r]).type==CKEDITOR.NODE_ELEMENT&&!o[i.name]){o=!1;break t}o=!0}if(o)t.name=e,t.attributes={},n.push({check:"parent-down",el:t});else{var l,d;for(r=(o=t.parent).type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||"body"==o.name,s=a.length;0<s;)i=a[--s],r&&(i.type==CKEDITOR.NODE_TEXT||i.type==CKEDITOR.NODE_ELEMENT&&D.$inline[i.name])?(l||((l=new CKEDITOR.htmlParser.element(e)).insertAfter(t),n.push({check:"parent-down",el:l})),l.add(i,0)):(l=null,d=D[o.name]||D.span,i.insertAfter(t),o.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||i.type!=CKEDITOR.NODE_ELEMENT||d[i.name]||n.push({check:"el-up",el:i}));t.remove()}}else a in{style:1,script:1}?t.remove():(t.parent&&n.push({check:"it",el:t.parent}),t.replaceWithChildren())}function E(t,e,n){var a,o;for(a=0;a<n.length;++a)if(!((o=n[a]).check&&!t.check(o.check,!1)||o.left&&!o.left(e))){o.right(e,R);break}}function T(t,e){var n,a,o,i,r=e.getDefinition(),s=r.attributes,l=r.styles;if(t.name!=r.element)return!1;for(n in s)if("class"==n){for(r=s[n].split(/\s+/),o=t.classes.join("|");i=r.pop();)if(-1==o.indexOf(i))return!1}else if(t.attributes[n]!=s[n])return!1;for(a in l)if(t.styles[a]!=l[a])return!1;return!0}function C(t,e){var n,a;return"string"==typeof t?n=t:t instanceof CKEDITOR.style?a=t:(n=t[0],a=t[1]),[{element:n,left:a,right:function(t,n){n.transform(t,e)}}]}function y(t){return function(e){return T(e,t)}}function I(t){return function(e,n){n[t](e)}}var D=CKEDITOR.dtd,_=CKEDITOR.tools.copy,w=CKEDITOR.tools.trim,O=["","p","br","div"];CKEDITOR.FILTER_SKIP_TREE=2,CKEDITOR.filter=function(t,e){this.allowedContent=[],this.disallowedContent=[],this.elementCallbacks=null,this.disabled=!1,this.editor=null,this.id=CKEDITOR.tools.getNextNumber(),this._={allowedRules:{elements:{},generic:[]},disallowedRules:{elements:{},generic:[]},transformations:{},cachedTests:{},cachedChecks:{}},CKEDITOR.filter.instances[this.id]=this;var n=this.editor=t instanceof CKEDITOR.editor?t:null;if(n&&!e){this.customConfig=!0;var a=n.config.allowedContent;!0===a?this.disabled=!0:(a||(this.customConfig=!1),this.allow(a,"config",1),this.allow(n.config.extraAllowedContent,"extra",1),this.allow(O[n.enterMode]+" "+O[n.shiftEnterMode],"default",1),this.disallow(n.config.disallowedContent))}else this.customConfig=!1,this.allow(e||t,"default",1)},CKEDITOR.filter.instances={},CKEDITOR.filter.prototype={allow:function(e,n,a){if(!i(this,e,a))return!1;var o,r;if("string"==typeof e)e=u(e);else if(e instanceof CKEDITOR.style){if(e.toAllowedContentRules)return this.allow(e.toAllowedContentRules(this.editor),n,a);o=e.getDefinition(),e={},a=o.attributes,e[o.element]=o={styles:o.styles,requiredStyles:o.styles&&CKEDITOR.tools.object.keys(o.styles)},a&&(a=_(a),o.classes=a.class?a.class.split(/\s+/):null,o.requiredClasses=o.classes,delete a.class,o.attributes=a,o.requiredAttributes=a&&CKEDITOR.tools.object.keys(a))}else if(CKEDITOR.tools.isArray(e)){for(o=0;o<e.length;++o)r=this.allow(e[o],n,a);return r}return t(this,e,n,this.allowedContent,this._.allowedRules),!0},applyTo:function(t,e,n,a){if(this.disabled)return!1;var o,i,r,s=this,l=[],d=this.editor&&this.editor.config.protectedSource,u=!1,c={doFilter:!n,doTransform:!0,doCallbacks:!0,toHtml:e};for(t.forEach((function(t){if(t.type==CKEDITOR.NODE_ELEMENT){if("off"==t.attributes["data-cke-filter"])return!1;if(!e||"span"!=t.name||!~CKEDITOR.tools.object.keys(t.attributes).join("|").indexOf("data-cke-"))if(1&(o=h(s,t,l,c)))u=!0;else if(2&o)return!1}else if(t.type==CKEDITOR.NODE_COMMENT&&t.value.match(/^\{cke_protected\}(?!\{C\})/)){var n;t:{var a,i,r,m=decodeURIComponent(t.value.replace(/^\{cke_protected\}/,""));if(n=[],d)for(i=0;i<d.length;++i)if((r=m.match(d[i]))&&r[0].length==m.length){n=!0;break t}1==(m=CKEDITOR.htmlParser.fragment.fromHtml(m)).children.length&&(a=m.children[0]).type==CKEDITOR.NODE_ELEMENT&&h(s,a,n,c),n=!n.length}n||l.push(t)}}),null,!0),l.length&&(u=!0),t=[],a=O[a||(this.editor?this.editor.enterMode:CKEDITOR.ENTER_P)];n=l.pop();)n.type==CKEDITOR.NODE_ELEMENT?b(n,a,t):n.remove();for(;i=t.pop();)if((n=i.el).parent)switch(r=D[n.parent.name]||D.span,i.check){case"it":D.$removeEmpty[n.name]&&!n.children.length?b(n,a,t):p(n)||b(n,a,t);break;case"el-up":n.parent.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||r[n.name]||b(n,a,t);break;case"parent-down":n.parent.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||r[n.name]||b(n.parent,a,t)}return u},checkFeature:function(t){return!(!this.disabled&&t)||(t.toFeature&&(t=t.toFeature(this.editor)),!t.requiredContent||this.check(t.requiredContent))},disable:function(){this.disabled=!0},disallow:function(e){return!!i(this,e,!0)&&("string"==typeof e&&(e=u(e)),t(this,e,null,this.disallowedContent,this._.disallowedRules),!0)},addContentForms:function(t){if(!this.disabled&&t){var e,n,a,o=[];for(e=0;e<t.length&&!a;++e)("string"==typeof(n=t[e])||n instanceof CKEDITOR.style)&&this.check(n)&&(a=n);if(a){for(e=0;e<t.length;++e)o.push(C(t[e],a));this.addTransformations(o)}}},addElementCallback:function(t){this.elementCallbacks||(this.elementCallbacks=[]),this.elementCallbacks.push(t)},addFeature:function(t){return!(!this.disabled&&t)||(t.toFeature&&(t=t.toFeature(this.editor)),this.allow(t.allowedContent,t.name),this.addTransformations(t.contentTransformations),this.addContentForms(t.contentForms),!t.requiredContent||!this.customConfig&&!this.disallowedContent.length||this.check(t.requiredContent))},addTransformations:function(t){var e,n;if(!this.disabled&&t){var a,o=this._.transformations;for(a=0;a<t.length;++a){e=t[a];var i=void 0,r=void 0,s=void 0,l=void 0,d=void 0,u=void 0;for(n=[],r=0;r<e.length;++r)"string"==typeof(s=e[r])?(l=(s=s.split(/\s*:\s*/))[0],d=null,u=s[1]):(l=s.check,d=s.left,u=s.right),i||(i=(i=s).element?i.element:l?l.match(/^([a-z0-9]+)/i)[0]:i.left.getDefinition().element),d instanceof CKEDITOR.style&&(d=y(d)),n.push({check:l==i?null:l,left:d,right:"string"==typeof u?I(u):u});o[e=i]||(o[e]=[]),o[e].push(n)}}},check:function(t,e,n){if(this.disabled)return!0;if(CKEDITOR.tools.isArray(t)){for(var a=t.length;a--;)if(this.check(t[a],e,n))return!0;return!1}var o,i;if("string"==typeof t){if((i=t+"<"+(!1===e?"0":"1")+(n?"1":"0")+">")in this._.cachedChecks)return this._.cachedChecks[i];var r=(o=u(t).$1).styles;a=o.classes,o.name=o.elements,o.classes=a=a?a.split(/\s*,\s*/):[],o.styles=d(r),o.attributes=d(o.attributes),o.children=[],a.length&&(o.attributes.class=a.join(" ")),r&&(o.attributes.style=CKEDITOR.tools.writeCssText(o.styles))}else r=(o=t.getDefinition()).styles,a=o.attributes||{},r&&!CKEDITOR.tools.isEmpty(r)?(r=_(r),a.style=CKEDITOR.tools.writeCssText(r,!0)):r={},o={name:o.element,attributes:a,classes:a.class?a.class.split(/\s+/):[],styles:r,children:[]};r=CKEDITOR.tools.clone(o);var s,l=[];if(!1!==e&&(s=this._.transformations[o.name])){for(a=0;a<s.length;++a)E(this,o,s[a]);f(o)}return h(this,r,l,{doFilter:!0,doTransform:!1!==e,skipRequired:!n,skipFinalValidation:!n}),0<l.length?n=!1:((e=o.attributes.class)&&(o.attributes.class=o.attributes.class.split(" ").sort().join(" ")),n=CKEDITOR.tools.objectCompare(o.attributes,r.attributes,!0),e&&(o.attributes.class=e)),"string"==typeof t&&(this._.cachedChecks[i]=n),n},getAllowedEnterMode:function(){var t=["p","div","br"],e={p:CKEDITOR.ENTER_P,div:CKEDITOR.ENTER_DIV,br:CKEDITOR.ENTER_BR};return function(n,a){var o,i=t.slice();if(this.check(O[n]))return n;for(a||(i=i.reverse());o=i.pop();)if(this.check(o))return e[o];return CKEDITOR.ENTER_BR}}(),clone:function(){var t=new CKEDITOR.filter,e=CKEDITOR.tools.clone;return t.allowedContent=e(this.allowedContent),t._.allowedRules=e(this._.allowedRules),t.disallowedContent=e(this.disallowedContent),t._.disallowedRules=e(this._.disallowedRules),t._.transformations=e(this._.transformations),t.disabled=this.disabled,t.editor=this.editor,t},destroy:function(){delete CKEDITOR.filter.instances[this.id],delete this._,delete this.allowedContent,delete this.disallowedContent}};var R,q={styles:1,attributes:1,classes:1},k={styles:"requiredStyles",attributes:"requiredAttributes",classes:"requiredClasses"},K=/^([a-z0-9\-*\s]+)((?:\s*\{[!\w\-,\s\*]+\}\s*|\s*\[[!\w\-,\s\*]+\]\s*|\s*\([!\w\-,\s\*]+\)\s*){0,3})(?:;\s*|$)/i,S={styles:/{([^}]+)}/,attrs:/\[([^\]]+)\]/,classes:/\(([^\)]+)\)/},M=/^cke:(object|embed|param)$/,L=/^(object|embed|param)$/;R=CKEDITOR.filter.transformationsTools={sizeToStyle:function(t){this.lengthToStyle(t,"width"),this.lengthToStyle(t,"height")},sizeToAttribute:function(t){this.lengthToAttribute(t,"width"),this.lengthToAttribute(t,"height")},lengthToStyle:function(t,e,n){if(!((n=n||e)in t.styles)){var a=t.attributes[e];a&&(/^\d+$/.test(a)&&(a+="px"),t.styles[n]=a)}delete t.attributes[e]},lengthToAttribute:function(t,e,n){if(!((n=n||e)in t.attributes)){var a=t.styles[e],o=a&&a.match(/^(\d+)(?:\.\d*)?px$/);o?t.attributes[n]=o[1]:"cke-test"==a&&(t.attributes[n]="cke-test")}delete t.styles[e]},alignmentToStyle:function(t){if(!("float"in t.styles)){var e=t.attributes.align;"left"!=e&&"right"!=e||(t.styles.float=e)}delete t.attributes.align},alignmentToAttribute:function(t){if(!("align"in t.attributes)){var e=t.styles.float;"left"!=e&&"right"!=e||(t.attributes.align=e)}delete t.styles.float},splitBorderShorthand:function(t){if(t.styles.border){var e=CKEDITOR.tools.style.parse.border(t.styles.border);e.color&&(t.styles["border-color"]=e.color),e.style&&(t.styles["border-style"]=e.style),e.width&&(t.styles["border-width"]=e.width),delete t.styles.border}},listTypeToStyle:function(t){if(t.attributes.type)switch(t.attributes.type){case"a":t.styles["list-style-type"]="lower-alpha";break;case"A":t.styles["list-style-type"]="upper-alpha";break;case"i":t.styles["list-style-type"]="lower-roman";break;case"I":t.styles["list-style-type"]="upper-roman";break;case"1":t.styles["list-style-type"]="decimal";break;default:t.styles["list-style-type"]=t.attributes.type}},splitMarginShorthand:function(t){function e(e){t.styles["margin-top"]=n[e[0]],t.styles["margin-right"]=n[e[1]],t.styles["margin-bottom"]=n[e[2]],t.styles["margin-left"]=n[e[3]]}if(t.styles.margin){var n=t.styles.margin.match(/(auto|0|(?:\-?[\.\d]+(?:\w+|%)))/g)||["0px"];switch(n.length){case 1:e([0,0,0,0]);break;case 2:e([0,1,0,1]);break;case 3:e([0,1,2,1]);break;case 4:e([0,1,2,3])}delete t.styles.margin}},matchesStyle:T,transform:function(t,e){if("string"==typeof e)t.name=e;else{var n,a,o,i,r=e.getDefinition(),s=r.styles,l=r.attributes;for(n in t.name=r.element,l)if("class"==n)for(r=t.classes.join("|"),o=l[n].split(/\s+/);i=o.pop();)-1==r.indexOf(i)&&t.classes.push(i);else t.attributes[n]=l[n];for(a in s)t.styles[a]=s[a]}}}}(),CKEDITOR.focusManager=function(t){return t.focusManager?t.focusManager:(this.hasFocus=!1,this.currentActive=null,this._={editor:t},this)},CKEDITOR.focusManager._={blurDelay:200},CKEDITOR.focusManager.prototype={focus:function(t){this._.timer&&clearTimeout(this._.timer),t&&(this.currentActive=t),this.hasFocus||this._.locked||((t=CKEDITOR.currentInstance)&&t.focusManager.blur(1),this.hasFocus=!0,(t=this._.editor.container)&&t.addClass("cke_focus"),this._.editor.fire("focus"))},lock:function(){this._.locked=1},unlock:function(){delete this._.locked},blur:function(t){function e(){if(this.hasFocus){this.hasFocus=!1;var t=this._.editor.container;t&&t.removeClass("cke_focus"),this._.editor.fire("blur")}}if(!this._.locked){this._.timer&&clearTimeout(this._.timer);var n=CKEDITOR.focusManager._.blurDelay;t||!n?e.call(this):this._.timer=CKEDITOR.tools.setTimeout((function(){delete this._.timer,e.call(this)}),n,this)}},add:function(t,e){if(!(n=t.getCustomData("focusmanager"))||n!=this){n&&n.remove(t);var n="focus",a="blur";e&&(CKEDITOR.env.ie?(n="focusin",a="focusout"):CKEDITOR.event.useCapture=1);var o={blur:function(){t.equals(this.currentActive)&&this.blur()},focus:function(){this.focus(t)}};t.on(n,o.focus,this),t.on(a,o.blur,this),e&&(CKEDITOR.event.useCapture=0),t.setCustomData("focusmanager",this),t.setCustomData("focusmanager_handlers",o)}},remove:function(t){t.removeCustomData("focusmanager");var e=t.removeCustomData("focusmanager_handlers");t.removeListener("blur",e.blur),t.removeListener("focus",e.focus)}},CKEDITOR.keystrokeHandler=function(t){return t.keystrokeHandler?t.keystrokeHandler:(this.keystrokes={},this.blockedKeystrokes={},this._={editor:t},this)},function(){var t,e=function(e){var n=(e=e.data).getKeystroke(),a=this.keystrokes[n],o=this._.editor;return(t=!1===o.fire("key",{keyCode:n,domEvent:e}))||(a&&(t=!1!==o.execCommand(a,{from:"keystrokeHandler"})),t||(t=!!this.blockedKeystrokes[n])),t&&e.preventDefault(!0),!t},n=function(e){t&&(t=!1,e.data.preventDefault(!0))};CKEDITOR.keystrokeHandler.prototype={attach:function(t){t.on("keydown",e,this),CKEDITOR.env.gecko&&CKEDITOR.env.mac&&t.on("keypress",n,this)}}}(),CKEDITOR.lang={languages:{af:1,ar:1,az:1,bg:1,bn:1,bs:1,ca:1,cs:1,cy:1,da:1,de:1,"de-ch":1,el:1,"en-au":1,"en-ca":1,"en-gb":1,en:1,eo:1,es:1,"es-mx":1,et:1,eu:1,fa:1,fi:1,fo:1,"fr-ca":1,fr:1,gl:1,gu:1,he:1,hi:1,hr:1,hu:1,id:1,is:1,it:1,ja:1,ka:1,km:1,ko:1,ku:1,lt:1,lv:1,mk:1,mn:1,ms:1,nb:1,nl:1,no:1,oc:1,pl:1,"pt-br":1,pt:1,ro:1,ru:1,si:1,sk:1,sl:1,sq:1,"sr-latn":1,sr:1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,"zh-cn":1,zh:1},rtl:{ar:1,fa:1,he:1,ku:1,ug:1},load:function(t,e,n){t&&CKEDITOR.lang.languages[t]||(t=this.detect(e,t));var a=this;e=function(){a[t].dir=a.rtl[t]?"rtl":"ltr",n(t,a[t])},this[t]?e():CKEDITOR.scriptLoader.load(CKEDITOR.getUrl("lang/"+t+".js"),e,this)},detect:function(t,e){var n=this.languages,a=(o=(e=e||navigator.userLanguage||navigator.language||t).toLowerCase().match(/([a-z]+)(?:-([a-z]+))?/))[1],o=o[2];return n[a+"-"+o]?a=a+"-"+o:n[a]||(a=null),CKEDITOR.lang.detect=a?function(){return a}:function(t){return t},a||t}},CKEDITOR.scriptLoader=function(){var t={},e={};return{load:function(n,a,o,i){var r="string"==typeof n;r&&(n=[n]),o||(o=CKEDITOR);var s=n.length,l=s,d=[],u=[],c=function(t){a&&(r?a.call(o,t):a.call(o,d,u))};if(0===l)c(!0);else{var m=function(t,e){(e?d:u).push(t),0>=--l&&(i&&CKEDITOR.document.getDocumentElement().removeStyle("cursor"),c(e))},h=function(n,a){t[n]=1;var o=e[n];delete e[n];for(var i=0;i<o.length;i++)o[i](n,a)},f=function(n){if(t[n])m(n,!0);else{var o=e[n]||(e[n]=[]);if(o.push(m),!(1<o.length)){var i=new CKEDITOR.dom.element("script");i.setAttributes({type:"text/javascript",src:n}),a&&(CKEDITOR.env.ie&&(8>=CKEDITOR.env.version||CKEDITOR.env.ie9Compat)?i.$.onreadystatechange=function(){"loaded"!=i.$.readyState&&"complete"!=i.$.readyState||(i.$.onreadystatechange=null,h(n,!0))}:(i.$.onload=function(){setTimeout((function(){i.$.onload=null,i.$.onerror=null,h(n,!0)}),0)},i.$.onerror=function(){i.$.onload=null,i.$.onerror=null,h(n,!1)})),i.appendTo(CKEDITOR.document.getHead())}}};i&&CKEDITOR.document.getDocumentElement().setStyle("cursor","wait");for(var p=0;p<s;p++)f(n[p])}},queue:function(){function t(){var t;(t=e[0])&&this.load(t.scriptUrl,t.callback,CKEDITOR,0)}var e=[];return function(n,a){var o=this;e.push({scriptUrl:n,callback:function(){a&&a.apply(this,arguments),e.shift(),t.call(o)}}),1==e.length&&t.call(this)}}()}}(),CKEDITOR.resourceManager=function(t,e){this.basePath=t,this.fileName=e,this.registered={},this.loaded={},this.externals={},this._={waitingList:{}}},CKEDITOR.resourceManager.prototype={add:function(t,e){if(this.registered[t])throw Error('[CKEDITOR.resourceManager.add] The resource name "'+t+'" is already registered.');var n=this.registered[t]=e||{};return n.name=t,n.path=this.getPath(t),CKEDITOR.fire(t+CKEDITOR.tools.capitalize(this.fileName)+"Ready",n),this.get(t)},get:function(t){return this.registered[t]||null},getPath:function(t){var e=this.externals[t];return CKEDITOR.getUrl(e&&e.dir||this.basePath+t+"/")},getFilePath:function(t){var e=this.externals[t];return CKEDITOR.getUrl(this.getPath(t)+(e?e.file:this.fileName+".js"))},addExternal:function(t,e,n){n||(e=e.replace(/[^\/]+$/,(function(t){return n=t,""}))),n=n||this.fileName+".js",t=t.split(",");for(var a=0;a<t.length;a++)this.externals[t[a]]={dir:e,file:n}},load:function(t,e,n){CKEDITOR.tools.isArray(t)||(t=t?[t]:[]);for(var a=this.loaded,o=this.registered,i=[],r={},s={},l=0;l<t.length;l++){var d=t[l];if(d)if(a[d]||o[d])s[d]=this.get(d);else{var u=this.getFilePath(d);i.push(u),u in r||(r[u]=[]),r[u].push(d)}}CKEDITOR.scriptLoader.load(i,(function(t,o){if(o.length)throw Error('[CKEDITOR.resourceManager.load] Resource name "'+r[o[0]].join(",")+'" was not found at "'+o[0]+'".');for(var i=0;i<t.length;i++)for(var l=r[t[i]],d=0;d<l.length;d++){var u=l[d];s[u]=this.get(u),a[u]=1}e.call(n,s)}),this)}},CKEDITOR.plugins=new CKEDITOR.resourceManager("plugins/","plugin"),CKEDITOR.plugins.load=CKEDITOR.tools.override(CKEDITOR.plugins.load,(function(t){var e={};return function(n,a,o){var i={},r=function(n){t.call(this,n,(function(t){CKEDITOR.tools.extend(i,t);var n,s=[];for(n in t){var l=t[n],d=l&&l.requires;if(!e[n]){if(l.icons)for(var u=l.icons.split(","),c=u.length;c--;)CKEDITOR.skin.addIcon(u[c],l.path+"icons/"+(CKEDITOR.env.hidpi&&l.hidpi?"hidpi/":"")+u[c]+".png");l.isSupportedEnvironment=l.isSupportedEnvironment||function(){return!0},e[n]=1}if(d)for(d.split&&(d=d.split(",")),l=0;l<d.length;l++)i[d[l]]||s.push(d[l])}if(s.length)r.call(this,s);else{for(n in i)(l=i[n]).onLoad&&!l.onLoad._called&&(!1===l.onLoad()&&delete i[n],l.onLoad._called=1);a&&a.call(o||window,i)}}),this)};r.call(this,n)}})),CKEDITOR.plugins.setLang=function(t,e,n){var a=this.get(t);t=a.langEntries||(a.langEntries={}),(a=a.lang||(a.lang=[])).split&&(a=a.split(",")),-1==CKEDITOR.tools.indexOf(a,e)&&a.push(e),t[e]=n},CKEDITOR.ui=function(t){return t.ui?t.ui:(this.items={},this.instances={},this.editor=t,this._={handlers:{}},this)},CKEDITOR.ui.prototype={add:function(t,e,n){n.name=t.toLowerCase();var a=this.items[t]={type:e,command:n.command||null,args:Array.prototype.slice.call(arguments,2)};CKEDITOR.tools.extend(a,n)},get:function(t){return this.instances[t]},create:function(t){var e=this.items[t],n=e&&this._.handlers[e.type],a=e&&e.command&&this.editor.getCommand(e.command);return n=n&&n.create.apply(this,e.args),this.instances[t]=n,a&&a.uiItems.push(n),n&&!n.type&&(n.type=e.type),n},addHandler:function(t,e){this._.handlers[t]=e},space:function(t){return CKEDITOR.document.getById(this.spaceId(t))},spaceId:function(t){return this.editor.id+"_"+t}},CKEDITOR.event.implementOn(CKEDITOR.ui),function(){function t(t,n,o){if(CKEDITOR.event.call(this),t=t&&CKEDITOR.tools.clone(t),void 0!==n){if(!(n instanceof CKEDITOR.dom.element))throw Error("Expect element of type CKEDITOR.dom.element.");if(!o)throw Error("One of the element modes must be specified.");if(CKEDITOR.env.ie&&CKEDITOR.env.quirks&&o==CKEDITOR.ELEMENT_MODE_INLINE)throw Error("Inline element mode is not supported on IE quirks.");if(!function(t,e){return e==CKEDITOR.ELEMENT_MODE_INLINE?t.is(CKEDITOR.dtd.$editable)||t.is("textarea"):e==CKEDITOR.ELEMENT_MODE_REPLACE?!t.is(CKEDITOR.dtd.$nonBodyContent):1}(n,o))throw Error('The specified element mode is not supported on element: "'+n.getName()+'".');this.element=n,this.elementMode=o,this.name=this.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO&&(n.getId()||n.getNameAtt())}else this.elementMode=CKEDITOR.ELEMENT_MODE_NONE;this._={},this.commands={},this.templates={},this.name=this.name||function(){do{var t="editor"+ ++s}while(CKEDITOR.instances[t]);return t}(),this.id=CKEDITOR.tools.getNextId(),this.status="unloaded",this.config=CKEDITOR.tools.prototypedCopy(CKEDITOR.config),this.ui=new CKEDITOR.ui(this),this.focusManager=new CKEDITOR.focusManager(this),this.keystrokeHandler=new CKEDITOR.keystrokeHandler(this),this.on("readOnly",e),this.on("selectionChange",(function(t){a(this,t.data.path)})),this.on("activeFilterChange",(function(){a(this,this.elementPath(),!0)})),this.on("mode",e),CKEDITOR.dom.selection.setupEditorOptimization(this),this.on("instanceReady",(function(){if(this.config.startupFocus){if("end"===this.config.startupFocus){var t=this.createRange();t.selectNodeContents(this.editable()),t.shrink(CKEDITOR.SHRINK_ELEMENT,!0),t.collapse(),this.getSelection().selectRanges([t])}this.focus()}})),CKEDITOR.fire("instanceCreated",null,this),CKEDITOR.add(this),CKEDITOR.tools.setTimeout((function(){this.isDestroyed()||this.isDetached()||i(this,t)}),0,this)}function e(){var t,e=this.commands;for(t in e)n(this,e[t])}function n(t,e){e[e.startDisabled||t.readOnly&&!e.readOnly?"disable":e.modes[t.mode]?"enable":"disable"]()}function a(t,e,n){if(e){var a,o,i=t.commands;for(o in i)a=i[o],(n||a.contextSensitive)&&a.refresh(t,e)}}function o(t){if(!(e=t.config.customConfig))return!1;var e=CKEDITOR.getUrl(e),n=l[e]||(l[e]={});return n.fn?(n.fn.call(t,t.config),CKEDITOR.getUrl(t.config.customConfig)!=e&&o(t)||t.fireOnce("customConfigLoaded")):CKEDITOR.scriptLoader.queue(e,(function(){n.fn=n.fn||CKEDITOR.editorConfig||function(){},o(t)})),!0}function i(t,e){t.on("customConfigLoaded",(function(){if(e){if(e.on)for(var n in e.on)t.on(n,e.on[n]);CKEDITOR.tools.extend(t.config,e,!0),delete t.config.on}n=t.config,t.readOnly=!!n.readOnly||(t.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?t.element.is("textarea")?t.element.hasAttribute("disabled")||t.element.hasAttribute("readonly"):t.element.isReadOnly():t.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE&&(t.element.hasAttribute("disabled")||t.element.hasAttribute("readonly"))),t.blockless=t.elementMode==CKEDITOR.ELEMENT_MODE_INLINE&&!(t.element.is("textarea")||CKEDITOR.dtd[t.element.getName()].p),t.tabIndex=n.tabIndex||t.element&&t.element.getAttribute("tabindex")||0,t.activeEnterMode=t.enterMode=t.blockless?CKEDITOR.ENTER_BR:n.enterMode,t.activeShiftEnterMode=t.shiftEnterMode=t.blockless?CKEDITOR.ENTER_BR:n.shiftEnterMode,n.skin&&(CKEDITOR.skinName=n.skin),t.fireOnce("configLoaded"),t.dataProcessor=new CKEDITOR.htmlDataProcessor(t),t.filter=t.activeFilter=new CKEDITOR.filter(t),function(t){CKEDITOR.skin.loadPart("editor",(function(){!function(t){CKEDITOR.lang.load(t.config.language,t.config.defaultLanguage,(function(e,n){var a=t.config.title,o=t.config.applicationTitle;t.langCode=e,t.lang=CKEDITOR.tools.prototypedCopy(n),t.title="string"==typeof a||!1===a?a:[t.lang.editor,t.name].join(", "),t.applicationTitle="string"==typeof o||!1===o?o:[t.lang.application,t.name].join(", "),t.config.contentsLangDirection||(t.config.contentsLangDirection=t.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?t.element.getDirection(1):t.lang.dir),t.fire("langLoaded"),function(t){t.getStylesSet((function(e){t.once("loaded",(function(){t.fire("stylesSet",{styles:e})}),null,null,1),function(t){function e(t){return t?(CKEDITOR.tools.isArray(t)&&(t=t.join(",")),t.replace(/\s/g,"")):""}var n=t.config,a=e(n.plugins),o=e(n.extraPlugins),i=e(n.removePlugins);if(o){var r=new RegExp("(?:^|,)(?:"+o.replace(/,/g,"|")+")(?=,|$)","g");a=(a=a.replace(r,""))+","+o}if(i){var s=new RegExp("(?:^|,)(?:"+i.replace(/,/g,"|")+")(?=,|$)","g");a=a.replace(s,"")}CKEDITOR.env.air&&(a+=",adobeair"),CKEDITOR.plugins.load(a.split(","),(function(e){var a=[],o=[],i=[];for(var r in t.plugins=CKEDITOR.tools.extend({},t.plugins,e),e){var l,d=e[r],u=d.lang,c=null,m=d.requires;if(CKEDITOR.tools.isArray(m)&&(m=m.join(",")),m&&(l=m.match(s)))for(;m=l.pop();)CKEDITOR.error("editor-plugin-required",{plugin:m.replace(",",""),requiredBy:r});u&&!t.lang[r]&&(u.split&&(u=u.split(",")),c=0<=CKEDITOR.tools.indexOf(u,t.langCode)?t.langCode:(c=t.langCode.replace(/-.*/,""))!=t.langCode&&0<=CKEDITOR.tools.indexOf(u,c)?c:0<=CKEDITOR.tools.indexOf(u,"en")?"en":u[0],d.langEntries&&d.langEntries[c]?(t.lang[r]=d.langEntries[c],c=null):i.push(CKEDITOR.getUrl(d.path+"lang/"+c+".js"))),o.push(c),a.push(d)}CKEDITOR.scriptLoader.load(i,(function(){if(!t.isDestroyed()&&!t.isDetached()){for(var e=["beforeInit","init","afterInit"],i=0;i<e.length;i++)for(var r=0;r<a.length;r++){var s=a[r];0===i&&o[r]&&s.lang&&s.langEntries&&(t.lang[s.name]=s.langEntries[o[r]]),s[e[i]]&&s[e[i]](t)}for(t.fireOnce("pluginsLoaded"),n.keystrokes&&t.setKeystroke(t.config.keystrokes),r=0;r<t.config.blockedKeystrokes.length;r++)t.keystrokeHandler.blockedKeystrokes[t.config.blockedKeystrokes[r]]=1;t.status="loaded",t.fireOnce("loaded"),CKEDITOR.fire("instanceLoaded",null,t)}}))}))}(t)}))}(t)}))}(t)}))}(t)})),e&&null!=e.customConfig&&(t.config.customConfig=e.customConfig),o(t)||t.fireOnce("customConfigLoaded")}function r(){var t=this.element;if(t&&this.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO){var e=this.getData();return this.config.htmlEncodeOutput&&(e=CKEDITOR.tools.htmlEncode(e)),t.is("textarea")?t.setValue(e):t.setHtml(e),!0}return!1}t.prototype=CKEDITOR.editor.prototype,CKEDITOR.editor=t;var s=0,l={};CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{plugins:{detectConflict:function(t,e){for(var n=0;n<e.length;n++){var a=e[n];if(this[a])return CKEDITOR.warn("editor-plugin-conflict",{plugin:t,replacedWith:a}),!0}return!1}},addCommand:function(t,e){e.name=t.toLowerCase();var a=e instanceof CKEDITOR.command?e:new CKEDITOR.command(this,e);return this.mode&&n(this,a),this.commands[t]=a},_attachToForm:function(){function t(t){e.updateElement(),e._.required&&!n.getValue()&&!1===e.fire("required")&&t.data.preventDefault()}var e=this,n=e.element,a=new CKEDITOR.dom.element(n.$.form);n.is("textarea")&&a&&(a.on("submit",t),function(t){return!!(t&&t.call&&t.apply)}(a.$.submit)&&(a.$.submit=CKEDITOR.tools.override(a.$.submit,(function(e){return function(){t(),e.apply?e.apply(this):e()}}))),e.on("destroy",(function(){a.removeListener("submit",t)})))},destroy:function(t){var e=CKEDITOR.filter.instances,n=this;this.fire("beforeDestroy"),!t&&r.call(this),this.editable(null),this.filter&&delete this.filter,CKEDITOR.tools.array.forEach(CKEDITOR.tools.object.keys(e),(function(t){t=e[t],n===t.editor&&t.destroy()})),delete this.activeFilter,this.status="destroyed",this.fire("destroy"),this.removeAllListeners(),CKEDITOR.remove(this),CKEDITOR.fire("instanceDestroyed",null,this)},elementPath:function(t){if(!t){if(!(t=this.getSelection()))return null;t=t.getStartElement()}return t?new CKEDITOR.dom.elementPath(t,this.editable()):null},createRange:function(){var t=this.editable();return t?new CKEDITOR.dom.range(t):null},execCommand:function(t,e){var n=this.getCommand(t),a={name:t,commandData:e||{},command:n};return!(!n||n.state==CKEDITOR.TRISTATE_DISABLED||!1===this.fire("beforeCommandExec",a)||(a.returnValue=n.exec(a.commandData),n.async||!1===this.fire("afterCommandExec",a)))&&a.returnValue},getCommand:function(t){return this.commands[t]},getData:function(t){!t&&this.fire("beforeGetData");var e=this._.data;return"string"!=typeof e&&(e=(e=this.element)&&this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE?e.is("textarea")?e.getValue():e.getHtml():""),e={dataValue:e},!t&&this.fire("getData",e),e.dataValue},getSnapshot:function(){var t=this.fire("getSnapshot");return"string"!=typeof t&&(t=(t=this.element)&&this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE?t.is("textarea")?t.getValue():t.getHtml():""),t},loadSnapshot:function(t){this.fire("loadSnapshot",t)},setData:function(t,e,n){var a=!0,o=e;e&&"object"==typeof e&&(n=e.internal,o=e.callback,a=!e.noSnapshot),!n&&a&&this.fire("saveSnapshot"),!o&&n||this.once("dataReady",(function(t){!n&&a&&this.fire("saveSnapshot"),o&&o.call(t.editor)})),t={dataValue:t},!n&&this.fire("setData",t),this._.data=t.dataValue,!n&&this.fire("afterSetData",t)},setReadOnly:function(t){t=null==t||t,this.readOnly!=t&&(this.readOnly=t,this.keystrokeHandler.blockedKeystrokes[8]=+t,this.editable().setReadOnly(t),this.fire("readOnly"))},insertHtml:function(t,e,n){this.fire("insertHtml",{dataValue:t,mode:e,range:n})},insertText:function(t){this.fire("insertText",t)},insertElement:function(t){this.fire("insertElement",t)},getSelectedHtml:function(t){var e=this.editable(),n=(n=this.getSelection())&&n.getRanges();return e&&n&&0!==n.length?(e=function(t,e){function n(t){var e=t.startContainer,n=t.endContainer,a=e.is&&e.is("tr"),o=e.is&&e.is("td");return t=o&&e.equals(n)&&t.endOffset===e.getChildCount(),e=o&&1===e.getChildCount()&&"img"===e.getChildren().getItem(0).getName(),!!(a||t&&!e)}function a(t){var e=t.startContainer;return e.is("tr")?t.cloneContents():e.clone(!0)}for(var o,i,r,s=new CKEDITOR.dom.documentFragment,l=0;l<t.length;l++){var d=t[l],u=d.startContainer.getAscendant("tr",!0);n(d)?(o||((o=u.getAscendant("table").clone()).append(u.getAscendant({thead:1,tbody:1,tfoot:1}).clone()),s.append(o),o=o.findOne("thead, tbody, tfoot")),i&&i.equals(u)||(i=u,r=u.clone(),o.append(r)),r.append(a(d))):s.append(d.cloneContents())}return o?s:e.getHtmlFromRange(t[0])}(n,e),t?e.getHtml():e):null},extractSelectedHtml:function(t,e){var n,a=this.editable(),o=this.getSelection().getRanges(),i=new CKEDITOR.dom.documentFragment;if(!a||0===o.length)return null;for(n=0;n<o.length;n++)i.append(a.extractHtmlFromRange(o[n],e));return e||this.getSelection().selectRanges([o[0]]),t?i.getHtml():i},focus:function(){this.fire("beforeFocus")},checkDirty:function(){return"ready"==this.status&&this._.previousValue!==this.getSnapshot()},resetDirty:function(){this._.previousValue=this.getSnapshot()},updateElement:function(){return r.call(this)},setKeystroke:function(){for(var t,e,n=this.keystrokeHandler.keystrokes,a=CKEDITOR.tools.isArray(arguments[0])?arguments[0]:[[].slice.call(arguments,0)],o=a.length;o--;)t=a[o],e=0,CKEDITOR.tools.isArray(t)&&(e=t[1],t=t[0]),e?n[t]=e:delete n[t]},getCommandKeystroke:function(t,e){var n="string"==typeof t?this.getCommand(t):t,a=[];if(n){var o=CKEDITOR.tools.object.findKey(this.commands,n),i=this.keystrokeHandler.keystrokes;if(n.fakeKeystroke)a.push(n.fakeKeystroke);else for(var r in i)i[r]===o&&a.push(r)}return e?a:a[0]||null},addFeature:function(t){return this.filter.addFeature(t)},setActiveFilter:function(t){t||(t=this.filter),this.activeFilter!==t&&(this.activeFilter=t,this.fire("activeFilterChange"),t===this.filter?this.setActiveEnterMode(null,null):this.setActiveEnterMode(t.getAllowedEnterMode(this.enterMode),t.getAllowedEnterMode(this.shiftEnterMode,!0)))},setActiveEnterMode:function(t,e){t=t?this.blockless?CKEDITOR.ENTER_BR:t:this.enterMode,e=e?this.blockless?CKEDITOR.ENTER_BR:e:this.shiftEnterMode,this.activeEnterMode==t&&this.activeShiftEnterMode==e||(this.activeEnterMode=t,this.activeShiftEnterMode=e,this.fire("activeEnterModeChange"))},showNotification:function(t){alert(t)},isDetached:function(){return!!this.container&&this.container.isDetached()},isDestroyed:function(){return"destroyed"===this.status}}),CKEDITOR.editor._getEditorElement=function(t){if(!CKEDITOR.env.isCompatible)return null;var e=CKEDITOR.dom.element.get(t);return e?e.getEditor()?(CKEDITOR.error("editor-element-conflict",{editorName:e.getEditor().name}),null):e:(CKEDITOR.error("editor-incorrect-element",{element:t}),null)},CKEDITOR.editor.initializeDelayedEditorCreation=function(t,e,n){if(e.delayIfDetached_callback)return CKEDITOR.warn("editor-delayed-creation",{method:"callback"}),e.delayIfDetached_callback((function(){CKEDITOR[n](t,e),CKEDITOR.warn("editor-delayed-creation-success",{method:"callback"})})),null;var a=void 0===e.delayIfDetached_interval?CKEDITOR.config.delayIfDetached_interval:e.delayIfDetached_interval;CKEDITOR.warn("editor-delayed-creation",{method:"interval - "+a+" ms"});var o=setInterval((function(){t.isDetached()||(clearInterval(o),CKEDITOR[n](t,e),CKEDITOR.warn("editor-delayed-creation-success",{method:"interval - "+a+" ms"}))}),a);return function(){clearInterval(o)}},CKEDITOR.editor.shouldDelayEditorCreation=function(t,e){return CKEDITOR.editor.mergeDelayedCreationConfigs(e),e&&e.delayIfDetached&&t.isDetached()},CKEDITOR.editor.mergeDelayedCreationConfigs=function(t){t&&(t.delayIfDetached="boolean"==typeof t.delayIfDetached?t.delayIfDetached:CKEDITOR.config.delayIfDetached,t.delayIfDetached_interval=isNaN(t.delayIfDetached_interval)?CKEDITOR.config.delayIfDetached_interval:t.delayIfDetached_interval,t.delayIfDetached_callback=t.delayIfDetached_callback||CKEDITOR.config.delayIfDetached_callback)}}(),CKEDITOR.ELEMENT_MODE_NONE=0,CKEDITOR.ELEMENT_MODE_REPLACE=1,CKEDITOR.ELEMENT_MODE_APPENDTO=2,CKEDITOR.ELEMENT_MODE_INLINE=3,CKEDITOR.config.delayIfDetached=!1,CKEDITOR.config.delayIfDetached_callback=void 0,CKEDITOR.config.delayIfDetached_interval=50,CKEDITOR.htmlParser=function(){this._={htmlPartsRegex:/<(?:(?:\/([^>]+)>)|(?:!--([\S|\s]*?)--!?>)|(?:([^\/\s>]+)((?:\s+[\w\-:.]+(?:\s*=\s*?(?:(?:"[^"]*")|(?:'[^']*')|[^\s"'\/>]+))?)*)[\S\s]*?(\/?)>))/g}},function(){var t=/([\w\-:.]+)(?:(?:\s*=\s*(?:(?:"([^"]*)")|(?:'([^']*)')|([^\s>]+)))|(?=\s|$))/g,e={checked:1,compact:1,declare:1,defer:1,disabled:1,ismap:1,multiple:1,nohref:1,noresize:1,noshade:1,nowrap:1,readonly:1,selected:1};CKEDITOR.htmlParser.prototype={onTagOpen:function(){},onTagClose:function(){},onText:function(){},onCDATA:function(){},onComment:function(){},parse:function(n){for(var a,o,i,r=0;a=this._.htmlPartsRegex.exec(n);)if((o=a.index)>r&&(r=n.substring(r,o),i?i.push(r):this.onText(r)),r=this._.htmlPartsRegex.lastIndex,!(o=a[1])||(o=o.toLowerCase(),i&&CKEDITOR.dtd.$cdata[o]&&(this.onCDATA(i.join("")),i=null),i))if(i)i.push(a[0]);else if(o=a[3]){if(o=o.toLowerCase(),!/="/.test(o)){var s,l={},d=a[4];if(a=!!a[5],d)for(;s=t.exec(d);){var u=s[1].toLowerCase();s=s[2]||s[3]||s[4]||"",l[u]=!s&&e[u]?u:CKEDITOR.tools.htmlDecodeAttr(s)}this.onTagOpen(o,l,a),!i&&CKEDITOR.dtd.$cdata[o]&&(i=[])}}else(o=a[2])&&this.onComment(o);else this.onTagClose(o);n.length>r&&this.onText(n.substring(r,n.length))}}}(),CKEDITOR.htmlParser.basicWriter=CKEDITOR.tools.createClass({$:function(){this._={output:[]}},proto:{openTag:function(t){this._.output.push("<",t)},openTagClose:function(t,e){e?this._.output.push(" />"):this._.output.push(">")},attribute:function(t,e){"string"==typeof e&&(e=CKEDITOR.tools.htmlEncodeAttr(e)),this._.output.push(" ",t,'="',e,'"')},closeTag:function(t){this._.output.push("</",t,">")},text:function(t){this._.output.push(t)},comment:function(t){this._.output.push("\x3c!--",t,"--\x3e")},write:function(t){this._.output.push(t)},reset:function(){this._.output=[],this._.indent=!1},getHtml:function(t){var e=this._.output.join("");return t&&this.reset(),e}}}),CKEDITOR.htmlParser.node=function(){},CKEDITOR.htmlParser.node.prototype={remove:function(){var t=this.parent.children,e=CKEDITOR.tools.indexOf(t,this),n=this.previous,a=this.next;n&&(n.next=a),a&&(a.previous=n),t.splice(e,1),this.parent=null},replaceWith:function(t){var e=this.parent.children,n=CKEDITOR.tools.indexOf(e,this),a=t.previous=this.previous,o=t.next=this.next;a&&(a.next=t),o&&(o.previous=t),e[n]=t,t.parent=this.parent,this.parent=null},insertAfter:function(t){var e=t.parent.children,n=CKEDITOR.tools.indexOf(e,t),a=t.next;e.splice(n+1,0,this),this.next=t.next,this.previous=t,t.next=this,a&&(a.previous=this),this.parent=t.parent},insertBefore:function(t){var e=t.parent.children,n=CKEDITOR.tools.indexOf(e,t);e.splice(n,0,this),this.next=t,(this.previous=t.previous)&&(t.previous.next=this),t.previous=this,this.parent=t.parent},getAscendant:function(t){for(var e="function"==typeof t?t:"string"==typeof t?function(e){return e.name==t}:function(e){return e.name in t},n=this.parent;n&&n.type==CKEDITOR.NODE_ELEMENT;){if(e(n))return n;n=n.parent}return null},wrapWith:function(t){return this.replaceWith(t),t.add(this),t},getIndex:function(){return CKEDITOR.tools.indexOf(this.parent.children,this)},getFilterContext:function(t){return t||{}}},CKEDITOR.htmlParser.comment=function(t){this.value=t,this._={isBlockLike:!1}},CKEDITOR.htmlParser.comment.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_COMMENT,filter:function(t,e){var n=this.value;return(n=t.onComment(e,n,this))?"string"!=typeof n?(this.replaceWith(n),!1):(this.value=n,!0):(this.remove(),!1)},writeHtml:function(t,e){e&&this.filter(e),t.comment(this.value)}}),CKEDITOR.htmlParser.text=function(t){this.value=t,this._={isBlockLike:!1}},CKEDITOR.htmlParser.text.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_TEXT,filter:function(t,e){if(!(this.value=t.onText(e,this.value,this)))return this.remove(),!1},writeHtml:function(t,e){e&&this.filter(e),t.text(this.value)}}),CKEDITOR.htmlParser.cdata=function(t){this.value=t},CKEDITOR.htmlParser.cdata.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_TEXT,filter:function(t){if((e=this.getAscendant("style"))&&e.getAscendant({math:1,svg:1})){var e=CKEDITOR.htmlParser.fragment.fromHtml(this.value),n=new CKEDITOR.htmlParser.basicWriter;t.applyTo(e),e.writeHtml(n),this.value=n.getHtml()}},writeHtml:function(t){t.write(this.value)}}),CKEDITOR.htmlParser.fragment=function(){this.children=[],this.parent=null,this._={isBlockLike:!0,hasInlineStarted:!1}},function(){function t(t){return!t.attributes["data-cke-survive"]&&("a"==t.name&&t.attributes.href||CKEDITOR.dtd.$removeEmpty[t.name])}var e=CKEDITOR.tools.extend({table:1,ul:1,ol:1,dl:1},CKEDITOR.dtd.table,CKEDITOR.dtd.ul,CKEDITOR.dtd.ol,CKEDITOR.dtd.dl),n={ol:1,ul:1},a=CKEDITOR.tools.extend({},{html:1},CKEDITOR.dtd.html,CKEDITOR.dtd.body,CKEDITOR.dtd.head,{style:1,script:1}),o={ul:"li",ol:"li",dl:"dd",table:"tbody",tbody:"tr",thead:"tr",tfoot:"tr",tr:"td"};CKEDITOR.htmlParser.fragment.fromHtml=function(i,r,s){function l(t){var e;if(0<g.length)for(var n=0;n<g.length;n++){var a=g[n],o=a.name,i=CKEDITOR.dtd[o],r=x.name&&CKEDITOR.dtd[x.name];r&&!r[o]||t&&i&&!i[t]&&CKEDITOR.dtd[t]?o==x.name&&(c(x,x.parent,1),n--):(e||(d(),e=1),(a=a.clone()).parent=x,x=a,g.splice(n,1),n--)}}function d(){for(;v.length;)c(v.shift(),x)}function u(t){if(t._.isBlockLike&&"pre"!=t.name&&"textarea"!=t.name){var e,n=t.children.length,a=t.children[n-1];a&&a.type==CKEDITOR.NODE_TEXT&&((e=CKEDITOR.tools.rtrim(a.value))?a.value=e:t.children.length=n-1)}}function c(e,n,a){n=n||x||p;var o=x;void 0===e.previous&&(m(n,e)&&(x=n,f.onTagOpen(s,{}),e.returnPoint=n=x),u(e),t(e)&&!e.children.length||n.add(e),"pre"==e.name&&(E=!1),"textarea"==e.name&&(b=!1)),e.returnPoint?(x=e.returnPoint,delete e.returnPoint):x=a?n:o}function m(t,e){var n,a;if((t==p||"body"==t.name)&&s&&(!t.name||CKEDITOR.dtd[t.name][s]))return(n=e.attributes&&(a=e.attributes["data-cke-real-element-type"])?a:e.name)&&n in CKEDITOR.dtd.$inline&&!(n in CKEDITOR.dtd.head)&&!e.isOrphan||e.type==CKEDITOR.NODE_TEXT}function h(t,e){return(t in CKEDITOR.dtd.$listItem||t in CKEDITOR.dtd.$tableContent)&&(t==e||"dt"==t&&"dd"==e||"dd"==t&&"dt"==e)}var f=new CKEDITOR.htmlParser,p=r instanceof CKEDITOR.htmlParser.element?r:"string"==typeof r?new CKEDITOR.htmlParser.element(r):new CKEDITOR.htmlParser.fragment,g=[],v=[],x=p,b="textarea"==p.name,E="pre"==p.name;for(f.onTagOpen=function(o,i,r,s){if((i=new CKEDITOR.htmlParser.element(o,i)).isUnknown&&r&&(i.isEmpty=!0),i.isOptionalClose=s,t(i))g.push(i);else{if("pre"==o)E=!0;else{if("br"==o&&E)return void x.add(new CKEDITOR.htmlParser.text("\n"));"textarea"==o&&(b=!0)}if("br"==o)v.push(i);else{for(;s=(r=x.name)?CKEDITOR.dtd[r]||(x._.isBlockLike?CKEDITOR.dtd.div:CKEDITOR.dtd.span):a,!(i.isUnknown||x.isUnknown||s[o]);)if(x.isOptionalClose)f.onTagClose(r);else if(o in n&&r in n)(r=(r=x.children)[r.length-1])&&"li"==r.name||c(r=new CKEDITOR.htmlParser.element("li"),x),!i.returnPoint&&(i.returnPoint=x),x=r;else if(o in CKEDITOR.dtd.$listItem&&!h(o,r))f.onTagOpen("li"==o?"ul":"dl",{},0,1);else if(r in e&&!h(o,r))!i.returnPoint&&(i.returnPoint=x),x=x.parent;else{if(r in CKEDITOR.dtd.$inline&&g.unshift(x),!x.parent){i.isOrphan=1;break}c(x,x.parent,1)}l(o),d(),i.parent=x,i.isEmpty?c(i):x=i}}},f.onTagClose=function(t){for(var e=g.length-1;0<=e;e--)if(t==g[e].name)return void g.splice(e,1);for(var n=[],a=[],o=x;o!=p&&o.name!=t;)o._.isBlockLike||a.unshift(o),n.push(o),o=o.returnPoint||o.parent;if(o!=p){for(e=0;e<n.length;e++){var i=n[e];c(i,i.parent)}x=o,o._.isBlockLike?d():!0!==(e=CKEDITOR.config.shiftLineBreaks)&&v.length&&("function"!=typeof e?d():!0!==(e=e(v[v.length-1]))&&(d(),e instanceof CKEDITOR.htmlParser.text&&x.add(e),e instanceof CKEDITOR.htmlParser.element&&c(e,x))),c(o,o.parent),o==x&&(x=x.parent),g=g.concat(a)}"body"==t&&(s=!1)},f.onText=function(t){if(x._.hasInlineStarted&&!v.length||E||b||0!==(t=CKEDITOR.tools.ltrim(t)).length){var n=x.name,i=n?CKEDITOR.dtd[n]||(x._.isBlockLike?CKEDITOR.dtd.div:CKEDITOR.dtd.span):a;b||i["#"]||!(n in e)?(d(),l(),E||b||(t=t.replace(/[\t\r\n ]{2,}|[\t\r\n]/g," ")),t=new CKEDITOR.htmlParser.text(t),m(x,t)&&this.onTagOpen(s,{},0,1),x.add(t)):(f.onTagOpen(o[n]||""),f.onText(t))}},f.onCDATA=function(t){x.add(new CKEDITOR.htmlParser.cdata(t))},f.onComment=function(t){d(),l(),x.add(new CKEDITOR.htmlParser.comment(t))},f.parse(i),d();x!=p;)c(x,x.parent,1);return u(p),p},CKEDITOR.htmlParser.fragment.prototype={type:CKEDITOR.NODE_DOCUMENT_FRAGMENT,add:function(t,e){isNaN(e)&&(e=this.children.length);var n=0<e?this.children[e-1]:null;if(n){if(t._.isBlockLike&&n.type==CKEDITOR.NODE_TEXT&&(n.value=CKEDITOR.tools.rtrim(n.value),0===n.value.length))return this.children.pop(),void this.add(t);n.next=t}t.previous=n,t.parent=this,this.children.splice(e,0,t),this._.hasInlineStarted||(this._.hasInlineStarted=t.type==CKEDITOR.NODE_TEXT||t.type==CKEDITOR.NODE_ELEMENT&&!t._.isBlockLike)},filter:function(t,e){e=this.getFilterContext(e),t.onRoot(e,this),this.filterChildren(t,!1,e)},filterChildren:function(t,e,n){if(this.childrenFilteredBy!=t.id)for(n=this.getFilterContext(n),e&&!this.parent&&t.onRoot(n,this),this.childrenFilteredBy=t.id,e=0;e<this.children.length;e++)!1===this.children[e].filter(t,n)&&e--},writeHtml:function(t,e){e&&this.filter(e),this.writeChildrenHtml(t)},writeChildrenHtml:function(t,e,n){var a=this.getFilterContext();for(n&&!this.parent&&e&&e.onRoot(a,this),e&&this.filterChildren(e,!1,a),e=0,a=(n=this.children).length;e<a;e++)n[e].writeHtml(t)},forEach:function(t,e,n){if(!(n||e&&this.type!=e))var a=t(this);if(!1!==a){n=this.children;for(var o=0;o<n.length;o++)(a=n[o]).type==CKEDITOR.NODE_ELEMENT?a.forEach(t,e):e&&a.type!=e||t(a)}},getFilterContext:function(t){return t||{}}},CKEDITOR.config.shiftLineBreaks=!0}(),function(){function t(){this.rules=[]}function e(e,n,a,o){var i,r;for(i in n)(r=e[i])||(r=e[i]=new t),r.add(n[i],a,o)}CKEDITOR.htmlParser.filter=CKEDITOR.tools.createClass({$:function(e){this.id=CKEDITOR.tools.getNextNumber(),this.elementNameRules=new t,this.attributeNameRules=new t,this.elementsRules={},this.attributesRules={},this.textRules=new t,this.commentRules=new t,this.rootRules=new t,e&&this.addRules(e,10)},proto:{addRules:function(t,n){var a;"number"==typeof n?a=n:n&&"priority"in n&&(a=n.priority),"number"!=typeof a&&(a=10),"object"!=typeof n&&(n={}),t.elementNames&&this.elementNameRules.addMany(t.elementNames,a,n),t.attributeNames&&this.attributeNameRules.addMany(t.attributeNames,a,n),t.elements&&e(this.elementsRules,t.elements,a,n),t.attributes&&e(this.attributesRules,t.attributes,a,n),t.text&&this.textRules.add(t.text,a,n),t.comment&&this.commentRules.add(t.comment,a,n),t.root&&this.rootRules.add(t.root,a,n)},applyTo:function(t){t.filter(this)},onElementName:function(t,e){return this.elementNameRules.execOnName(t,e)},onAttributeName:function(t,e){return this.attributeNameRules.execOnName(t,e)},onText:function(t,e,n){return this.textRules.exec(t,e,n)},onComment:function(t,e,n){return this.commentRules.exec(t,e,n)},onRoot:function(t,e){return this.rootRules.exec(t,e)},onElement:function(t,e){for(var n,a=[this.elementsRules["^"],this.elementsRules[e.name],this.elementsRules.$],o=0;3>o;o++)if(n=a[o]){if(!1===(n=n.exec(t,e,this)))return null;if(n&&n!=e)return this.onNode(t,n);if(e.parent&&!e.name)break}return e},onNode:function(t,e){var n=e.type;return n==CKEDITOR.NODE_ELEMENT?this.onElement(t,e):n==CKEDITOR.NODE_TEXT?new CKEDITOR.htmlParser.text(this.onText(t,e.value,e)):n==CKEDITOR.NODE_COMMENT?new CKEDITOR.htmlParser.comment(this.onComment(t,e.value,e)):null},onAttribute:function(t,e,n,a){return(n=this.attributesRules[n])?n.exec(t,a,e,this):a}}}),CKEDITOR.htmlParser.filterRulesGroup=t,t.prototype={add:function(t,e,n){this.rules.splice(this.findIndex(e),0,{value:t,priority:e,options:n})},addMany:function(t,e,n){for(var a=[this.findIndex(e),0],o=0,i=t.length;o<i;o++)a.push({value:t[o],priority:e,options:n});this.rules.splice.apply(this.rules,a)},findIndex:function(t){for(var e=this.rules,n=e.length-1;0<=n&&t<e[n].priority;)n--;return n+1},exec:function(t,e){var n,a,o,i,r=e instanceof CKEDITOR.htmlParser.node||e instanceof CKEDITOR.htmlParser.fragment,s=Array.prototype.slice.call(arguments,1),l=this.rules,d=l.length;for(i=0;i<d;i++)if(r&&(n=e.type,a=e.name),o=l[i],!(t.nonEditable&&!o.options.applyToAll||t.nestedEditable&&o.options.excludeNestedEditable)){if(!1===(o=o.value.apply(null,s))||r&&o&&(o.name!=a||o.type!=n))return o;null!=o&&(s[0]=e=o)}return e},execOnName:function(t,e){for(var n,a=0,o=this.rules,i=o.length;e&&a<i;a++)n=o[a],t.nonEditable&&!n.options.applyToAll||t.nestedEditable&&n.options.excludeNestedEditable||(e=e.replace(n.value[0],n.value[1]));return e}}}(),function(){function t(t,e){function s(t){return t||CKEDITOR.env.needsNbspFiller?new CKEDITOR.htmlParser.text(" "):new CKEDITOR.htmlParser.element("br",{"data-cke-bogus":1})}function l(t,e){return function(o){if(o.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var r,l,u=[],c=n(o);if(c)for(d(c,1)&&u.push(c);c;)i(c)&&(r=a(c))&&d(r)&&((l=a(r))&&!i(l)?u.push(r):(s(m).insertAfter(r),r.remove())),c=c.previous;for(c=0;c<u.length;c++)u[c].remove();(u=!t||!1!==("function"==typeof e?e(o):e))&&(u=!(!m&&!CKEDITOR.env.needsBrFiller&&o.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||!m&&!CKEDITOR.env.needsBrFiller&&(7<document.documentMode||o.name in CKEDITOR.dtd.tr||o.name in CKEDITOR.dtd.$listItem)||(u=n(o))&&("form"!=o.name||"input"!=u.name))),u&&o.add(s(t))}}}function d(t,e){return!(m&&!CKEDITOR.env.needsBrFiller||t.type!=CKEDITOR.NODE_ELEMENT||"br"!=t.name||t.attributes["data-cke-eol"])||!!(t.type==CKEDITOR.NODE_TEXT&&(n=t.value.match(f))&&(n.index&&(new CKEDITOR.htmlParser.text(t.value.substring(0,n.index)).insertBefore(t),t.value=n[0]),!CKEDITOR.env.needsBrFiller&&m&&(!e||t.parent.name in h)||!m&&((n=t.previous)&&"br"==n.name||!n||i(n))));var n}var u,c={elements:{}},m="html"==e,h=CKEDITOR.tools.extend({},x);for(u in h)"#"in g[u]||delete h[u];for(u in h)c.elements[u]=l(m,t.config.fillEmptyBlocks);return c.root=l(m,!1),c.elements.br=function(t){return function(e){if(e.parent.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var n=e.attributes;if("data-cke-bogus"in n||"data-cke-eol"in n)delete n["data-cke-bogus"];else{for(n=e.next;n&&o(n);)n=n.next;var l=a(e);!n&&i(e.parent)?r(e.parent,s(t)):i(n)&&l&&!i(l)&&s(t).insertBefore(n)}}}}(m),c}function e(t,e){return t!=CKEDITOR.ENTER_BR&&!1!==e&&(t==CKEDITOR.ENTER_DIV?"div":"p")}function n(t){for(t=t.children[t.children.length-1];t&&o(t);)t=t.previous;return t}function a(t){for(t=t.previous;t&&o(t);)t=t.previous;return t}function o(t){return t.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.trim(t.value)||t.type==CKEDITOR.NODE_ELEMENT&&t.attributes["data-cke-bookmark"]}function i(t){return t&&(t.type==CKEDITOR.NODE_ELEMENT&&t.name in x||t.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT)}function r(t,e){var n=t.children[t.children.length-1];t.children.push(e),e.parent=t,n&&(n.next=e,e.previous=n)}function s(t){"false"!=(t=t.attributes).contenteditable&&(t["data-cke-editable"]=t.contenteditable?"true":1),t.contenteditable="false"}function l(t){switch((t=t.attributes)["data-cke-editable"]){case"true":t.contenteditable="true";break;case"1":delete t.contenteditable}}function d(t,e){return t.replace(e,(function(t,e,n){return 0===t.indexOf("<textarea")&&(t=e+u(n).replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</textarea>"),"<cke:encoded>"+encodeURIComponent(t)+"</cke:encoded>"}))}function u(t){return t.replace(/\x3c!--\{cke_protected\}\{C\}([\s\S]+?)--\x3e/g,(function(t,e){return decodeURIComponent(e)}))}function c(t,e){var n=e._.dataStore;return t.replace(/\x3c!--\{cke_protected\}([\s\S]+?)--\x3e/g,(function(t,e){return decodeURIComponent(e)})).replace(/\{cke_protected_(\d+)\}/g,(function(t,e){return n&&n[e]||""}))}function m(t,e,n){var a=[],o=e.config.protectedSource,i=e._.dataStore||(e._.dataStore={id:1}),r=new RegExp("<\\!--\\{cke_temp_"+n+"(comment)?\\}(\\d*?)--\x3e","g");o=[/<script[\s\S]*?(<\/script>|$)/gi,/<noscript[\s\S]*?<\/noscript>/gi,/<meta[\s\S]*?\/?>/gi].concat(o),t=t.replace(/\x3c!--[\s\S]*?--\x3e/g,(function(t){return"\x3c!--{cke_temp_"+n+"comment}"+(a.push(t)-1)+"--\x3e"}));for(var s=0;s<o.length;s++)t=t.replace(o[s],(function(t){return t=t.replace(r,(function(t,e,n){return a[n]})),r.test(t)?t:"\x3c!--{cke_temp_"+n+"}"+(a.push(t)-1)+"--\x3e"}));return t=t.replace(r,(function(t,e,n){return"\x3c!--"+p+(e?"{C}":"")+encodeURIComponent(a[n]).replace(/--/g,"%2D%2D")+"--\x3e"})),t=t.replace(/<\w+(?:\s+(?:(?:[^\s=>]+\s*=\s*(?:[^'"\s>]+|'[^']*'|"[^"]*"))|[^\s=\/>]+))+\s*\/?>/g,(function(t){return t.replace(/\x3c!--\{cke_protected\}([^>]*)--\x3e/g,(function(t,e){return i[i.id]=decodeURIComponent(e),"{cke_protected_"+i.id+++"}"}))})),t.replace(/<(title|iframe|textarea)([^>]*)>([\s\S]*?)<\/\1>/g,(function(t,n,a,o){return"<"+n+a+">"+c(u(o),e)+"</"+n+">"}))}var h;CKEDITOR.htmlDataProcessor=function(n){var a,o,i=this;this.editor=n,this.dataFilter=a=new CKEDITOR.htmlParser.filter,this.htmlFilter=o=new CKEDITOR.htmlParser.filter,this.writer=new CKEDITOR.htmlParser.basicWriter,a.addRules(b),a.addRules(E,{applyToAll:!0}),a.addRules(t(n,"data"),{applyToAll:!0}),o.addRules(T),o.addRules(C,{applyToAll:!0}),o.addRules(t(n,"html"),{applyToAll:!0}),n.on("toHtml",(function(t){var a;a=(i=window.crypto||window.msCrypto)?i.getRandomValues(new Uint32Array(1))[0]:Math.floor(9e9*Math.random()+1e9);var o,i=(t=t.data).dataValue,r=(i=function(t,e){return t.replace(y,(function(t,n,a){return"<"+n+a.replace(I,(function(t,n){return D.test(n)&&-1==a.indexOf("data-cke-saved-"+n)?" data-cke-saved-"+t+" data-cke-"+e+"-"+t:t}))+">"}))}(i=d(i=m(i=h(i),n,a),w),a),i=(i=(i=(i=(i=d(i,_)).replace(R,"$1cke:$2")).replace(k,"<cke:$1$2></cke:$1>")).replace(/(<pre\b[^>]*>)(\r\n|\n)/g,"$1$2$2")).replace(/([^a-z0-9<\-])(on\w{3,})(?!>)/gi,"$1data-cke-"+a+"-$2"),t.context||n.editable().getName());CKEDITOR.env.ie&&9>CKEDITOR.env.version&&"pre"==r&&(r="div",i="<pre>"+i+"</pre>",o=1),(r=n.document.createElement(r)).setHtml("a"+i),i=(i=r.getHtml().substr(1)).replace(new RegExp("data-cke-"+a+"-","ig"),""),o&&(i=i.replace(/^<pre>|<\/pre>$/gi,"")),i=function(t){return t.replace(O,(function(t,e){return decodeURIComponent(e)}))}(i=i.replace(q,"$1$2")),i=u(i),a=!1!==t.fixForBody&&e(t.enterMode,n.config.autoParagraph),i=CKEDITOR.htmlParser.fragment.fromHtml(i,t.context,a),a&&!(o=i).children.length&&CKEDITOR.dtd[o.name][a]&&(a=new CKEDITOR.htmlParser.element(a),o.add(a)),t.dataValue=i}),null,null,5),n.on("toHtml",(function(t){t.data.filter.applyTo(t.data.dataValue,!0,t.data.dontFilter,t.data.enterMode)&&n.fire("dataFiltered")}),null,null,6),n.on("toHtml",(function(t){t.data.dataValue.filterChildren(i.dataFilter,!0)}),null,null,10),n.on("toHtml",(function(t){var e=(t=t.data).dataValue,n=new CKEDITOR.htmlParser.basicWriter;e.writeChildrenHtml(n),e=n.getHtml(!0),t.dataValue=function(t){return t.replace(/\x3c!--(?!{cke_protected})[\s\S]+?--\x3e/g,(function(t){return"\x3c!--"+p+"{C}"+encodeURIComponent(t).replace(/--/g,"%2D%2D")+"--\x3e"}))}(e)}),null,null,15),n.on("toDataFormat",(function(t){var a=t.data.dataValue;t.data.enterMode!=CKEDITOR.ENTER_BR&&(a=a.replace(/^<br *\/?>/i,"")),t.data.dataValue=CKEDITOR.htmlParser.fragment.fromHtml(a,t.data.context,e(t.data.enterMode,n.config.autoParagraph))}),null,null,5),n.on("toDataFormat",(function(t){t.data.dataValue.filterChildren(i.htmlFilter,!0)}),null,null,10),n.on("toDataFormat",(function(t){t.data.filter.applyTo(t.data.dataValue,!1,!0)}),null,null,11),n.on("toDataFormat",(function(t){var e=t.data.dataValue,a=i.writer;a.reset(),e.writeChildrenHtml(a),e=c(e=u(e=a.getHtml(!0)),n),t.data.dataValue=e}),null,null,15)},CKEDITOR.htmlDataProcessor.prototype={toHtml:function(t,e,n,a){var o,i,r,s,l=this.editor;return e&&"object"==typeof e?(o=e.context,n=e.fixForBody,a=e.dontFilter,i=e.filter,r=e.enterMode,s=e.protectedWhitespaces):o=e,o||null===o||(o=l.editable().getName()),l.fire("toHtml",{dataValue:t,context:o,fixForBody:n,dontFilter:a,filter:i||l.filter,enterMode:r||l.enterMode,protectedWhitespaces:s}).dataValue},toDataFormat:function(t,e){var n,a,o;return e&&(n=e.context,a=e.filter,o=e.enterMode),n||null===n||(n=this.editor.editable().getName()),this.editor.fire("toDataFormat",{dataValue:t,filter:a||this.editor.filter,context:n,enterMode:o||this.editor.enterMode}).dataValue},protectSource:function(t){return m(t,this.editor)},unprotectSource:function(t){return c(t,this.editor)},unprotectRealComments:function(t){return u(t)}};var f=/(?:&nbsp;|\xa0)$/,p="{cke_protected}",g=CKEDITOR.dtd,v="caption colgroup col thead tfoot tbody".split(" "),x=CKEDITOR.tools.extend({},g.$blockLimit,g.$block),b={elements:{input:s,textarea:s}},E={attributeNames:[[/^on/,"data-cke-pa-on"],[/^srcdoc/,"data-cke-pa-srcdoc"],[/^data-cke-expando$/,""]],elements:{iframe:function(t){if(t.attributes&&t.attributes.src){var e=t.attributes.src.toLowerCase().replace(/[^a-z]/gi,"");0!==e.indexOf("javascript")&&0!==e.indexOf("data")||(t.attributes["data-cke-pa-src"]=t.attributes.src,delete t.attributes.src)}}}},T={elements:{embed:function(t){if((n=t.parent)&&"object"==n.name){var e=n.attributes.width,n=n.attributes.height;e&&(t.attributes.width=e),n&&(t.attributes.height=n)}},a:function(t){var e=t.attributes;if(!(t.children.length||e.name||e.id||t.attributes["data-cke-saved-name"]))return!1}}},C={elementNames:[[/^cke:/,""],[/^\?xml:namespace$/,""]],attributeNames:[[/^data-cke-(saved|pa)-/,""],[/^data-cke-.*/,""],["hidefocus",""]],elements:{$:function(t){var e=t.attributes;if(e){if(e["data-cke-temp"])return!1;for(var n=["name","href","src"],a=0;a<n.length;a++)"data-cke-saved-"+n[a]in e&&delete e[n[a]]}return t},table:function(t){t.children.slice(0).sort((function(t,e){var n,a;return t.type==CKEDITOR.NODE_ELEMENT&&e.type==t.type&&(n=CKEDITOR.tools.indexOf(v,t.name),a=CKEDITOR.tools.indexOf(v,e.name)),-1<n&&-1<a&&n!=a||(n=t.parent?t.getIndex():-1,a=e.parent?e.getIndex():-1),n>a?1:-1}))},param:function(t){return t.children=[],t.isEmpty=!0,t},span:function(t){"Apple-style-span"==t.attributes.class&&delete t.name},html:function(t){delete t.attributes.contenteditable,delete t.attributes.class},body:function(t){delete t.attributes.spellcheck,delete t.attributes.contenteditable},style:function(t){var e=t.children[0];e&&e.value&&(e.value=CKEDITOR.tools.trim(e.value)),t.attributes.type||(t.attributes.type="text/css")},title:function(t){var e=t.children[0];!e&&r(t,e=new CKEDITOR.htmlParser.text),e.value=t.attributes["data-cke-title"]||""},input:l,textarea:l},attributes:{class:function(t){return CKEDITOR.tools.ltrim(t.replace(/(?:^|\s+)cke_[^\s]*/g,""))||!1}}};CKEDITOR.env.ie&&(C.attributes.style=function(t){return t.replace(/(^|;)([^\:]+)/g,(function(t){return t.toLowerCase()}))});var y=/<(a|area|img|input|source)\b([^>]*)>/gi,I=/([\w-:]+)\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|(?:[^ "'>]+))/gi,D=/^(href|src|name)$/i,_=/(?:<style(?=[ >])[^>]*>[\s\S]*?<\/style>)|(?:<(:?link|meta|base)[^>]*>)/gi,w=/(<textarea(?=[ >])[^>]*>)([\s\S]*?)(?:<\/textarea>)/gi,O=/<cke:encoded>([^<]*)<\/cke:encoded>/gi,R=/(<\/?)((?:object|embed|param|html|body|head|title)([\s][^>]*)?>)/gi,q=/(<\/?)cke:((?:html|body|head|title)[^>]*>)/gi,k=/<cke:(param|embed)([^>]*?)\/?>(?!\s*<\/cke:\1)/gi;h=function(){function t(t,e){for(var n=0;n<t.length;n++){var a=t[n];if(a.lastIndex=0,a.test(e))return!0}return!1}function e(t){return CKEDITOR.tools.array.reduce(t.split(""),(function(t,e){var a=e.toLowerCase(),o=e.toUpperCase(),i=n(a);return a!==o&&(i+="|"+n(o)),t+"("+i+")"}),"")}function n(t){var e,n=(e=t.charCodeAt(0)).toString(16);for(var a in e={htmlCode:"&#"+e+";?",hex:"&#x0*"+n+";?",entity:{"<":"&lt;",">":"&gt;",":":"&colon;"}[t]})e[a]&&(t+="|"+e[a]);return t}var a=[new RegExp("("+e("<cke:encoded>")+"(.*?)"+e("</cke:encoded>")+")|("+e("<")+e("/")+"?"+e("cke:encoded>")+")","gi"),new RegExp("(("+e("{cke_protected")+")(_[0-9]*)?"+e("}")+")","gi"),/<!(?:\s*-\s*){2,3}!?\s*>/g];return function(e){for(;t(a,e);)for(var n=a,o=0;o<n.length;o++)e=e.replace(n[o],"");return e}}()}(),CKEDITOR.htmlParser.element=function(t,e){this.name=t,this.attributes=e||{},this.children=[];var n=t||"",a=n.match(/^cke:(.*)/);a&&(n=a[1]),n=!!(CKEDITOR.dtd.$nonBodyContent[n]||CKEDITOR.dtd.$block[n]||CKEDITOR.dtd.$listItem[n]||CKEDITOR.dtd.$tableContent[n]||CKEDITOR.dtd.$nonEditable[n]||"br"==n),this.isEmpty=!!CKEDITOR.dtd.$empty[t],this.isUnknown=!CKEDITOR.dtd[t],this._={isBlockLike:n,hasInlineStarted:this.isEmpty||!n}},CKEDITOR.htmlParser.cssStyle=function(t){var e={};return((t instanceof CKEDITOR.htmlParser.element?t.attributes.style:t)||"").replace(/&quot;/g,'"').replace(/\s*([^ :;]+)\s*:\s*([^;]+)\s*(?=;|$)/g,(function(t,n,a){"font-family"==n&&(a=a.replace(/["']/g,"")),e[n.toLowerCase()]=a})),{rules:e,populate:function(t){var e=this.toString();e&&(t instanceof CKEDITOR.dom.element?t.setAttribute("style",e):t instanceof CKEDITOR.htmlParser.element?t.attributes.style=e:t.style=e)},toString:function(){var t,n=[];for(t in e)e[t]&&n.push(t,":",e[t],";");return n.join("")}}},e=function(t,e){return(t=t[0])<(e=e[0])?-1:t>e?1:0},n=CKEDITOR.htmlParser.fragment.prototype,CKEDITOR.htmlParser.element.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_ELEMENT,add:n.add,clone:function(){return new CKEDITOR.htmlParser.element(this.name,this.attributes)},filter:function(t,e){var n,a,o,i,r=this;for(e=r.getFilterContext(e),r.parent||t.onRoot(e,r);;){if(n=r.name,!(a=t.onElementName(e,n)))return this.remove(),!1;if(r.name=a,!(r=t.onElement(e,r)))return this.remove(),!1;if(r!==this)return this.replaceWith(r),!1;if(r.name==n)break;if(r.type!=CKEDITOR.NODE_ELEMENT)return this.replaceWith(r),!1;if(!r.name)return this.replaceWithChildren(),!1}for(o in n=r.attributes){for(a=n[o];;){if(!(i=t.onAttributeName(e,o))){delete n[o];break}if(i==o)break;delete n[o],o=i}i&&(!1===(a=t.onAttribute(e,r,i,a))?delete n[i]:n[i]=a)}return r.isEmpty||this.filterChildren(t,!1,e),!0},filterChildren:n.filterChildren,writeHtml:function(t,n){n&&this.filter(n);var a,o,i=this.name,r=[],s=this.attributes;for(a in t.openTag(i,s),s)r.push([a,s[a]]);for(t.sortAttributes&&r.sort(e),a=0,o=r.length;a<o;a++)s=r[a],t.attribute(s[0],s[1]);t.openTagClose(i,this.isEmpty),this.writeChildrenHtml(t),this.isEmpty||t.closeTag(i)},writeChildrenHtml:n.writeChildrenHtml,replaceWithChildren:function(){for(var t=this.children,e=t.length;e;)t[--e].insertAfter(this);this.remove()},forEach:n.forEach,getFirst:function(t){if(!t)return this.children.length?this.children[0]:null;"function"!=typeof t&&(t=function(t){return function(e){return e.type==CKEDITOR.NODE_ELEMENT&&("string"==typeof t?e.name==t:e.name in t)}}(t));for(var e=0,n=this.children.length;e<n;++e)if(t(this.children[e]))return this.children[e];return null},getHtml:function(){var t=new CKEDITOR.htmlParser.basicWriter;return this.writeChildrenHtml(t),t.getHtml()},setHtml:function(t){for(var e=0,n=(t=this.children=CKEDITOR.htmlParser.fragment.fromHtml(t).children).length;e<n;++e)t[e].parent=this},getOuterHtml:function(){var t=new CKEDITOR.htmlParser.basicWriter;return this.writeHtml(t),t.getHtml()},split:function(t){for(var e=this.children.splice(t,this.children.length-t),n=this.clone(),a=0;a<e.length;++a)e[a].parent=n;return n.children=e,e[0]&&(e[0].previous=null),0<t&&(this.children[t-1].next=null),this.parent.add(n,this.getIndex()+1),n},find:function(t,e){void 0===e&&(e=!1);var n,a=[];for(n=0;n<this.children.length;n++){var o=this.children[n];("function"==typeof t&&t(o)||"string"==typeof t&&o.name===t)&&a.push(o),e&&o.find&&(a=a.concat(o.find(t,e)))}return a},findOne:function(t,e){var n=null,a=CKEDITOR.tools.array.find(this.children,(function(a){var o="function"==typeof t?t(a):a.name===t;return o||!e?o:(a.children&&a.findOne&&(n=a.findOne(t,!0)),!!n)}));return n||a||null},addClass:function(t){if(!this.hasClass(t)){var e=this.attributes.class||"";this.attributes.class=e+(e?" ":"")+t}},removeClass:function(t){var e=this.attributes.class;e&&((e=CKEDITOR.tools.trim(e.replace(new RegExp("(?:\\s+|^)"+t+"(?:\\s+|$)")," ")))?this.attributes.class=e:delete this.attributes.class)},hasClass:function(t){var e=this.attributes.class;return!!e&&new RegExp("(?:^|\\s)"+t+"(?=\\s|$)").test(e)},getFilterContext:function(t){var e=[];if(t||(t={nonEditable:!1,nestedEditable:!1}),t.nonEditable||"false"!=this.attributes.contenteditable?t.nonEditable&&!t.nestedEditable&&"true"==this.attributes.contenteditable&&e.push("nestedEditable",!0):e.push("nonEditable",!0),e.length){t=CKEDITOR.tools.copy(t);for(var n=0;n<e.length;n+=2)t[e[n]]=e[n+1]}return t}},!0),function(){var t=/{([^}]+)}/g;CKEDITOR.template=function(t){this.source="function"==typeof t?t:String(t)},CKEDITOR.template.prototype.output=function(e,n){var a=("function"==typeof this.source?this.source(e):this.source).replace(t,(function(t,n){return void 0!==e[n]?e[n]:t}));return n?n.push(a):a}}(),delete CKEDITOR.loadFullCore,CKEDITOR.instances={},CKEDITOR.document=new CKEDITOR.dom.document(document),CKEDITOR.add=function(t){function e(){CKEDITOR.currentInstance==t&&(CKEDITOR.currentInstance=null,CKEDITOR.fire("currentInstance"))}CKEDITOR.instances[t.name]=t,t.on("focus",(function(){CKEDITOR.currentInstance!=t&&(CKEDITOR.currentInstance=t,CKEDITOR.fire("currentInstance"))})),t.on("blur",e),t.on("destroy",e),CKEDITOR.fire("instance",null,t)},CKEDITOR.remove=function(t){delete CKEDITOR.instances[t.name]},function(){var t={};CKEDITOR.addTemplate=function(e,n){var a=t[e];return a||(a={name:e,source:n},CKEDITOR.fire("template",a),t[e]=new CKEDITOR.template(a.source))},CKEDITOR.getTemplate=function(e){return t[e]}}(),function(){var t=[];CKEDITOR.addCss=function(e){t.push(e)},CKEDITOR.getCss=function(){return t.join("\n")}}(),CKEDITOR.on("instanceDestroyed",(function(){CKEDITOR.tools.isEmpty(this.instances)&&CKEDITOR.fire("reset")})),CKEDITOR.TRISTATE_ON=1,CKEDITOR.TRISTATE_OFF=2,CKEDITOR.TRISTATE_DISABLED=0,CKEDITOR.inline=function(t,e){if(!(t=CKEDITOR.editor._getEditorElement(t)))return null;if(CKEDITOR.editor.shouldDelayEditorCreation(t,e))return CKEDITOR.editor.initializeDelayedEditorCreation(t,e,"inline");var n=t.is("textarea")?t:null,a=n?n.getValue():t.getHtml(),o=new CKEDITOR.editor(e,t,CKEDITOR.ELEMENT_MODE_INLINE);return n?(o.setData(a,null,!0),(t=CKEDITOR.dom.element.createFromHtml('<div contenteditable="'+!!o.readOnly+'" class="cke_textarea_inline">'+n.getValue()+"</div>",CKEDITOR.document)).insertAfter(n),n.hide(),n.$.form&&o._attachToForm()):(e&&void 0!==e.readOnly&&!e.readOnly&&t.setAttribute("contenteditable","true"),o.setData(a,null,!0)),o.on("loaded",(function(){o.fire("uiReady"),o.editable(t),o.container=t,o.ui.contentsElement=t,o.setData(o.getData(1)),o.resetDirty(),o.fire("contentDom"),o.mode="wysiwyg",o.fire("mode"),o.status="ready",o.fireOnce("instanceReady"),CKEDITOR.fire("instanceReady",null,o)}),null,null,1e4),o.on("destroy",(function(){var t=o.container;n&&t&&(t.clearCustomData(),t.remove()),n&&n.show(),o.element.clearCustomData(),delete o.element})),o},CKEDITOR.inlineAll=function(){var t,e,n;for(n in CKEDITOR.dtd.$editable)for(var a=CKEDITOR.document.getElementsByTag(n),o=0,i=a.count();o<i;o++)"true"!=(t=a.getItem(o)).getAttribute("contenteditable")||t.getEditor()||(e={element:t,config:{}},!1!==CKEDITOR.fire("inline",e)&&CKEDITOR.inline(t,e.config))},CKEDITOR.domReady((function(){!CKEDITOR.disableAutoInline&&CKEDITOR.inlineAll()})),CKEDITOR.replaceClass="ckeditor",function(){function t(t,n,a,o){if(!(t=CKEDITOR.editor._getEditorElement(t)))return null;if(CKEDITOR.editor.shouldDelayEditorCreation(t,n))return CKEDITOR.editor.initializeDelayedEditorCreation(t,n,"replace");var i=new CKEDITOR.editor(n,t,o);return o==CKEDITOR.ELEMENT_MODE_REPLACE&&(t.setStyle("visibility","hidden"),i._.required=t.hasAttribute("required"),t.removeAttribute("required")),a&&i.setData(a,null,!0),i.on("loaded",(function(){i.isDestroyed()||i.isDetached()||(function(t){var e=t.name,n=t.element,a=t.elementMode,o=t.fire("uiSpace",{space:"top",html:""}).html,i=t.fire("uiSpace",{space:"bottom",html:""}).html,r=new CKEDITOR.template('<{outerEl} id="cke_{name}" class="{id} cke cke_reset cke_chrome cke_editor_{name} cke_{langDir} '+CKEDITOR.env.cssClass+'"  dir="{langDir}" lang="{langCode}" role="application"'+(t.applicationTitle?' aria-labelledby="cke_{name}_arialbl"':"")+">"+(t.applicationTitle?'<span id="cke_{name}_arialbl" class="cke_voice_label">{voiceLabel}</span>':"")+'<{outerEl} class="cke_inner cke_reset" role="presentation">{topHtml}<{outerEl} id="{contentId}" class="cke_contents cke_reset" role="presentation"></{outerEl}>{bottomHtml}</{outerEl}></{outerEl}>');e=CKEDITOR.dom.element.createFromHtml(r.output({id:t.id,name:e,langDir:t.lang.dir,langCode:t.langCode,voiceLabel:t.applicationTitle,topHtml:o?'<span id="'+t.ui.spaceId("top")+'" class="cke_top cke_reset_all" role="presentation" style="height:auto">'+o+"</span>":"",contentId:t.ui.spaceId("contents"),bottomHtml:i?'<span id="'+t.ui.spaceId("bottom")+'" class="cke_bottom cke_reset_all" role="presentation">'+i+"</span>":"",outerEl:CKEDITOR.env.ie?"span":"div"})),a==CKEDITOR.ELEMENT_MODE_REPLACE?(n.hide(),e.insertAfter(n)):n.append(e),t.container=e,t.ui.contentsElement=t.ui.space("contents"),o&&t.ui.space("top").unselectable(),i&&t.ui.space("bottom").unselectable(),n=t.config.width,a=t.config.height,n&&e.setStyle("width",CKEDITOR.tools.cssLength(n)),a&&t.ui.space("contents").setStyle("height",CKEDITOR.tools.cssLength(a)),e.disableContextMenu(),CKEDITOR.env.webkit&&e.on("focus",(function(){t.focus()})),t.fireOnce("uiReady")}(i),o==CKEDITOR.ELEMENT_MODE_REPLACE&&i.config.autoUpdateElement&&t.$.form&&i._attachToForm(),i.setMode(i.config.startupMode,(function(){i.resetDirty(),i.status="ready",i.fireOnce("instanceReady"),CKEDITOR.fire("instanceReady",null,i)})))})),i.on("destroy",e),i}function e(){var t=this.container,e=this.element;t&&(t.clearCustomData(),t.remove()),e&&(e.clearCustomData(),this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE&&(e.show(),this._.required&&e.setAttribute("required","required")),delete this.element)}CKEDITOR.replace=function(e,n){return t(e,n,null,CKEDITOR.ELEMENT_MODE_REPLACE)},CKEDITOR.appendTo=function(e,n,a){return t(e,n,a,CKEDITOR.ELEMENT_MODE_APPENDTO)},CKEDITOR.replaceAll=function(){for(var t=document.getElementsByTagName("textarea"),e=0;e<t.length;e++){var n=null,a=t[e];if(a.name||a.id){if("string"==typeof arguments[0]){if(!new RegExp("(?:^|\\s)"+arguments[0]+"(?:$|\\s)").test(a.className))continue}else if("function"==typeof arguments[0]&&!1===arguments[0](a,n={}))continue;this.replace(a,n)}}},CKEDITOR.editor.prototype.addMode=function(t,e){(this._.modes||(this._.modes={}))[t]=e},CKEDITOR.editor.prototype.setMode=function(t,e){var n=this,a=this._.modes;if(t!=n.mode&&a&&a[t]){if(n.fire("beforeSetMode",t),n.mode){var o,i=n.checkDirty(),r=(a=n._.previousModeData,0);n.fire("beforeModeUnload"),n.editable(0),n._.previousMode=n.mode,n._.previousModeData=o=n.getData(1),"source"==n.mode&&a==o&&(n.fire("lockSnapshot",{forceUpdate:!0}),r=1),n.ui.space("contents").setHtml(""),n.mode=""}else n._.previousModeData=n.getData(1);this._.modes[t]((function(){n.mode=t,void 0!==i&&!i&&n.resetDirty(),r?n.fire("unlockSnapshot"):"wysiwyg"==t&&n.fire("saveSnapshot"),setTimeout((function(){n.isDestroyed()||n.isDetached()||(n.fire("mode"),e&&e.call(n))}),0)}))}},CKEDITOR.editor.prototype.resize=function(t,e,n,a){var o=this.container,i=this.ui.space("contents"),r=CKEDITOR.env.webkit&&this.document&&this.document.getWindow().$.frameElement;a=a?this.container.getFirst((function(t){return t.type==CKEDITOR.NODE_ELEMENT&&t.hasClass("cke_inner")})):o,(t||0===t)&&(t=CKEDITOR.tools.convertToPx(CKEDITOR.tools.cssLength(t))),a.setSize("width",t,!0),r&&(r.style.width="1%"),e=CKEDITOR.tools.convertToPx(CKEDITOR.tools.cssLength(e));var s=(a.$.offsetHeight||0)-(i.$.clientHeight||0);o=Math.max(e-(n?0:s),0),e=n?e+s:e,i.setStyle("height",CKEDITOR.tools.cssLength(o)),r&&(r.style.width="100%"),this.fire("resize",{outerHeight:e,contentsHeight:o,outerWidth:t||a.getSize("width")})},CKEDITOR.editor.prototype.getResizable=function(t){return t?this.ui.space("contents"):this.container},CKEDITOR.domReady((function(){CKEDITOR.replaceClass&&CKEDITOR.replaceAll(CKEDITOR.replaceClass)}))}(),CKEDITOR.config.startupMode="wysiwyg",function(){function t(t){var e,a=t.editor,o=t.data.path,i=o.blockLimit,s=t.data.selection,l=s.getRanges()[0];(CKEDITOR.env.gecko||CKEDITOR.env.ie&&CKEDITOR.env.needsBrFiller)&&(s=function(t,e){if(t.isFake)return 0;var a=e.block||e.blockLimit,o=a&&a.getLast(n);return!a||!a.isBlockBoundary()||o&&o.type==CKEDITOR.NODE_ELEMENT&&o.isBlockBoundary()||a.is("pre")||a.getBogus()?void 0:a}(s,o))&&(s.appendBogus(),e=CKEDITOR.env.ie&&!CKEDITOR.env.edge||CKEDITOR.env.edge&&a._.previousActive),r(a,o.block,i)&&l.collapsed&&!l.getCommonAncestor().isReadOnly()&&((o=l.clone()).enlarge(CKEDITOR.ENLARGE_BLOCK_CONTENTS),(i=new CKEDITOR.dom.walker(o)).guard=function(t){return!n(t)||t.type==CKEDITOR.NODE_COMMENT||t.isReadOnly()},!i.checkForward()||o.checkStartOfBlock()&&o.checkEndOfBlock())&&(a=l.fixBlock(!0,a.activeEnterMode==CKEDITOR.ENTER_DIV?"div":"p"),CKEDITOR.env.needsBrFiller||(a=a.getFirst(n))&&a.type==CKEDITOR.NODE_TEXT&&CKEDITOR.tools.trim(a.getText()).match(/^(?:&nbsp;|\xa0)$/)&&a.remove(),e=1,t.cancel()),e&&l.select()}function e(t){var e=t.data.getTarget();e.is("input")&&("submit"!=(e=e.getAttribute("type"))&&"reset"!=e||t.data.preventDefault())}function n(t){return c(t)&&m(t)}function a(t){return!!t.getRanges()[0].startPath().contains({table:1,ul:1,ol:1,dl:1})}function o(t){function e(t){var e={table:1,ul:1,ol:1,dl:1};return function(a,i){if(i&&a.type==CKEDITOR.NODE_ELEMENT&&a.is(e)&&(o=a),!(i||!n(a)||t&&f(a)))return!1}}var o,i=t.getRanges()[0],r=t.root;return a(t)&&((t=i.clone()).collapse(1),t.setStartAt(r,CKEDITOR.POSITION_AFTER_START),(r=new CKEDITOR.dom.walker(t)).guard=e(),r.checkBackward(),o)?((t=i.clone()).collapse(),t.setEndAt(o,CKEDITOR.POSITION_AFTER_END),(r=new CKEDITOR.dom.walker(t)).guard=e(!0),o=!1,r.checkForward(),o):null}function i(t){return t.block.getParent().getChildCount()}function r(t,e,n){return!1!==t.config.autoParagraph&&t.activeEnterMode!=CKEDITOR.ENTER_BR&&(t.editable().equals(n)&&!e||e&&"true"==e.getAttribute("contenteditable"))}function s(t){return t.activeEnterMode!=CKEDITOR.ENTER_BR&&!1!==t.config.autoParagraph&&(t.activeEnterMode==CKEDITOR.ENTER_DIV?"div":"p")}function l(t){t&&t.isEmptyInlineRemoveable()&&t.remove()}function d(t){var e=t.editor;e.getSelection().scrollIntoView(),setTimeout((function(){e.fire("saveSnapshot")}),0)}function u(t,e,n){var a=t.getCommonAncestor(e);for(e=t=n?e:t;(t=t.getParent())&&!a.equals(t)&&1==t.getChildCount();)e=t;e.remove()}var c,m,h,f,p,g,v,x,b,E,T={ul:1,ol:1,dl:1};CKEDITOR.editable=CKEDITOR.tools.createClass({base:CKEDITOR.dom.element,$:function(t,e){this.base(e.$||e),this.editor=t,this.status="unloaded",this.hasFocus=!1,this.setup()},proto:{focus:function(){var t;if(CKEDITOR.env.webkit&&!this.hasFocus&&(t=this.editor._.previousActive||this.getDocument().getActive(),this.contains(t)))t.focus();else{CKEDITOR.env.edge&&14<CKEDITOR.env.version&&!this.hasFocus&&this.getDocument().equals(CKEDITOR.document)&&(this.editor._.previousScrollTop=this.$.scrollTop);try{if(!CKEDITOR.env.ie||CKEDITOR.env.edge&&14<CKEDITOR.env.version||!this.getDocument().equals(CKEDITOR.document))if(CKEDITOR.env.chrome){var e=this.$.scrollTop;this.$.focus(),this.$.scrollTop=e}else this.$.focus();else this.$.setActive()}catch(t){if(!CKEDITOR.env.ie)throw t}CKEDITOR.env.safari&&!this.isInline()&&((t=CKEDITOR.document.getActive()).equals(this.getWindow().getFrame())||this.getWindow().focus())}},on:function(t,e){var n=Array.prototype.slice.call(arguments,0);return CKEDITOR.env.ie&&/^focus|blur$/.exec(t)&&(t="focus"==t?"focusin":"focusout",e=function(t,e){return function(n){var a=n.data.$.toElement||n.data.$.fromElement||n.data.$.relatedTarget;(a=a&&a.nodeType==CKEDITOR.NODE_ELEMENT?new CKEDITOR.dom.element(a):null)&&(e.equals(a)||e.contains(a))||t.call(this,n)}}(e,this),n[0]=t,n[1]=e),CKEDITOR.dom.element.prototype.on.apply(this,n)},attachListener:function(t){!this._.listeners&&(this._.listeners=[]);var e=Array.prototype.slice.call(arguments,1);return e=t.on.apply(t,e),this._.listeners.push(e),e},clearListeners:function(){var t=this._.listeners;try{for(;t.length;)t.pop().removeListener()}catch(t){}},restoreAttrs:function(){var t,e,n=this._.attrChanges;for(e in n)n.hasOwnProperty(e)&&(null!==(t=n[e])?this.setAttribute(e,t):this.removeAttribute(e))},attachClass:function(t){var e=this.getCustomData("classes");this.hasClass(t)||(!e&&(e=[]),e.push(t),this.setCustomData("classes",e),this.addClass(t))},changeAttr:function(t,e){var n=this.getAttribute(t);e!==n&&(!this._.attrChanges&&(this._.attrChanges={}),t in this._.attrChanges||(this._.attrChanges[t]=n),this.setAttribute(t,e))},insertText:function(t){this.editor.focus(),this.insertHtml(this.transformPlainTextToHtml(t),"text")},transformPlainTextToHtml:function(t){var e=this.editor.getSelection().getStartElement().hasAscendant("pre",!0)?CKEDITOR.ENTER_BR:this.editor.activeEnterMode;return CKEDITOR.tools.transformPlainTextToHtml(t,e)},insertHtml:function(t,e,n){var a=this.editor;a.focus(),a.fire("saveSnapshot"),n||(n=a.getSelection().getRanges()[0]),g(this,e||"html",t,n),n.select(),d(this),this.editor.fire("afterInsertHtml",{})},insertHtmlIntoRange:function(t,e,n){g(this,n||"html",t,e),this.editor.fire("afterInsertHtml",{intoRange:e})},insertElement:function(t,e){(o=this.editor).focus(),o.fire("saveSnapshot");var a=o.activeEnterMode,o=o.getSelection(),i=t.getName();i=CKEDITOR.dtd.$block[i],e||(e=o.getRanges()[0]),this.insertElementIntoRange(t,e)&&(e.moveToPosition(t,CKEDITOR.POSITION_AFTER_END),i&&((i=t.getNext((function(t){return n(t)&&!f(t)})))&&i.type==CKEDITOR.NODE_ELEMENT&&i.is(CKEDITOR.dtd.$block)?i.getDtd()["#"]?e.moveToElementEditStart(i):e.moveToElementEditEnd(t):i||a==CKEDITOR.ENTER_BR||(i=e.fixBlock(!0,a==CKEDITOR.ENTER_DIV?"div":"p"),e.moveToElementEditStart(i)))),o.selectRanges([e]),d(this)},insertElementIntoSelection:function(t){this.insertElement(t)},insertElementIntoRange:function(t,e){var n,a,o=this.editor,i=o.config.enterMode,r=t.getName(),s=CKEDITOR.dtd.$block[r];if(e.checkReadOnly())return!1;if(e.deleteContents(1),e.startContainer.type==CKEDITOR.NODE_ELEMENT&&(e.startContainer.is({tr:1,table:1,tbody:1,thead:1,tfoot:1})?v(e):e.startContainer.is(CKEDITOR.dtd.$list)&&x(e)),s)for(;(n=e.getCommonAncestor(0,1))&&(a=CKEDITOR.dtd[n.getName()])&&(!a||!a[r]);)if(n.getName()in CKEDITOR.dtd.span){s=e.splitElement(n);var d=e.createBookmark();l(n),l(s),e.moveToBookmark(d)}else e.checkStartOfBlock()&&e.checkEndOfBlock()?(e.setStartBefore(n),e.collapse(!0),n.remove()):e.splitBlock(i==CKEDITOR.ENTER_DIV?"div":"p",o.editable());return e.insertNode(t),!0},setData:function(t,e){e||(t=this.editor.dataProcessor.toHtml(t)),this.setHtml(t),this.fixInitialSelection(),"unloaded"==this.status&&(this.status="ready"),this.editor.fire("dataReady")},getData:function(t){var e=this.getHtml();return t||(e=this.editor.dataProcessor.toDataFormat(e)),e},setReadOnly:function(t){this.setAttribute("contenteditable",String(!t)),this.setAttribute("aria-readonly",String(t))},detach:function(){this.status="detached",this.editor.setData(this.editor.getData(),{internal:!0}),this.clearListeners();try{this._.cleanCustomData()}catch(t){if(!CKEDITOR.env.ie||-2146828218!==t.number)throw t}this.editor.fire("contentDomUnload"),delete this.editor.document,delete this.editor.window,delete this.editor},isInline:function(){return this.getDocument().equals(CKEDITOR.document)},fixInitialSelection:function(){function t(){var t,n=e.getDocument().$,a=n.getSelection();t:if(a.anchorNode&&a.anchorNode==e.$)t=!0;else{if(CKEDITOR.env.webkit&&(t=e.getDocument().getActive())&&t.equals(e)&&!a.anchorNode){t=!0;break t}t=void 0}t&&((t=new CKEDITOR.dom.range(e)).moveToElementEditStart(e),(n=n.createRange()).setStart(t.startContainer.$,t.startOffset),n.collapse(!0),a.removeAllRanges(),a.addRange(n))}var e=this;CKEDITOR.env.ie&&(9>CKEDITOR.env.version||CKEDITOR.env.quirks)?this.hasFocus&&(this.focus(),function(){var t=e.getDocument().$,n=t.selection,a=e.getDocument().getActive();"None"==n.type&&a.equals(e)&&(n=new CKEDITOR.dom.range(e),t=t.body.createTextRange(),n.moveToElementEditStart(e),(n=n.startContainer).type!=CKEDITOR.NODE_ELEMENT&&(n=n.getParent()),t.moveToElementText(n.$),t.collapse(!0),t.select())}()):this.hasFocus?(this.focus(),t()):this.once("focus",(function(){t()}),null,null,-999)},getHtmlFromRange:function(t){return t.collapsed?new CKEDITOR.dom.documentFragment(t.document):(t={doc:this.getDocument(),range:t.clone()},b.eol.detect(t,this),b.bogus.exclude(t),b.cell.shrink(t),t.fragment=t.range.cloneContents(),b.tree.rebuild(t,this),b.eol.fix(t,this),new CKEDITOR.dom.documentFragment(t.fragment.$))},extractHtmlFromRange:function(t,e){var n=E,a={range:t,doc:t.document},o=this.getHtmlFromRange(t);if(t.collapsed)return t.optimize(),o;if(t.enlarge(CKEDITOR.ENLARGE_INLINE,1),n.table.detectPurge(a),a.bookmark=t.createBookmark(),delete a.range,(r=this.editor.createRange()).moveToPosition(a.bookmark.startNode,CKEDITOR.POSITION_BEFORE_START),a.targetBookmark=r.createBookmark(),n.list.detectMerge(a,this),n.table.detectRanges(a,this),n.block.detectMerge(a,this),a.tableContentsRanges?(n.table.deleteRanges(a),t.moveToBookmark(a.bookmark),a.range=t):(t.moveToBookmark(a.bookmark),a.range=t,t.extractContents(n.detectExtractMerge(a))),t.moveToBookmark(a.targetBookmark),t.optimize(),n.fixUneditableRangePosition(t),n.list.merge(a,this),n.table.purge(a,this),n.block.merge(a,this),e){if(n=t.startPath(),a=t.checkStartOfBlock()&&t.checkEndOfBlock()&&n.block&&!t.root.equals(n.block)){t:{var i,r=0;if(a=n.block.getElementsByTag("span"))for(;i=a.getItem(r++);)if(!m(i)){a=!0;break t}a=!1}a=!a}a&&(t.moveToPosition(n.block,CKEDITOR.POSITION_BEFORE_START),n.block.remove())}else n.autoParagraph(this.editor,t),h(t.startContainer)&&t.startContainer.appendBogus();return t.startContainer.mergeSiblings(),o},setup:function(){var t=this.editor;if(this.attachListener(t,"beforeGetData",(function(){var e=this.getData();this.is("textarea")||!1!==t.config.ignoreEmptyParagraph&&(e=e.replace(p,(function(t,e){return e}))),t.setData(e,null,1)}),this),this.attachListener(t,"getSnapshot",(function(t){t.data=this.getData(1)}),this),this.attachListener(t,"afterSetData",(function(){this.setData(t.getData(1))}),this),this.attachListener(t,"loadSnapshot",(function(t){this.setData(t.data,1)}),this),this.attachListener(t,"beforeFocus",(function(){var e=t.getSelection();(e=e&&e.getNative())&&"Control"==e.type||this.focus()}),this),this.attachListener(t,"insertHtml",(function(t){this.insertHtml(t.data.dataValue,t.data.mode,t.data.range)}),this),this.attachListener(t,"insertElement",(function(t){this.insertElement(t.data)}),this),this.attachListener(t,"insertText",(function(t){this.insertText(t.data)}),this),this.setReadOnly(t.readOnly),this.attachClass("cke_editable"),t.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?this.attachClass("cke_editable_inline"):t.elementMode!=CKEDITOR.ELEMENT_MODE_REPLACE&&t.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO||this.attachClass("cke_editable_themed"),this.attachClass("cke_contents_"+t.config.contentsLangDirection),t.keystrokeHandler.blockedKeystrokes[8]=+t.readOnly,t.keystrokeHandler.attach(this),this.on("blur",(function(){this.hasFocus=!1}),null,null,-1),this.on("focus",(function(){this.hasFocus=!0}),null,null,-1),CKEDITOR.env.webkit&&this.on("scroll",(function(){t._.previousScrollTop=t.editable().$.scrollTop}),null,null,-1),CKEDITOR.env.edge&&14<CKEDITOR.env.version){var r=function(){var e=t.editable();null!=t._.previousScrollTop&&e.getDocument().equals(CKEDITOR.document)&&(e.$.scrollTop=t._.previousScrollTop,t._.previousScrollTop=null,this.removeListener("scroll",r))};this.on("scroll",r)}if(t.focusManager.add(this),this.equals(CKEDITOR.document.getActive())&&(this.hasFocus=!0,t.once("contentDom",(function(){t.focusManager.focus(this)}),this)),this.isInline()&&this.changeAttr("tabindex",t.tabIndex),!this.is("textarea")){t.document=this.getDocument(),t.window=this.getWindow();var s=t.document;this.changeAttr("spellcheck",!t.config.disableNativeSpellChecker);var l=t.config.contentsLangDirection;this.getDirection(1)!=l&&this.changeAttr("dir",l);var d=CKEDITOR.getCss();if(d){var m=(l=s.getHead()).getCustomData("stylesheet");m?d!=m.getText()&&(CKEDITOR.env.ie&&9>CKEDITOR.env.version?m.$.styleSheet.cssText=d:m.setText(d)):(d=s.appendStyleText(d),d=new CKEDITOR.dom.element(d.ownerNode||d.owningElement),l.setCustomData("stylesheet",d),d.data("cke-temp",1))}l=s.getCustomData("stylesheet_ref")||0,s.setCustomData("stylesheet_ref",l+1),this.setCustomData("cke_includeReadonly",!t.config.disableReadonlyStyling),this.attachListener(this,"click",(function(t){t=t.data;var e=new CKEDITOR.dom.elementPath(t.getTarget(),this).contains("a");e&&2!=t.$.button&&e.isReadOnly()&&t.preventDefault()}));var h={8:1,46:1};this.attachListener(t,"key",(function(e){if(t.readOnly)return!0;var n,r=e.data.domEvent.getKey(),s=t.getSelection();if(0!==s.getRanges().length){if(r in h){var l,d,u,m,f=(e=s.getRanges()[0]).startPath(),p=(r=8==r,!1);if(CKEDITOR.env.ie&&11>CKEDITOR.env.version&&s.getSelectedElement())l=s.getSelectedElement();else if(a(s)){var g,v=new CKEDITOR.dom.walker(e),x=e.collapsed?e.startContainer:v.next();if(p=!1,e.checkStartOfBlock()){var b=(g=e.startPath().block||e.startPath().blockLimit).getName();g=-1!==CKEDITOR.tools.array.indexOf(["dd","dt","li"],b)&&null===g.getPrevious()}else g=!1;if(g){for(;x&&!p;)p=x.$.nodeName.toLowerCase(),p=!!T[p],x=v.next();v=i(e.startPath()),x=i(e.endPath()),p=p||v!==x}else p=void 0;p||(l=o(s))}l||p?(t.fire("saveSnapshot"),p?((n=e.startContainer.getAscendant(T,!0))?(e.setStart(n,0),e.enlarge(CKEDITOR.ENLARGE_ELEMENT),l=e):l=null,l.deleteContents()):(e.moveToPosition(l,CKEDITOR.POSITION_BEFORE_START),l.remove()),e.select(),t.fire("saveSnapshot"),n=1):e.collapsed&&((d=f.block)&&(m=d[r?"getPrevious":"getNext"](c))&&m.type==CKEDITOR.NODE_ELEMENT&&m.is("table")&&e[r?"checkStartOfBlock":"checkEndOfBlock"]()?(t.fire("saveSnapshot"),e[r?"checkEndOfBlock":"checkStartOfBlock"]()&&d.remove(),e["moveToElementEdit"+(r?"End":"Start")](m),e.select(),t.fire("saveSnapshot"),n=1):f.blockLimit&&f.blockLimit.is("td")&&(u=f.blockLimit.getAscendant("table"))&&e.checkBoundaryOfElement(u,r?CKEDITOR.START:CKEDITOR.END)&&(m=u[r?"getPrevious":"getNext"](c))?(t.fire("saveSnapshot"),e["moveToElementEdit"+(r?"End":"Start")](m),e.checkStartOfBlock()&&e.checkEndOfBlock()?m.remove():e.select(),t.fire("saveSnapshot"),n=1):(u=f.contains(["td","th","caption"]))&&e.checkBoundaryOfElement(u,r?CKEDITOR.START:CKEDITOR.END)&&(n=1))}return!n}})),t.blockless&&CKEDITOR.env.ie&&CKEDITOR.env.needsBrFiller&&this.attachListener(this,"keyup",(function(e){e.data.getKeystroke()in h&&!this.getFirst(n)&&(this.appendBogus(),(e=t.createRange()).moveToPosition(this,CKEDITOR.POSITION_AFTER_START),e.select())})),this.attachListener(this,"dblclick",(function(e){if(t.readOnly)return!1;e={element:e.data.getTarget()},t.fire("doubleclick",e)})),CKEDITOR.env.ie&&this.attachListener(this,"click",e),CKEDITOR.env.ie&&!CKEDITOR.env.edge||this.attachListener(this,"mousedown",(function(e){var n=e.data.getTarget();n.is("img","hr","input","textarea","select")&&!n.isReadOnly()&&(t.getSelection().selectElement(n),n.is("input","textarea","select")&&e.data.preventDefault())})),CKEDITOR.env.edge&&this.attachListener(this,"mouseup",(function(e){(e=e.data.getTarget())&&e.is("img")&&!e.isReadOnly()&&t.getSelection().selectElement(e)})),CKEDITOR.env.gecko&&this.attachListener(this,"mouseup",(function(e){if(2==e.data.$.button&&!(e=e.data.getTarget()).getAscendant("table")&&!e.getOuterHtml().replace(p,"")){var n=t.createRange();n.moveToElementEditStart(e),n.select(!0)}})),CKEDITOR.env.webkit&&(this.attachListener(this,"click",(function(t){t.data.getTarget().is("input","select")&&t.data.preventDefault()})),this.attachListener(this,"mouseup",(function(t){t.data.getTarget().is("input","textarea")&&t.data.preventDefault()}))),CKEDITOR.env.webkit&&this.attachListener(t,"key",(function(e){if(t.readOnly)return!0;if((n=e.data.domEvent.getKey())in h&&0!==(e=t.getSelection()).getRanges().length){var n=8==n,a=e.getRanges()[0];if(e=a.startPath(),a.collapsed)t:{var o=e.block;if(o&&a[n?"checkStartOfBlock":"checkEndOfBlock"](!0)&&a.moveToClosestEditablePosition(o,!n)&&a.collapsed){if(a.startContainer.type==CKEDITOR.NODE_ELEMENT){var i=a.startContainer.getChild(a.startOffset-(n?1:0));if(i&&i.type==CKEDITOR.NODE_ELEMENT&&i.is("hr")){t.fire("saveSnapshot"),i.remove(),e=!0;break t}}var r;!(a=a.startPath().block)||a&&a.contains(o)?e=void 0:(t.fire("saveSnapshot"),(r=(n?a:o).getBogus())&&r.remove(),i=(r=t.getSelection()).createBookmarks(),(n?o:a).moveChildren(n?a:o,!1),e.lastElement.mergeSiblings(),u(o,a,!n),r.selectBookmarks(i),e=!0)}else e=!1}else n=a,r=e.block,a=n.endPath().block,r&&a&&!r.equals(a)?(t.fire("saveSnapshot"),(o=r.getBogus())&&o.remove(),n.enlarge(CKEDITOR.ENLARGE_INLINE),n.deleteContents(),a.getParent()&&(a.moveChildren(r,!1),e.lastElement.mergeSiblings(),u(r,a,!0)),(n=t.getSelection().getRanges()[0]).collapse(1),n.optimize(),""===n.startContainer.getHtml()&&n.startContainer.appendBogus(),n.select(),e=!0):e=!1;if(!e)return;return t.getSelection().scrollIntoView(),t.fire("saveSnapshot"),!1}}),this,null,100)}},getUniqueId:function(){var t;try{this._.expandoNumber=t=CKEDITOR.dom.domObject.prototype.getUniqueId.call(this)}catch(e){t=this._&&this._.expandoNumber}return t}},_:{cleanCustomData:function(){this.removeClass("cke_editable"),this.restoreAttrs();for(var t=this.removeCustomData("classes");t&&t.length;)this.removeClass(t.pop());if(!this.is("textarea")){var e=(t=this.getDocument()).getHead();if(e.getCustomData("stylesheet")){var n=t.getCustomData("stylesheet_ref");--n?t.setCustomData("stylesheet_ref",n):(t.removeCustomData("stylesheet_ref"),e.removeCustomData("stylesheet").remove())}}}}}),CKEDITOR.editor.prototype.editable=function(t){var e=this._.editable;return e&&t?0:arguments.length?(t?e=t instanceof CKEDITOR.editable?t:new CKEDITOR.editable(this,t):(e&&e.detach(),e=null),this._.editable=e):e},CKEDITOR.on("instanceLoaded",(function(e){var n=e.editor;n.on("insertElement",(function(t){(t=t.data).type==CKEDITOR.NODE_ELEMENT&&(t.is("input")||t.is("textarea"))&&("false"!=t.getAttribute("contentEditable")&&t.data("cke-editable",t.hasAttribute("contenteditable")?"true":"1"),t.setAttribute("contentEditable",!1))})),n.on("selectionChange",(function(e){if(!n.readOnly){var a=n.getSelection();a&&!a.isLocked&&(a=n.checkDirty(),n.fire("lockSnapshot"),t(e),n.fire("unlockSnapshot"),!a&&n.resetDirty())}}))})),CKEDITOR.on("instanceCreated",(function(t){var e=t.editor;e.on("mode",(function(){var t=e.editable();if(t&&t.isInline()){var n=e.title;if(t.changeAttr("role","textbox"),t.changeAttr("aria-multiline","true"),n&&t.changeAttr("aria-label",n),n&&t.changeAttr("title",n),(o=e.fire("ariaEditorHelpLabel",{}).label)&&(n=this.ui.space(this.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?"top":"contents"))){var a=CKEDITOR.tools.getNextId(),o=CKEDITOR.dom.element.createFromHtml('<span id="'+a+'" class="cke_voice_label">'+o+"</span>");n.append(o),t.changeAttr("aria-describedby",a)}}}))})),CKEDITOR.addCss(".cke_editable{cursor:text}.cke_editable img,.cke_editable input,.cke_editable textarea{cursor:default}"),c=CKEDITOR.dom.walker.whitespaces(!0),m=CKEDITOR.dom.walker.bookmark(!1,!0),h=CKEDITOR.dom.walker.empty(),f=CKEDITOR.dom.walker.bogus(),p=/(^|<body\b[^>]*>)\s*<(p|div|address|h\d|center|pre)[^>]*>\s*(?:<br[^>]*>|&nbsp;|\u00A0|&#160;)?\s*(:?<\/\2>)?\s*(?=$|<\/body>)/gi,g=function(){function t(t){return t.type==CKEDITOR.NODE_ELEMENT}function e(n,a){var o,i,r,s,l=[],d=a.range.startContainer;o=a.range.startPath(),d=u[d.getName()];for(var c=0,m=n.getChildren(),h=m.count(),f=-1,p=-1,g=0,v=o.contains(u.$list);c<h;++c)t(o=m.getItem(c))?(r=o.getName(),v&&r in CKEDITOR.dtd.$list?l=l.concat(e(o,a)):(s=!!d[r],"br"!=r||!o.data("cke-eol")||c&&c!=h-1||(g=(i=c?l[c-1].node:m.getItem(c+1))&&(!t(i)||!i.is("br")),i=i&&t(i)&&u.$block[i.getName()]),-1!=f||s||(f=c),s||(p=c),l.push({isElement:1,isLineBreak:g,isBlock:o.isBlockBoundary(),hasBlockSibling:i,node:o,name:r,allowed:s}),i=g=0)):l.push({isElement:0,node:o,allowed:1});return-1<f&&(l[f].firstNotAllowed=1),-1<p&&(l[p].lastNotAllowed=1),l}function a(e,n){var o,i=[],r=e.getChildren(),s=r.count(),l=0,d=u[n],c=!e.is(u.$inline)||e.is("br");for(c&&i.push(" ");l<s;l++)t(o=r.getItem(l))&&!o.is(d)?i=i.concat(a(o,n)):i.push(o);return c&&i.push(" "),i}function o(e){return t(e.startContainer)&&e.startContainer.getChild(e.startOffset-1)}function i(e){return e&&t(e)&&(e.is(u.$removeEmpty)||e.is("a")&&!e.isBlockBoundary())}function d(e,n,a,o){var i,r,s=e.clone();s.setEndAt(n,CKEDITOR.POSITION_BEFORE_END),(i=new CKEDITOR.dom.walker(s).next())&&t(i)&&c[i.getName()]&&(r=i.getPrevious())&&t(r)&&!r.getParent().equals(e.startContainer)&&a.contains(r)&&o.contains(i)&&i.isIdentical(r)&&(i.moveChildren(r),i.remove(),d(e,n,a,o))}var u=CKEDITOR.dtd,c={p:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,ul:1,ol:1,li:1,pre:1,dl:1,blockquote:1},m={p:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},h=CKEDITOR.tools.extend({},u.$inline);return delete h.br,function(c,f,g,v){var x,b=c.editor,E=!1;if("unfiltered_html"==f&&(f="html",E=!0),!v.checkReadOnly()){E=(f={type:f,dontFilter:E,editable:c,editor:b,range:v,blockLimit:w=new CKEDITOR.dom.elementPath(v.startContainer,v.root).blockLimit||v.root,mergeCandidates:[],zombies:[]}).range;var T,C,y,I,D,_,w=f.mergeCandidates,O="html"===f.type;if("text"==f.type&&E.shrink(CKEDITOR.SHRINK_ELEMENT,!0,!1)&&(C=CKEDITOR.dom.element.createFromHtml("<span>&nbsp;</span>",E.document),E.insertNode(C),E.setStartAfter(C)),y=new CKEDITOR.dom.elementPath(E.startContainer),f.endPath=I=new CKEDITOR.dom.elementPath(E.endContainer),!E.collapsed){T=I.block||I.blockLimit;var R=E.getCommonAncestor();T&&!T.equals(R)&&!T.contains(R)&&E.checkEndOfBlock()&&f.zombies.push(T),E.deleteContents()}for(;(D=o(E))&&t(D)&&D.isBlockBoundary()&&y.contains(D);)E.moveToPosition(D,CKEDITOR.POSITION_BEFORE_END);for(d(E,f.blockLimit,y,I),C&&(E.setEndBefore(C),E.collapse(),C.remove()),(T=(C=E.startPath()).contains(i,!1,1))&&(x=E.splitElement(T),f.inlineStylesRoot=T,f.inlineStylesPeak=C.lastElement),C=E.createBookmark(),O&&(l(T),l(x)),(T=C.startNode.getPrevious(n))&&t(T)&&i(T)&&w.push(T),(T=C.startNode.getNext(n))&&t(T)&&i(T)&&w.push(T),T=C.startNode;(T=T.getParent())&&i(T);)w.push(T);if(E.moveToBookmark(C),x=""===(x=c.getHtml())||x.match(p),b.enterMode===CKEDITOR.ENTER_DIV&&x&&((b=c.getFirst())&&b.remove(),v.setStartAt(c,CKEDITOR.POSITION_AFTER_START),v.collapse(!0)),c=g){if(c=f.range,"text"==f.type&&f.inlineStylesRoot){for(b=(v=f.inlineStylesPeak).getDocument().createText("{cke-peak}"),x=f.inlineStylesRoot.getParent();!v.equals(x);)b=b.appendTo(v.clone()),v=v.getParent();g=b.getOuterHtml().split("{cke-peak}").join(g)}if(v=f.blockLimit.getName(),/^\s+|\s+$/.test(g)&&"span"in CKEDITOR.dtd[v]&&(g=(N='<span data-cke-marker="1">&nbsp;</span>')+g+N),g=f.editor.dataProcessor.toHtml(g,{context:null,fixForBody:!1,protectedWhitespaces:!!N,dontFilter:f.dontFilter,filter:f.editor.activeFilter,enterMode:f.editor.activeEnterMode}),(v=c.document.createElement("body")).setHtml(g),N&&(v.getFirst().remove(),v.getLast().remove()),(N=c.startPath().block)&&(1!=N.getChildCount()||!N.getBogus()))t:{var q;if(1==v.getChildCount()&&t(q=v.getFirst())&&q.is(m)&&!q.hasAttribute("contenteditable")){for(c=0,x=(N=q.getElementsByTag("*")).count();c<x;c++)if(!(b=N.getItem(c)).is(h))break t;q.moveChildren(q.getParent(1)),q.remove()}}f.dataWrapper=v,c=g}if(c){c=(q=f.range).document,v=f.blockLimit,x=0;var k,K,S,M,L,N=[];for(g=C=0,b=q.startContainer,E=(D=f.endPath.elements[0]).getPosition(b),w=!(!D.getCommonAncestor(b)||E==CKEDITOR.POSITION_IDENTICAL||E&CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_IS_CONTAINED),b=e(f.dataWrapper,f),f.editor.enterMode!==CKEDITOR.ENTER_BR&&function(e,n){function a(e,n){if(n.isBlock&&n.isElement&&!n.node.is("br")&&t(e)&&e.is("br"))return e.remove(),1}var o=n.endContainer.getChild(n.endOffset),i=n.endContainer.getChild(n.endOffset-1);o&&a(o,e[e.length-1]),i&&a(i,e[0])&&(n.setEnd(n.endContainer,n.endOffset-1),n.collapse())}(b,q);x<b.length;x++)if((O=(E=b[x]).isLineBreak)&&(O=q,T=v,I=y=void 0,E.hasBlockSibling?O=1:(y=O.startContainer.getAscendant(u.$block,1))&&y.is({div:1,p:1})?(I=y.getPosition(T))==CKEDITOR.POSITION_IDENTICAL||I==CKEDITOR.POSITION_CONTAINS?O=0:(T=O.splitElement(y),O.moveToPosition(T,CKEDITOR.POSITION_AFTER_START),O=1):O=0),O)g=0<x;else{if(O=q.startPath(),!E.isBlock&&r(f.editor,O.block,O.blockLimit)&&(S=s(f.editor))&&((S=c.createElement(S)).appendBogus(),q.insertNode(S),CKEDITOR.env.needsBrFiller&&(k=S.getBogus())&&k.remove(),q.moveToPosition(S,CKEDITOR.POSITION_BEFORE_END)),(O=q.startPath().block)&&!O.equals(K)&&((k=O.getBogus())&&(k.remove(),N.push(O)),K=O),E.firstNotAllowed&&(C=1),C&&E.isElement){for(O=q.startContainer,T=null;O&&!u[O.getName()][E.name];){if(O.equals(v)){O=null;break}T=O,O=O.getParent()}if(O)T&&(M=q.splitElement(T),f.zombies.push(M),f.zombies.push(T));else{T=v.getName(),L=!x,O=x==b.length-1,y=[],I=(T=a(E.node,T)).length,R=0;for(var A=void 0,j=0,F=-1;R<I;R++)" "==(A=T[R])?(j||L&&!R||(y.push(new CKEDITOR.dom.text(" ")),F=y.length),j=1):(y.push(A),j=0);O&&F==y.length&&y.pop(),L=y}}if(L){for(;O=L.pop();)q.insertNode(O);L=0}else q.insertNode(E.node);E.lastNotAllowed&&x<b.length-1&&((M=w?D:M)&&q.setEndAt(M,CKEDITOR.POSITION_AFTER_START),C=0),q.collapse()}(k=1==b.length&&(k=b[0]).isElement&&"false"==k.node.getAttribute("contenteditable"))&&(g=!0,O=b[0].node,q.setStartAt(O,CKEDITOR.POSITION_BEFORE_START),q.setEndAt(O,CKEDITOR.POSITION_AFTER_END)),f.dontMoveCaret=g,f.bogusNeededBlocks=N}for(k=f.range,L=f.bogusNeededBlocks,K=k.createBookmark();S=f.zombies.pop();)S.getParent()&&((M=k.clone()).moveToElementEditStart(S),M.removeEmptyBlocksAtEnd());if(L)for(;S=L.pop();)CKEDITOR.env.needsBrFiller?S.appendBogus():S.append(k.document.createText(" "));for(;S=f.mergeCandidates.pop();)S.mergeSiblings();if(CKEDITOR.env.webkit&&k.startPath()&&((S=k.startPath()).block?S.block.$.normalize():S.blockLimit&&S.blockLimit.$.normalize()),k.moveToBookmark(K),!f.dontMoveCaret){for(S=o(k);S&&t(S)&&!S.is(u.$empty);){if(S.isBlockBoundary())k.moveToPosition(S,CKEDITOR.POSITION_BEFORE_END);else{if(i(S)&&S.getHtml().match(/(\s|&nbsp;)$/g)){_=null;break}(_=k.clone()).moveToPosition(S,CKEDITOR.POSITION_BEFORE_END)}S=S.getLast(n)}_&&k.moveToRange(_)}}}}(),v=function(){function t(t){return(t=new CKEDITOR.dom.walker(t)).guard=function(t,e){return!e&&(t.type==CKEDITOR.NODE_ELEMENT?t.is(CKEDITOR.dtd.$tableContent):void 0)},t.evaluator=function(t){return t.type==CKEDITOR.NODE_ELEMENT},t}function e(t,e,n){return e=t.getDocument().createElement(e),t.append(e,n),e}function n(t){for(var e,n=t.count();0<n--;)e=t.getItem(n),CKEDITOR.tools.trim(e.getHtml())||(e.appendBogus(),CKEDITOR.env.ie&&9>CKEDITOR.env.version&&e.getChildCount()&&e.getFirst().remove())}return function(a){var o=a.startContainer,i=o.getAscendant("table",1),r=!1;n(i.getElementsByTag("td")),n(i.getElementsByTag("th")),(i=a.clone()).setStart(o,0),(i=t(i).lastBackward())||((i=a.clone()).setEndAt(o,CKEDITOR.POSITION_BEFORE_END),i=t(i).lastForward(),r=!0),i||(i=o),i.is("table")?(a.setStartAt(i,CKEDITOR.POSITION_BEFORE_START),a.collapse(!0),i.remove()):(i.is({tbody:1,thead:1,tfoot:1})&&(i=e(i,"tr",r)),i.is("tr")&&(i=e(i,i.getParent().is("thead")?"th":"td",r)),(o=i.getBogus())&&o.remove(),a.moveToPosition(i,r?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END))}}(),x=function(){function t(t){return(t=new CKEDITOR.dom.walker(t)).guard=function(t,e){return!e&&(t.type==CKEDITOR.NODE_ELEMENT?t.is(CKEDITOR.dtd.$list)||t.is(CKEDITOR.dtd.$listItem):void 0)},t.evaluator=function(t){return t.type==CKEDITOR.NODE_ELEMENT&&t.is(CKEDITOR.dtd.$listItem)},t}return function(e){var n,a=e.startContainer,o=!1;(n=e.clone()).setStart(a,0),(n=t(n).lastBackward())||((n=e.clone()).setEndAt(a,CKEDITOR.POSITION_BEFORE_END),n=t(n).lastForward(),o=!0),n||(n=a),n.is(CKEDITOR.dtd.$list)?(e.setStartAt(n,CKEDITOR.POSITION_BEFORE_START),e.collapse(!0),n.remove()):((a=n.getBogus())&&a.remove(),e.moveToPosition(n,o?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END),e.select())}}(),b={eol:{detect:function(t,e){var n=t.range,a=n.clone(),o=n.clone(),i=new CKEDITOR.dom.elementPath(n.startContainer,e),r=new CKEDITOR.dom.elementPath(n.endContainer,e);a.collapse(1),o.collapse(),i.block&&a.checkBoundaryOfElement(i.block,CKEDITOR.END)&&(n.setStartAfter(i.block),t.prependEolBr=1),r.block&&o.checkBoundaryOfElement(r.block,CKEDITOR.START)&&(n.setEndBefore(r.block),t.appendEolBr=1)},fix:function(t,e){var n,a=e.getDocument();t.appendEolBr&&(n=this.createEolBr(a),t.fragment.append(n)),!t.prependEolBr||n&&!n.getPrevious()||t.fragment.append(this.createEolBr(a),1)},createEolBr:function(t){return t.createElement("br",{attributes:{"data-cke-eol":1}})}},bogus:{exclude:function(t){var e,n=(e=t.range.getBoundaryNodes()).startNode;!(e=e.endNode)||!f(e)||n&&n.equals(e)||t.range.setEndBefore(e)}},tree:{rebuild:function(t,e){var n,a=(r=t.range).getCommonAncestor(),o=new CKEDITOR.dom.elementPath(a,e),i=new CKEDITOR.dom.elementPath(r.startContainer,e),r=new CKEDITOR.dom.elementPath(r.endContainer,e);if(a.type==CKEDITOR.NODE_TEXT&&(a=a.getParent()),o.blockLimit.is({tr:1,table:1})){var s=o.contains("table").getParent();n=function(t){return!t.equals(s)}}else if(o.block&&o.block.is(CKEDITOR.dtd.$listItem)&&(i=i.contains(CKEDITOR.dtd.$list),r=r.contains(CKEDITOR.dtd.$list),!i.equals(r))){var l=o.contains(CKEDITOR.dtd.$list).getParent();n=function(t){return!t.equals(l)}}n||(n=function(t){return!t.equals(o.block)&&!t.equals(o.blockLimit)}),this.rebuildFragment(t,e,a,n)},rebuildFragment:function(t,e,n,a){for(var o;n&&!n.equals(e)&&a(n);)o=n.clone(0,1),t.fragment.appendTo(o),t.fragment=o,n=n.getParent()}},cell:{shrink:function(t){var e=(t=t.range).startContainer,n=t.endContainer,a=t.startOffset,o=t.endOffset;e.type==CKEDITOR.NODE_ELEMENT&&e.equals(n)&&e.is("tr")&&++a==o&&t.shrink(CKEDITOR.SHRINK_TEXT)}}},E=function(){function t(t,e){var n=t.getParent();n.is(CKEDITOR.dtd.$inline)&&t[e?"insertBefore":"insertAfter"](n)}function e(e,n,a){t(n),t(a,1);for(var o;o=a.getNext();)o.insertAfter(n),n=o;h(e)&&e.remove()}function n(t,e){var n=new CKEDITOR.dom.range(t);return n.setStartAfter(e.startNode),n.setEndBefore(e.endNode),n}return{list:{detectMerge:function(t,e){var a=n(e,t.bookmark),o=a.startPath(),i=a.endPath(),r=o.contains(CKEDITOR.dtd.$list),s=i.contains(CKEDITOR.dtd.$list);t.mergeList=r&&s&&r.getParent().equals(s.getParent())&&!r.equals(s),t.mergeListItems=o.block&&i.block&&o.block.is(CKEDITOR.dtd.$listItem)&&i.block.is(CKEDITOR.dtd.$listItem),(t.mergeList||t.mergeListItems)&&((a=a.clone()).setStartBefore(t.bookmark.startNode),a.setEndAfter(t.bookmark.endNode),t.mergeListBookmark=a.createBookmark())},merge:function(t,n){if(t.mergeListBookmark){var a=t.mergeListBookmark.startNode,o=t.mergeListBookmark.endNode,i=new CKEDITOR.dom.elementPath(a,n),r=new CKEDITOR.dom.elementPath(o,n);if(t.mergeList){var s=i.contains(CKEDITOR.dtd.$list),l=r.contains(CKEDITOR.dtd.$list);s.equals(l)||(l.moveChildren(s),l.remove())}t.mergeListItems&&(i=i.contains(CKEDITOR.dtd.$listItem),r=r.contains(CKEDITOR.dtd.$listItem),i.equals(r)||e(r,a,o)),a.remove(),o.remove()}}},block:{detectMerge:function(t,e){if(!t.tableContentsRanges&&!t.mergeListBookmark){var n=new CKEDITOR.dom.range(e);n.setStartBefore(t.bookmark.startNode),n.setEndAfter(t.bookmark.endNode),t.mergeBlockBookmark=n.createBookmark()}},merge:function(t,n){if(t.mergeBlockBookmark&&!t.purgeTableBookmark){var a=t.mergeBlockBookmark.startNode,o=t.mergeBlockBookmark.endNode,i=new CKEDITOR.dom.elementPath(a,n),r=new CKEDITOR.dom.elementPath(o,n);i=i.block,r=r.block,i&&r&&!i.equals(r)&&e(r,a,o),a.remove(),o.remove()}}},table:function(){function t(t){var n,o=[],i=new CKEDITOR.dom.walker(t),r=t.startPath().contains(a),s=t.endPath().contains(a),l={};return i.guard=function(i,d){if(i.type==CKEDITOR.NODE_ELEMENT){var u="visited_"+(d?"out":"in");if(i.getCustomData(u))return;CKEDITOR.dom.element.setMarker(l,i,u,1)}if(d&&r&&i.equals(r))(n=t.clone()).setEndAt(r,CKEDITOR.POSITION_BEFORE_END),o.push(n);else if(!d&&s&&i.equals(s))(n=t.clone()).setStartAt(s,CKEDITOR.POSITION_AFTER_START),o.push(n);else{if((u=!d)&&(u=i.type==CKEDITOR.NODE_ELEMENT&&i.is(a)&&(!r||e(i,r))&&(!s||e(i,s))),!u&&(u=d))if(i.is(a)){u=r&&r.getAscendant("table",!0);var c=s&&s.getAscendant("table",!0),m=i.getAscendant("table",!0);u=u&&u.contains(m)||c&&c.contains(m)}else u=void 0;u&&((n=t.clone()).selectNodeContents(i),o.push(n))}},i.lastForward(),CKEDITOR.dom.element.clearAllMarkers(l),o}function e(t,e){var n=CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_IS_CONTAINED,a=t.getPosition(e);return a!==CKEDITOR.POSITION_IDENTICAL&&!(a&n)}var a={td:1,th:1,caption:1};return{detectPurge:function(t){var e=t.range;(n=e.clone()).enlarge(CKEDITOR.ENLARGE_ELEMENT);var n=new CKEDITOR.dom.walker(n),o=0;if(n.evaluator=function(t){t.type==CKEDITOR.NODE_ELEMENT&&t.is(a)&&++o},n.checkForward(),1<o){n=e.startPath().contains("table");var i=e.endPath().contains("table");n&&i&&e.checkBoundaryOfElement(n,CKEDITOR.START)&&e.checkBoundaryOfElement(i,CKEDITOR.END)&&((e=t.range.clone()).setStartBefore(n),e.setEndAfter(i),t.purgeTableBookmark=e.createBookmark())}},detectRanges:function(o,i){var r,s,l=n(i,o.bookmark),d=l.clone(),u=l.getCommonAncestor();u.is(CKEDITOR.dtd.$tableContent)&&!u.is(a)&&(u=u.getAscendant("table",!0)),s=u,u=new CKEDITOR.dom.elementPath(l.startContainer,s),s=new CKEDITOR.dom.elementPath(l.endContainer,s),u=u.contains("table"),s=s.contains("table"),(u||s)&&(u&&s&&e(u,s)?(o.tableSurroundingRange=d,d.setStartAt(u,CKEDITOR.POSITION_AFTER_END),d.setEndAt(s,CKEDITOR.POSITION_BEFORE_START),(d=l.clone()).setEndAt(u,CKEDITOR.POSITION_AFTER_END),(r=l.clone()).setStartAt(s,CKEDITOR.POSITION_BEFORE_START),r=t(d).concat(t(r))):u?s||(o.tableSurroundingRange=d,d.setStartAt(u,CKEDITOR.POSITION_AFTER_END),l.setEndAt(u,CKEDITOR.POSITION_AFTER_END)):(o.tableSurroundingRange=d,d.setEndAt(s,CKEDITOR.POSITION_BEFORE_START),l.setStartAt(s,CKEDITOR.POSITION_AFTER_START)),o.tableContentsRanges=r||t(l))},deleteRanges:function(t){for(var e;e=t.tableContentsRanges.pop();)e.extractContents(),h(e.startContainer)&&e.startContainer.appendBogus();t.tableSurroundingRange&&t.tableSurroundingRange.extractContents()},purge:function(t){if(t.purgeTableBookmark){var e=t.doc,n=t.range.clone();(e=e.createElement("p")).insertBefore(t.purgeTableBookmark.startNode),n.moveToBookmark(t.purgeTableBookmark),n.deleteContents(),t.range.moveToPosition(e,CKEDITOR.POSITION_AFTER_START)}}}}(),detectExtractMerge:function(t){return!(t.range.startPath().contains(CKEDITOR.dtd.$listItem)&&t.range.endPath().contains(CKEDITOR.dtd.$listItem))},fixUneditableRangePosition:function(t){t.startContainer.getDtd()["#"]||t.moveToClosestEditablePosition(null,!0)},autoParagraph:function(t,e){var n,a=e.startPath();r(t,a.block,a.blockLimit)&&(n=s(t))&&((n=e.document.createElement(n)).appendBogus(),e.insertNode(n),e.moveToPosition(n,CKEDITOR.POSITION_AFTER_START))}}}()}(),function(){function t(t){return CKEDITOR.plugins.widget&&CKEDITOR.plugins.widget.isDomWidget(t)}function e(e,n){if(0===e.length||t(e[0].getEnclosedNode()))return!1;var a,o;if((a=!n&&1===e.length)&&!(a=e[0].collapsed)){var i=e[0];a=i.startContainer.getAscendant({td:1,th:1},!0);var r=i.endContainer.getAscendant({td:1,th:1},!0);o=CKEDITOR.tools.trim,a=!(!a||!a.equals(r)||a.findOne("td, th, tr, tbody, table")||(i=i.cloneContents()).getFirst()&&o(i.getFirst().getText())===o(a.getText()))}if(a)return!1;for(o=0;o<e.length;o++)if(!(a=e[o]._getTableElement()))return!1;return!0}function n(t){var e=this.root.editor,n=e.getSelection(1);this.reset(),m=!0,n.root.once("selectionchange",(function(t){t.cancel()}),null,null,0),n.selectRanges([t[0]]),(n=this._.cache).ranges=new CKEDITOR.dom.rangeList(t),n.type=CKEDITOR.SELECTION_TEXT,n.selectedElement=t[0]._getTableElement(),n.selectedText=function(t){t=function(t){function e(t){t=t.find("td, th");var e,n=[];for(e=0;e<t.count();e++)n.push(t.getItem(e));return n}var n,a,o=[];for(a=0;a<t.length;a++)(n=t[a]._getTableElement()).is&&n.is({td:1,th:1})?o.push(n):o=o.concat(e(n));return o}(t);var e,n,a="",o=[];for(n=0;n<t.length;n++)e&&!e.equals(t[n].getAscendant("tr"))?(a+=o.join("\t")+"\n",e=t[n].getAscendant("tr"),o=[]):0===n&&(e=t[n].getAscendant("tr")),o.push(t[n].getText());return a+o.join("\t")}(t),n.nativeSel=null,this.isFake=1,this.rev=g++,e._.fakeSelection=this,m=!1,this.root.fire("selectionchange")}function a(){var n,a=this._.fakeSelection;if(a){var o;if(!(o=!(n=this.getSelection(1)))&&(o=!n.isHidden())){o=a;var i=n.getRanges(),r=o.getRanges(),s=i.length&&i[0]._getTableElement()&&i[0]._getTableElement().getAscendant("table",!0),l=r.length&&r[0]._getTableElement()&&r[0]._getTableElement().getAscendant("table",!0),d=1===i.length&&i[0]._getTableElement()&&i[0]._getTableElement().is("table"),u=1===r.length&&r[0]._getTableElement()&&r[0]._getTableElement().is("table");if(t(o.getSelectedElement()))o=!1;else{var c=1===i.length&&i[0].collapsed;r=e(i,!!CKEDITOR.env.webkit)&&e(r),(s=!(!s||!l)&&(s.equals(l)||l.contains(s)))&&(c||r)?(d&&!u&&o.selectRanges(i),o=!0):o=!1}o=!o}o&&(a.reset(),a=0)}(a||(a=n||this.getSelection(1))&&a.getType()!=CKEDITOR.SELECTION_NONE)&&(this.fire("selectionCheck",a),(n=this.elementPath()).compare(this._.selectionPreviousPath)||(o=this._.selectionPreviousPath&&this._.selectionPreviousPath.blockLimit.equals(n.blockLimit),!CKEDITOR.env.webkit&&!CKEDITOR.env.gecko||o||(this._.previousActive=this.document.getActive()),this._.selectionPreviousPath=n,this.fire("selectionChange",{selection:a,path:n})))}function o(){f=!0,h||(i.call(this),h=CKEDITOR.tools.setTimeout(i,200,this))}function i(){h=null,f&&(CKEDITOR.tools.setTimeout(a,0,this),f=!1)}function r(t){return!(!b(t)&&(t.type!=CKEDITOR.NODE_ELEMENT||t.is(CKEDITOR.dtd.$empty)))}function s(t){function e(e,n){return!(!e||e.type==CKEDITOR.NODE_TEXT)&&t.clone()["moveToElementEdit"+(n?"End":"Start")](e)}if(!(t.root instanceof CKEDITOR.editable))return!1;var n=t.startContainer,a=t.getPreviousNode(r,null,n),o=t.getNextNode(r,null,n);return!(!e(a)&&!e(o,1)&&(a||o||n.type==CKEDITOR.NODE_ELEMENT&&n.isBlockBoundary()&&n.getBogus()))}function l(t){d(t,!1);var e=t.getDocument().createText(v);return t.setCustomData("cke-fillingChar",e),e}function d(t,e){var n=t&&t.removeCustomData("cke-fillingChar");if(n){if(!1!==e){var a=t.getDocument().getSelection().getNative(),o=a&&"None"!=a.type&&a.getRangeAt(0),i=v.length;if(n.getLength()>i&&o&&o.intersectsNode(n.$)){var r=[{node:a.anchorNode,offset:a.anchorOffset},{node:a.focusNode,offset:a.focusOffset}];a.anchorNode==n.$&&a.anchorOffset>i&&(r[0].offset-=i),a.focusNode==n.$&&a.focusOffset>i&&(r[1].offset-=i)}}n.setText(u(n.getText(),1)),r&&(a=(n=t.getDocument().$).getSelection(),(n=n.createRange()).setStart(r[0].node,r[0].offset),n.collapse(!0),a.removeAllRanges(),a.addRange(n),a.extend(r[1].node,r[1].offset))}}function u(t,e){return e?t.replace(x,(function(t,e){return e?" ":""})):t.replace(v,"")}function c(e){var n={35:1,36:1,2228259:1,2228260:1,2228261:1,2228262:1,2228263:1,2228264:1,1114149:1,1114151:1,3342373:1,3342375:1},a=CKEDITOR.tools.extend({8:1,37:1,39:1,46:1},n);return function(o){var i=o.data.getKeystroke();if(a[i]){var r=e.getSelection(),s=r.getRanges()[0];n[i]?r.isFake&&(i=o.data.getKey(),s.moveToClosestEditablePosition(o.selected,36===i||37===i||38==i),s.select()):r.isCollapsed()&&(s=s[38>i?"getPreviousEditableNode":"getNextEditableNode"]())&&s.type==CKEDITOR.NODE_ELEMENT&&"false"==s.getAttribute("contenteditable")&&(!(r=r.getStartElement()).isBlockBoundary()||""!==(void 0===r.$.textContent?r.$.innerText:r.$.textContent)||t(r.getFirst())||8!==i&&46!==i||(r.remove(),e.fire("saveSnapshot")),e.getSelection().fake(s),o.data.preventDefault(),o.cancel())}}}var m,h,f,p="function"!=typeof window.getSelection,g=1,v=CKEDITOR.tools.repeat("​",7),x=new RegExp(v+"( )?","g"),b=CKEDITOR.dom.walker.invisible(1),E=function(){function t(t){return function(e){var n=e.editor.createRange();return n.moveToClosestEditablePosition(e.selected,t)&&e.editor.getSelection().selectRanges([n]),!1}}function e(t){return function(e){var n,a=e.editor,o=a.createRange();if(!a.readOnly)return(n=o.moveToClosestEditablePosition(e.selected,t))||(n=o.moveToClosestEditablePosition(e.selected,!t)),n&&a.getSelection().selectRanges([o]),a.fire("saveSnapshot"),e.selected.remove(),n||(o.moveToElementEditablePosition(a.editable()),a.getSelection().selectRanges([o])),a.fire("saveSnapshot"),!1}}var n=t(),a=t(1);return{37:n,38:n,39:a,40:a,8:e(),46:e(1)}}();CKEDITOR.on("instanceCreated",(function(t){function e(){var t=n.getSelection();t&&t.removeAllRanges()}var n=t.editor;n.on("contentDom",(function(){function t(){(r=new CKEDITOR.dom.selection(n.getSelection())).lock()}function e(){f.removeListener("mouseup",e),x.removeListener("mouseup",e);var t=CKEDITOR.document.$.selection,n=t.createRange();"None"!=t.type&&n.parentElement()&&n.parentElement().ownerDocument==h.$&&n.select()}var i,r,s,l,u,m,h=n.document,f=CKEDITOR.document,g=n.editable(),v=h.getBody(),x=h.getDocumentElement(),b=g.isInline();CKEDITOR.env.gecko&&g.attachListener(g,"focus",(function(t){t.removeListener(),0!==i&&(t=n.getSelection().getNative())&&t.isCollapsed&&t.anchorNode==g.$&&((t=n.createRange()).moveToElementEditStart(g),t.select())}),null,null,-2),g.attachListener(g,CKEDITOR.env.webkit||CKEDITOR.env.gecko?"focusin":"focus",(function(){if(i&&(CKEDITOR.env.webkit||CKEDITOR.env.gecko)){i=n._.previousActive&&n._.previousActive.equals(h.getActive());var t=null!=n._.previousScrollTop&&n._.previousScrollTop!=g.$.scrollTop;CKEDITOR.env.webkit&&i&&t&&(g.$.scrollTop=n._.previousScrollTop)}n.unlockSelection(i),i=0}),null,null,-1),g.attachListener(g,"mousedown",(function(){i=0})),(CKEDITOR.env.ie||CKEDITOR.env.gecko||b)&&(p?g.attachListener(g,"beforedeactivate",t,null,null,-1):g.attachListener(n,"selectionCheck",t,null,null,-1),g.attachListener(g,CKEDITOR.env.webkit||CKEDITOR.env.gecko?"focusout":"blur",(function(){var t=r&&(r.isFake||2>r.getRanges().length);CKEDITOR.env.gecko&&!b&&t||(n.lockSelection(r),i=1)}),null,null,-1),g.attachListener(g,"mousedown",(function(){i=0}))),CKEDITOR.env.ie&&!b&&(g.attachListener(g,"mousedown",(function(t){2==t.data.$.button&&((t=n.document.getSelection())&&t.getType()!=CKEDITOR.SELECTION_NONE||(s=n.window.getScrollPosition()))})),g.attachListener(g,"mouseup",(function(t){2==t.data.$.button&&s&&(n.document.$.documentElement.scrollLeft=s.x,n.document.$.documentElement.scrollTop=s.y),s=null})),"BackCompat"!=h.$.compatMode)&&((CKEDITOR.env.ie7Compat||CKEDITOR.env.ie6Compat)&&x.on("mousedown",(function(t){function e(t){if(t=t.data.$,u){var e=v.$.createTextRange();try{e.moveToPoint(t.clientX,t.clientY)}catch(t){}u.setEndPoint(0>m.compareEndPoints("StartToStart",e)?"EndToEnd":"StartToStart",e),u.select()}}function n(){x.removeListener("mousemove",e),f.removeListener("mouseup",n),x.removeListener("mouseup",n),u.select()}if((t=t.data).getTarget().is("html")&&t.$.y<x.$.clientHeight&&t.$.x<x.$.clientWidth){u=v.$.createTextRange();try{u.moveToPoint(t.$.clientX,t.$.clientY)}catch(t){}m=u.duplicate(),x.on("mousemove",e),f.on("mouseup",n),x.on("mouseup",n)}})),7<CKEDITOR.env.version&&11>CKEDITOR.env.version&&x.on("mousedown",(function(t){t.data.getTarget().is("html")&&(f.on("mouseup",e),x.on("mouseup",e))}))),g.attachListener(g,"selectionchange",a,n),g.attachListener(g,"keyup",o,n),g.attachListener(g,"touchstart",o,n),g.attachListener(g,"touchend",o,n),CKEDITOR.env.ie&&g.attachListener(g,"keydown",(function(t){var e,n;(e=!!(e=this.document.getActive())&&("input"===e.getName()||"textarea"===e.getName()))||(n=function(t){return(t=t.getRanges()[0])&&(t=t.startContainer.getAscendant((function(t){return t.type==CKEDITOR.NODE_ELEMENT&&t.hasAttribute("contenteditable")}),!0))&&"false"===t.getAttribute("contenteditable")?t:null}(e=this.getSelection(1)))&&!n.equals(g)&&(e.selectElement(n),t.data.preventDefault())}),n),g.attachListener(g,CKEDITOR.env.webkit||CKEDITOR.env.gecko?"focusin":"focus",(function(){n.forceNextSelectionCheck(),n.selectionChange(1)})),b&&(CKEDITOR.env.webkit||CKEDITOR.env.gecko)?(g.attachListener(g,"mousedown",(function(){l=1})),g.attachListener(h.getDocumentElement(),"mouseup",(function(){l&&o.call(n),l=0}))):g.attachListener(CKEDITOR.env.ie?g:h.getDocumentElement(),"mouseup",o,n),CKEDITOR.env.webkit&&g.attachListener(h,"keydown",(function(t){switch(t.data.getKey()){case 13:case 33:case 34:case 35:case 36:case 37:case 39:case 8:case 45:case 46:g.hasFocus&&d(g)}}),null,null,-1),g.attachListener(g,"keydown",c(n),null,null,-1)})),n.on("setData",(function(){n.unlockSelection(),CKEDITOR.env.webkit&&e()})),n.on("contentDomUnload",(function(){n.unlockSelection()})),CKEDITOR.env.ie9Compat&&n.on("beforeDestroy",e,null,null,9),n.on("dataReady",(function(){delete n._.fakeSelection,delete n._.hiddenSelectionContainer,n.selectionChange(1)})),n.on("loadSnapshot",(function(){var t=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_ELEMENT),e=n.editable().getLast(t);e&&e.hasAttribute("data-cke-hidden-sel")&&(e.remove(),CKEDITOR.env.gecko&&(t=n.editable().getFirst(t))&&t.is("br")&&t.getAttribute("_moz_editor_bogus_node")&&t.remove())}),null,null,100),n.on("key",(function(t){if("wysiwyg"==n.mode){var e=n.getSelection();if(e.isFake){var a=E[t.data.keyCode];if(a)return a({editor:n,selected:e.getSelectedElement(),selection:e,keyEvent:t})}}}))})),CKEDITOR.env.webkit&&CKEDITOR.on("instanceReady",(function(t){var e=t.editor;e.on("selectionChange",(function(){var t=e.editable(),n=t.getCustomData("cke-fillingChar");n&&(n.getCustomData("ready")?(d(t),t.editor.fire("selectionCheck")):n.setCustomData("ready",1))}),null,null,-1),e.on("beforeSetMode",(function(){d(e.editable())}),null,null,-1),e.on("getSnapshot",(function(t){t.data&&(t.data=u(t.data))}),e,null,20),e.on("toDataFormat",(function(t){t.data.dataValue=u(t.data.dataValue)}),null,null,0)})),CKEDITOR.editor.prototype.selectionChange=function(t){(t?a:o).call(this)},CKEDITOR.editor.prototype.getSelection=function(t){return!this._.savedSelection&&!this._.fakeSelection||t?(t=this.editable())&&"wysiwyg"==this.mode&&"recreating"!==this.status?new CKEDITOR.dom.selection(t):null:this._.savedSelection||this._.fakeSelection},CKEDITOR.editor.prototype.getSelectedRanges=function(t){var e=this.getSelection();return e&&e.getRanges(t)||[]},CKEDITOR.editor.prototype.lockSelection=function(t){return(t=t||this.getSelection(1)).getType()!=CKEDITOR.SELECTION_NONE&&(!t.isLocked&&t.lock(),this._.savedSelection=t,!0)},CKEDITOR.editor.prototype.unlockSelection=function(t){var e=this._.savedSelection;return!!e&&(e.unlock(t),delete this._.savedSelection,!0)},CKEDITOR.editor.prototype.forceNextSelectionCheck=function(){delete this._.selectionPreviousPath},CKEDITOR.dom.document.prototype.getSelection=function(){return new CKEDITOR.dom.selection(this)},CKEDITOR.dom.range.prototype.select=function(){var t=this.root instanceof CKEDITOR.editable?this.root.editor.getSelection():new CKEDITOR.dom.selection(this.root);return t.selectRanges([this]),t},CKEDITOR.SELECTION_NONE=1,CKEDITOR.SELECTION_TEXT=2,CKEDITOR.SELECTION_ELEMENT=3,CKEDITOR.dom.selection=function(t){if(t instanceof CKEDITOR.dom.selection){var e=t;t=t.root}var n,a,o=t instanceof CKEDITOR.dom.element;if(this.rev=e?e.rev:g++,this.document=t instanceof CKEDITOR.dom.document?t:t.getDocument(),this.root=o?t:this.document.getBody(),this.isLocked=0,this._={cache:{}},e)return CKEDITOR.tools.extend(this._.cache,e._.cache),this.isFake=e.isFake,this.isLocked=e.isLocked,this;if(t=this.getNative())if(t.getRangeAt)n=(a=t.rangeCount&&t.getRangeAt(0))&&new CKEDITOR.dom.node(a.commonAncestorContainer);else{try{a=t.createRange()}catch(t){}n=a&&CKEDITOR.dom.element.get(a.item&&a.item(0)||a.parentElement())}return(!n||n.type!=CKEDITOR.NODE_ELEMENT&&n.type!=CKEDITOR.NODE_TEXT||!this.root.equals(n)&&!this.root.contains(n))&&(this._.cache.type=CKEDITOR.SELECTION_NONE,this._.cache.startElement=null,this._.cache.selectedElement=null,this._.cache.selectedText="",this._.cache.ranges=new CKEDITOR.dom.rangeList),this};var T={img:1,hr:1,li:1,table:1,tr:1,td:1,th:1,embed:1,object:1,ol:1,ul:1,a:1,input:1,form:1,select:1,textarea:1,button:1,fieldset:1,thead:1,tfoot:1};CKEDITOR.tools.extend(CKEDITOR.dom.selection,{_removeFillingCharSequenceString:u,_createFillingCharSequenceNode:l,FILLING_CHAR_SEQUENCE:v}),CKEDITOR.dom.selection.prototype={getNative:function(){return void 0!==this._.cache.nativeSel?this._.cache.nativeSel:this._.cache.nativeSel=p?this.document.$.selection:this.document.getWindow().$.getSelection()},getType:p?function(){var t=this._.cache;if(t.type)return t.type;var e=CKEDITOR.SELECTION_NONE;try{var n=this.getNative(),a=n.type;"Text"==a&&(e=CKEDITOR.SELECTION_TEXT),"Control"==a&&(e=CKEDITOR.SELECTION_ELEMENT),n.createRange().parentElement()&&(e=CKEDITOR.SELECTION_TEXT)}catch(t){}return t.type=e}:function(){var t=this._.cache;if(t.type)return t.type;var e=CKEDITOR.SELECTION_TEXT;if((n=this.getNative())&&n.rangeCount){if(1==n.rangeCount){var n,a=(n=n.getRangeAt(0)).startContainer;a==n.endContainer&&1==a.nodeType&&1==n.endOffset-n.startOffset&&T[a.childNodes[n.startOffset].nodeName.toLowerCase()]&&(e=CKEDITOR.SELECTION_ELEMENT)}}else e=CKEDITOR.SELECTION_NONE;return t.type=e},getRanges:function(){var t=p?function(){function t(t){return new CKEDITOR.dom.node(t).getIndex()}var e=function(e,n){(e=e.duplicate()).collapse(n);var a=e.parentElement();if(!a.hasChildNodes())return{container:a,offset:0};for(var o,i,r,s,l=a.children,d=e.duplicate(),u=0,c=l.length-1,m=-1;u<=c;)if(o=l[m=Math.floor((u+c)/2)],d.moveToElementText(o),0<(r=d.compareEndPoints("StartToStart",e)))c=m-1;else{if(!(0>r))return{container:a,offset:t(o)};u=m+1}if(-1==m||m==l.length-1&&0>r){if(d.moveToElementText(a),d.setEndPoint("StartToStart",e),d=d.text.replace(/(\r\n|\r)/g,"\n").length,l=a.childNodes,!d)return(o=l[l.length-1]).nodeType!=CKEDITOR.NODE_TEXT?{container:a,offset:l.length}:{container:o,offset:o.nodeValue.length};for(a=l.length;0<d&&0<a;)(i=l[--a]).nodeType==CKEDITOR.NODE_TEXT&&(s=i,d-=i.nodeValue.length);return{container:s,offset:-d}}if(d.collapse(0<r),d.setEndPoint(0<r?"StartToStart":"EndToStart",e),!(d=d.text.replace(/(\r\n|\r)/g,"\n").length))return{container:a,offset:t(o)+(0<r?0:1)};for(;0<d;)try{(i=o[0<r?"previousSibling":"nextSibling"]).nodeType==CKEDITOR.NODE_TEXT&&(d-=i.nodeValue.length,s=i),o=i}catch(e){return{container:a,offset:t(o)}}return{container:s,offset:0<r?-d:s.nodeValue.length+d}};return function(){var t=(s=this.getNative())&&s.createRange(),n=this.getType();if(!s)return[];if(n==CKEDITOR.SELECTION_TEXT)return s=new CKEDITOR.dom.range(this.root),n=e(t,!0),s.setStart(new CKEDITOR.dom.node(n.container),n.offset),n=e(t),s.setEnd(new CKEDITOR.dom.node(n.container),n.offset),s.endContainer.getPosition(s.startContainer)&CKEDITOR.POSITION_PRECEDING&&s.endOffset<=s.startContainer.getIndex()&&s.collapse(),[s];if(n==CKEDITOR.SELECTION_ELEMENT){n=[];for(var a=0;a<t.length;a++){for(var o=t.item(a),i=o.parentNode,r=0,s=new CKEDITOR.dom.range(this.root);r<i.childNodes.length&&i.childNodes[r]!=o;r++);s.setStart(new CKEDITOR.dom.node(i),r),s.setEnd(new CKEDITOR.dom.node(i),r+1),n.push(s)}return n}return[]}}():function(){var t,e=[],n=this.getNative();if(!n)return e;for(var a=0;a<n.rangeCount;a++){var o=n.getRangeAt(a);(t=new CKEDITOR.dom.range(this.root)).setStart(new CKEDITOR.dom.node(o.startContainer),o.startOffset),t.setEnd(new CKEDITOR.dom.node(o.endContainer),o.endOffset),e.push(t)}return e};return function(e){var n=this._.cache,a=n.ranges;return a||(n.ranges=a=new CKEDITOR.dom.rangeList(t.call(this))),e?function(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.getCommonAncestor().isReadOnly()&&t.splice(e,1),!n.collapsed){if(n.startContainer.isReadOnly())for(var a,o=n.startContainer;o&&!((a=o.type==CKEDITOR.NODE_ELEMENT)&&o.is("body")||!o.isReadOnly());)a&&"false"==o.getAttribute("contentEditable")&&n.setStartAfter(o),o=o.getParent();o=n.startContainer,a=n.endContainer;var i=n.startOffset,r=n.endOffset,s=n.clone();o&&o.type==CKEDITOR.NODE_TEXT&&(i>=o.getLength()?s.setStartAfter(o):s.setStartBefore(o)),a&&a.type==CKEDITOR.NODE_TEXT&&(r?s.setEndAfter(a):s.setEndBefore(a)),(o=new CKEDITOR.dom.walker(s)).evaluator=function(a){if(a.type==CKEDITOR.NODE_ELEMENT&&a.isReadOnly()){var o=n.clone();return n.setEndBefore(a),n.collapsed&&t.splice(e--,1),a.getPosition(s.endContainer)&CKEDITOR.POSITION_CONTAINS||(o.setStartAfter(a),o.collapsed||t.splice(e+1,0,o)),!0}return!1},o.next()}}return t}(new CKEDITOR.dom.rangeList(a.slice())):a}}(),getStartElement:function(){var t,e=this._.cache;if(void 0!==e.startElement)return e.startElement;switch(this.getType()){case CKEDITOR.SELECTION_ELEMENT:return this.getSelectedElement();case CKEDITOR.SELECTION_TEXT:var n=this.getRanges()[0];if(n){if(n.collapsed)(t=n.startContainer).type!=CKEDITOR.NODE_ELEMENT&&(t=t.getParent());else{for(n.optimize();t=n.startContainer,n.startOffset==(t.getChildCount?t.getChildCount():t.getLength())&&!t.isBlockBoundary();)n.setStartAfter(t);if((t=n.startContainer).type!=CKEDITOR.NODE_ELEMENT)return t.getParent();if((t=t.getChild(n.startOffset))&&t.type==CKEDITOR.NODE_ELEMENT)for(n=t.getFirst();n&&n.type==CKEDITOR.NODE_ELEMENT;)t=n,n=n.getFirst();else t=n.startContainer}t=t.$}}return e.startElement=t?new CKEDITOR.dom.element(t):null},getSelectedElement:function(){var t=this._.cache;if(void 0!==t.selectedElement)return t.selectedElement;var e=this,n=CKEDITOR.tools.tryThese((function(){return e.getNative().createRange().item(0)}),(function(){for(var t,n,a=e.getRanges()[0].clone(),o=2;o&&!((t=a.getEnclosedNode())&&t.type==CKEDITOR.NODE_ELEMENT&&T[t.getName()]&&(n=t));o--)a.shrink(CKEDITOR.SHRINK_ELEMENT);return n&&n.$}));return t.selectedElement=n?new CKEDITOR.dom.element(n):null},getSelectedText:function(){var t=this._.cache;if(void 0!==t.selectedText)return t.selectedText;var e=this.getNative();return e=p?"Control"==e.type?"":e.createRange().text:e.toString(),t.selectedText=e},lock:function(){this.getRanges(),this.getStartElement(),this.getSelectedElement(),this.getSelectedText(),this._.cache.nativeSel=null,this.isLocked=1},unlock:function(t){if(this.isLocked){if(t)var a=this.getSelectedElement(),o=this.getRanges(),i=this.isFake;this.isLocked=0,this.reset(),t&&(t=a||o[0]&&o[0].getCommonAncestor())&&t.getAscendant("body",1)&&((t=this.root.editor)&&t.plugins.tableselection&&t.plugins.tableselection.isSupportedEnvironment(t)&&e(o)?n.call(this,o):i?this.fake(a):a&&2>o.length?this.selectElement(a):this.selectRanges(o))}},reset:function(){this._.cache={},this.isFake=0;var t=this.root.editor;if(t&&t._.fakeSelection)if(this.rev==t._.fakeSelection.rev){delete t._.fakeSelection;var e=t._.hiddenSelectionContainer;if(e){var n=t.checkDirty();t.fire("lockSnapshot"),e.remove(),t.fire("unlockSnapshot"),!n&&t.resetDirty()}delete t._.hiddenSelectionContainer}else CKEDITOR.warn("selection-fake-reset");this.rev=g++},selectElement:function(t){var e=new CKEDITOR.dom.range(this.root);e.setStartBefore(t),e.setEndAfter(t),this.selectRanges([e])},selectRanges:function(t){var a=this.root.editor,o=a&&a._.hiddenSelectionContainer;if(this.reset(),o){o=this.root;for(var i,r=0;r<t.length;++r)(i=t[r]).endContainer.equals(o)&&(i.endOffset=Math.min(i.endOffset,o.getChildCount()))}if(t.length)if(this.isLocked){var u=CKEDITOR.document.getActive();this.unlock(),this.selectRanges(t),this.lock(),u&&!u.equals(this.root)&&u.focus()}else{var c,h,f;if(1==t.length&&!(f=t[0]).collapsed&&(c=f.getEnclosedNode())&&c.type==CKEDITOR.NODE_ELEMENT&&((f=f.clone()).shrink(CKEDITOR.SHRINK_ELEMENT,!0),(h=f.getEnclosedNode())&&h.type==CKEDITOR.NODE_ELEMENT&&(c=h),"false"==c.getAttribute("contenteditable"))||(c=void 0),c)this.fake(c);else if(a&&a.plugins.tableselection&&a.plugins.tableselection.isSupportedEnvironment(a)&&e(t)&&!m&&!t[0]._getTableElement({table:1}).hasAttribute("data-cke-tableselection-ignored"))n.call(this,t);else{if(p){var g,v,x;if(h=CKEDITOR.dom.walker.whitespaces(!0),c=/\ufeff|\u00a0/,f={table:1,tbody:1,tr:1},1<t.length&&(a=t[t.length-1],t[0].setEnd(a.endContainer,a.endOffset)),t=(a=t[0]).collapsed,(o=a.getEnclosedNode())&&o.type==CKEDITOR.NODE_ELEMENT&&o.getName()in T&&(!o.is("a")||!o.getText()))try{return(x=o.$.createControlRange()).addElement(o.$),void x.select()}catch(t){}(a.startContainer.type==CKEDITOR.NODE_ELEMENT&&a.startContainer.getName()in f||a.endContainer.type==CKEDITOR.NODE_ELEMENT&&a.endContainer.getName()in f)&&(a.shrink(CKEDITOR.NODE_ELEMENT,!0),t=a.collapsed),f=(x=a.createBookmark()).startNode,t||(u=x.endNode),(x=a.document.$.body.createTextRange()).moveToElementText(f.$),x.moveStart("character",1),u?((c=a.document.$.body.createTextRange()).moveToElementText(u.$),x.setEndPoint("EndToEnd",c),x.moveEnd("character",-1)):(g=f.getNext(h),v=f.hasAscendant("pre"),g=!(g&&g.getText&&g.getText().match(c))&&(v||!f.hasPrevious()||f.getPrevious().is&&f.getPrevious().is("br")),(v=a.document.createElement("span")).setHtml("&#65279;"),v.insertBefore(f),g&&a.document.createText("\ufeff").insertBefore(f)),a.setStartBefore(f),f.remove(),t?(g?(x.moveStart("character",-1),x.select(),a.document.$.selection.clear()):x.select(),a.moveToPosition(v,CKEDITOR.POSITION_BEFORE_START),v.remove()):(a.setEndBefore(u),u.remove(),x.select())}else{if(!(u=this.getNative()))return;for(this.removeAllRanges(),x=0;x<t.length;x++)if(x<t.length-1&&(g=t[x],v=t[x+1],(c=g.clone()).setStart(g.endContainer,g.endOffset),c.setEnd(v.startContainer,v.startOffset),!c.collapsed&&(c.shrink(CKEDITOR.NODE_ELEMENT,!0),a=c.getCommonAncestor(),c=c.getEnclosedNode(),a.isReadOnly()||c&&c.isReadOnly())))v.setStart(g.startContainer,g.startOffset),t.splice(x--,1);else{a=t[x],v=this.document.$.createRange(),a.collapsed&&CKEDITOR.env.webkit&&s(a)&&(c=l(this.root),a.insertNode(c),(g=c.getNext())&&!c.getPrevious()&&g.type==CKEDITOR.NODE_ELEMENT&&"br"==g.getName()?(d(this.root),a.moveToPosition(g,CKEDITOR.POSITION_BEFORE_START)):a.moveToPosition(c,CKEDITOR.POSITION_AFTER_END)),v.setStart(a.startContainer.$,a.startOffset);try{v.setEnd(a.endContainer.$,a.endOffset)}catch(t){if(!(0<=t.toString().indexOf("NS_ERROR_ILLEGAL_VALUE")))throw t;a.collapse(1),v.setEnd(a.endContainer.$,a.endOffset)}u.addRange(v)}}this.reset(),this.root.fire("selectionchange")}}},fake:function(t,e){var n=this.root.editor;void 0===e&&t.hasAttribute("aria-label")&&(e=t.getAttribute("aria-label")),this.reset(),function(t,e){var n=e&&CKEDITOR.tools.htmlEncode(e)||"&nbsp;";n=CKEDITOR.dom.element.createFromHtml('<div data-cke-hidden-sel="1" data-cke-temp="1" style="'+(CKEDITOR.env.ie&&14>CKEDITOR.env.version?"display:none":"position:fixed;top:0;left:-1000px;width:0;height:0;overflow:hidden;")+'">'+n+"</div>",t.document),t.fire("lockSnapshot"),t.editable().append(n);var a=t.getSelection(1),o=t.createRange(),i=a.root.on("selectionchange",(function(t){t.cancel()}),null,null,0);o.setStartAt(n,CKEDITOR.POSITION_AFTER_START),o.setEndAt(n,CKEDITOR.POSITION_BEFORE_END),a.selectRanges([o]),i.removeListener(),t.fire("unlockSnapshot"),t._.hiddenSelectionContainer=n}(n,e);var a=this._.cache,o=new CKEDITOR.dom.range(this.root);o.setStartBefore(t),o.setEndAfter(t),a.ranges=new CKEDITOR.dom.rangeList(o),a.selectedElement=a.startElement=t,a.type=CKEDITOR.SELECTION_ELEMENT,a.selectedText=a.nativeSel=null,this.isFake=1,this.rev=g++,n._.fakeSelection=this,this.root.fire("selectionchange")},isHidden:function(){var t=this.getCommonAncestor();return t&&t.type==CKEDITOR.NODE_TEXT&&(t=t.getParent()),!(!t||!t.data("cke-hidden-sel"))},isInTable:function(t){return e(this.getRanges(),t)},isCollapsed:function(){var t=this.getRanges();return 1===t.length&&t[0].collapsed},createBookmarks:function(t){return t=this.getRanges().createBookmarks(t),this.isFake&&(t.isFake=1),t},createBookmarks2:function(t){return t=this.getRanges().createBookmarks2(t),this.isFake&&(t.isFake=1),t},selectBookmarks:function(t){for(var n,a=[],o=0;o<t.length;o++){var i=new CKEDITOR.dom.range(this.root);i.moveToBookmark(t[o]),a.push(i)}return t.isFake&&((n=e(a)?a[0]._getTableElement():a[0].getEnclosedNode())&&n.type==CKEDITOR.NODE_ELEMENT||(CKEDITOR.warn("selection-not-fake"),t.isFake=0)),t.isFake&&!e(a)?this.fake(n):this.selectRanges(a),this},getCommonAncestor:function(){var t=this.getRanges();return t.length?t[0].startContainer.getCommonAncestor(t[t.length-1].endContainer):null},scrollIntoView:function(){this.getType()!=CKEDITOR.SELECTION_NONE&&this.getRanges()[0].scrollIntoView()},removeAllRanges:function(){if(this.getType()!=CKEDITOR.SELECTION_NONE){var t=this.getNative();try{t&&t[p?"empty":"removeAllRanges"]()}catch(t){}this.reset()}}}}(),CKEDITOR.STYLE_BLOCK=1,CKEDITOR.STYLE_INLINE=2,CKEDITOR.STYLE_OBJECT=3,function(){function t(t,e){for(var n,a;(t=t.getParent())&&!t.equals(e);)if(t.getAttribute("data-nostyle"))n=t;else if(!a){var o=t.getAttribute("contentEditable");"false"==o?n=t:"true"==o&&(a=1)}return n}function e(t,e,n,a){return(t.getPosition(e)|a)==a&&(!n.childRule||n.childRule(t))}function n(a){var i=a.document;if(a.collapsed)i=p(this,i),a.insertNode(i),a.moveToPosition(i,CKEDITOR.POSITION_BEFORE_END);else{var r,s=this.element,l=this._.definition,d=(x=l.ignoreReadonly)||l.includeReadonly;null==d&&(d=a.root.getCustomData("cke_includeReadonly"));var u=CKEDITOR.dtd[s];u||(r=!0,u=CKEDITOR.dtd.span),a.enlarge(CKEDITOR.ENLARGE_INLINE,1),a.trim();var c,h=a.createBookmark(),f=h.startNode,g=h.endNode,v=f;if(!x){var x=t(f,b=a.getCommonAncestor()),b=t(g,b);x&&(v=x.getNextSourceNode(!0)),b&&(g=b)}for(v.getPosition(g)==CKEDITOR.POSITION_FOLLOWING&&(v=0);v;){if(x=!1,v.equals(g))v=null,x=!0;else{b=(w=v.type==CKEDITOR.NODE_ELEMENT?v.getName():null)&&"false"==v.getAttribute("contentEditable");var E=w&&-1!==CKEDITOR.tools.array.indexOf(CKEDITOR.style.unstylableElements,w);if(E=w&&(v.getAttribute("data-nostyle")||E),w&&v.data("cke-bookmark")||v.type===CKEDITOR.NODE_COMMENT){v=v.getNextSourceNode(!0);continue}if(b&&d&&CKEDITOR.dtd.$block[w])for(var T=void 0,C=0,y=(M=(S=o(y=v)).length)&&new CKEDITOR.dom.range(y.getDocument());C<M;++C){T=S[C];var I=CKEDITOR.filter.instances[T.data("cke-filter")];I&&!I.check(this)||(y.selectNodeContents(T),n.call(this,y))}if(S=w?!u[w]||E||b&&!d?0:e(v,g,l,O):1){if(S=l,M=s,C=r,!(T=v.getParent())||!(T.getDtd()||CKEDITOR.dtd.span)[M]&&!C||S.parentRule&&!S.parentRule(T))x=!0;else if(c||w&&CKEDITOR.dtd.$removeEmpty[w]&&(v.getPosition(g)|O)!=O||(c=a.clone()).setStartBefore(v),(w=v.type)==CKEDITOR.NODE_TEXT||b||w==CKEDITOR.NODE_ELEMENT&&!v.getChildCount()){for(var D,w=v;(x=!w.getNext(_))&&u[(D=w.getParent()).getName()]&&e(D,f,l,R);)w=D;c.setEndAfter(w)}}else x=!0;v=v.getNextSourceNode(E||b)}if(x&&c&&!c.collapsed){b=(x=p(this,i)).hasAttributes(),E=c.getCommonAncestor(),w={};for(var q,k,K,S={},M=(T={},{});x&&E;){if(E.getName()==s){for(q in l.attributes)!M[q]&&(K=E.getAttribute(k))&&(x.getAttribute(q)==K?S[q]=1:M[q]=1);for(k in l.styles)!T[k]&&(K=E.getStyle(k))&&(x.getStyle(k)==K?w[k]=1:T[k]=1)}E=E.getParent()}for(q in S)x.removeAttribute(q);for(k in w)x.removeStyle(k);b&&!x.hasAttributes()&&(x=null),x?(c.extractContents().appendTo(x),c.insertNode(x),m.call(this,x),x.mergeSiblings(),CKEDITOR.env.ie||x.$.normalize()):(x=new CKEDITOR.dom.element("span"),c.extractContents().appendTo(x),c.insertNode(x),m.call(this,x),x.remove(!0)),c=null}}a.moveToBookmark(h),a.shrink(CKEDITOR.SHRINK_TEXT),a.shrink(CKEDITOR.NODE_ELEMENT,!0)}}function a(t){function e(){for(var t=new CKEDITOR.dom.elementPath(a.getParent()),e=new CKEDITOR.dom.elementPath(u.getParent()),n=null,o=null,i=0;i<t.elements.length;i++){var r=t.elements[i];if(r==t.block||r==t.blockLimit)break;m.checkElementRemovable(r,!0)&&(n=r)}for(i=0;i<e.elements.length&&(r=e.elements[i])!=e.block&&r!=e.blockLimit;i++)m.checkElementRemovable(r,!0)&&(o=r);o&&u.breakParent(o),n&&a.breakParent(n)}t.enlarge(CKEDITOR.ENLARGE_INLINE,1);var n=t.createBookmark(),a=n.startNode,o=this._.definition.alwaysRemoveElement;if(t.collapsed){for(var i,r,s=new CKEDITOR.dom.elementPath(a.getParent(),t.root),l=0;l<s.elements.length&&(r=s.elements[l])&&r!=s.block&&r!=s.blockLimit;l++)if(this.checkElementRemovable(r)){var d;!o&&t.collapsed&&(t.checkBoundaryOfElement(r,CKEDITOR.END)||(d=t.checkBoundaryOfElement(r,CKEDITOR.START)))?(i=r).match=d?"start":"end":(r.mergeSiblings(),r.is(this.element)?c.call(this,r):h(r,x(this)[r.getName()]))}if(i){for(o=a,l=0;!(r=s.elements[l]).equals(i);l++)r.match||((r=r.clone()).append(o),o=r);o["start"==i.match?"insertBefore":"insertAfter"](i)}}else{var u=n.endNode,m=this;for(e(),s=a;!s.equals(u);)i=s.getNextSourceNode(),s.type==CKEDITOR.NODE_ELEMENT&&this.checkElementRemovable(s)&&(s.getName()==this.element?c.call(this,s):h(s,x(this)[s.getName()]),i.type==CKEDITOR.NODE_ELEMENT&&i.contains(a)&&(e(),i=a.getNext())),s=i}t.moveToBookmark(n),t.shrink(CKEDITOR.NODE_ELEMENT,!0)}function o(t){var e=[];return t.forEach((function(t){if("true"==t.getAttribute("contenteditable"))return e.push(t),!1}),CKEDITOR.NODE_ELEMENT,!0),e}function i(t){var e=t.getEnclosedNode()||t.getCommonAncestor(!1,!0);(t=new CKEDITOR.dom.elementPath(e,t.root).contains(this.element,1))&&!t.isReadOnly()&&g(t,this)}function r(t){var e=t.getCommonAncestor(!0,!0);if(t=new CKEDITOR.dom.elementPath(e,t.root).contains(this.element,1)){var n=(e=this._.definition).attributes;if(n)for(var a in n)t.removeAttribute(a,n[a]);if(e.styles)for(var o in e.styles)e.styles.hasOwnProperty(o)&&t.removeStyle(o)}}function s(t){var e=t.createBookmark(!0),n=t.createIterator();n.enforceRealBlocks=!0,this._.enterMode&&(n.enlargeBr=this._.enterMode!=CKEDITOR.ENTER_BR);for(var a,o=t.document;a=n.getNextParagraph();)!a.isReadOnly()&&(!n.activeFilter||n.activeFilter.check(this))&&d(a,p(this,o,a));t.moveToBookmark(e)}function l(t){var e,n,a=t.createBookmark(1),o=t.createIterator();for(o.enforceRealBlocks=!0,o.enlargeBr=this._.enterMode!=CKEDITOR.ENTER_BR;e=o.getNextParagraph();)this.checkElementRemovable(e)&&(e.is("pre")?((n=this._.enterMode==CKEDITOR.ENTER_BR?null:t.document.createElement(this._.enterMode==CKEDITOR.ENTER_P?"p":"div"))&&e.copyAttributes(n),d(e,n)):c.call(this,e));t.moveToBookmark(a)}function d(t,e){(n=!e)&&(e=t.getDocument().createElement("div"),t.copyAttributes(e));var n,a,o=e&&e.is("pre"),i=t.is("pre"),r=!o&&i;if(o&&!i){if(i=e,(r=t.getBogus())&&r.remove(),r=(r=(r=(r=u(r=t.getHtml(),/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g,"")).replace(/[ \t\r\n]*(<br[^>]*>)[ \t\r\n]*/gi,"$1")).replace(/([ \t\n\r]+|&nbsp;)/g," ")).replace(/<br\b[^>]*>/gi,"\n"),CKEDITOR.env.ie){var s=t.getDocument().createElement("div");s.append(i),i.$.outerHTML="<pre>"+r+"</pre>",i.copyAttributes(s.getFirst()),i=s.getFirst().remove()}else i.setHtml(r);e=i}else r?e=function(t,e){var n;1<t.length&&(n=new CKEDITOR.dom.documentFragment(e.getDocument()));for(var a=0;a<t.length;a++){var o=u(o=(o=t[a]).replace(/(\r\n|\r)/g,"\n"),/^[ \t]*\n/,"");if(o=u(o,/\n$/,""),o=u(o,/^[ \t]+|[ \t]+$/g,(function(t,e){return 1==t.length?"&nbsp;":e?" "+CKEDITOR.tools.repeat("&nbsp;",t.length-1):CKEDITOR.tools.repeat("&nbsp;",t.length-1)+" "})),o=(o=o.replace(/\n/g,"<br>")).replace(/[ \t]{2,}/g,(function(t){return CKEDITOR.tools.repeat("&nbsp;",t.length-1)+" "})),n){var i=e.clone();i.setHtml(o),n.append(i)}else e.setHtml(o)}return n||e}(n?[t.getHtml()]:function(t){var e=[];return u(t.getOuterHtml(),/(\S\s*)\n(?:\s|(<span[^>]+data-cke-bookmark.*?\/span>))*\n(?!$)/gi,(function(t,e,n){return e+"</pre>"+n+"<pre>"})).replace(/<pre\b.*?>([\s\S]*?)<\/pre>/gi,(function(t,n){e.push(n)})),e}(t),e):t.moveChildren(e);e.replace(t),o?(a=(n=e).getPrevious(w))&&a.type==CKEDITOR.NODE_ELEMENT&&a.is("pre")&&(o=u(a.getHtml(),/\n$/,"")+"\n\n"+u(n.getHtml(),/^\n/,""),CKEDITOR.env.ie?n.$.outerHTML="<pre>"+o+"</pre>":n.setHtml(o),a.remove()):n&&f(e)}function u(t,e,n){var a="",o="";return t=t.replace(/(^<span[^>]+data-cke-bookmark.*?\/span>)|(<span[^>]+data-cke-bookmark.*?\/span>$)/gi,(function(t,e,n){return e&&(a=e),n&&(o=n),""})),a+t.replace(e,n)+o}function c(t,e){var n,a=(o=this._.definition).attributes,o=o.styles,i=x(this)[t.getName()],r=CKEDITOR.tools.isEmpty(a)&&CKEDITOR.tools.isEmpty(o);for(n in a)("class"!=n&&!this._.definition.fullMatch||t.getAttribute(n)==b(n,a[n]))&&(e&&"data-"==n.slice(0,5)||(r=t.hasAttribute(n),t.removeAttribute(n)));for(var s in o)this._.definition.fullMatch&&t.getStyle(s)!=b(s,o[s],!0)||(r=r||!!t.getStyle(s),t.removeStyle(s));h(t,i,C[t.getName()]),r&&(this._.definition.alwaysRemoveElement?f(t,1):!CKEDITOR.dtd.$block[t.getName()]||this._.enterMode==CKEDITOR.ENTER_BR&&!t.hasAttributes()?f(t):t.renameNode(this._.enterMode==CKEDITOR.ENTER_P?"p":"div"))}function m(t){for(var e,n=x(this),a=t.getElementsByTag(this.element),o=a.count();0<=--o;)(e=a.getItem(o)).isReadOnly()||c.call(this,e,!0);for(var i in n)if(i!=this.element)for(o=(a=t.getElementsByTag(i)).count()-1;0<=o;o--)(e=a.getItem(o)).isReadOnly()||h(e,n[i])}function h(t,e,n){if(e=e&&e.attributes)for(var a=0;a<e.length;a++){var o,i=e[a][0];if(o=t.getAttribute(i)){var r=e[a][1];(null===r||r.test&&r.test(o)||"string"==typeof r&&o==r)&&t.removeAttribute(i)}}n||f(t)}function f(t,e){if(!t.hasAttributes()||e)if(CKEDITOR.dtd.$block[t.getName()]){var n=t.getPrevious(w),a=t.getNext(w);!n||n.type!=CKEDITOR.NODE_TEXT&&n.isBlockBoundary({br:1})||t.append("br",1),!a||a.type!=CKEDITOR.NODE_TEXT&&a.isBlockBoundary({br:1})||t.append("br"),t.remove(!0)}else n=t.getFirst(),a=t.getLast(),t.remove(!0),n&&(n.type==CKEDITOR.NODE_ELEMENT&&n.mergeSiblings(),a&&!n.equals(a)&&a.type==CKEDITOR.NODE_ELEMENT&&a.mergeSiblings())}function p(t,e,n){var a;return"*"==(a=t.element)&&(a="span"),a=new CKEDITOR.dom.element(a,e),n&&n.copyAttributes(a),a=g(a,t),e.getCustomData("doc_processing_style")&&a.hasAttribute("id")?a.removeAttribute("id"):e.setCustomData("doc_processing_style",1),a}function g(t,e){var n=(a=e._.definition).attributes,a=CKEDITOR.style.getStyleText(a);if(n)for(var o in n)t.setAttribute(o,n[o]);return a&&t.setAttribute("style",a),t.getDocument().removeCustomData("doc_processing_style"),t}function v(t,e){for(var n in t)t[n]=t[n].replace(D,(function(t,n){return e[n]}))}function x(t){if(t._.overrides)return t._.overrides;var e=t._.overrides={},n=t._.definition.overrides;if(n){CKEDITOR.tools.isArray(n)||(n=[n]);for(var a=0;a<n.length;a++){var o,i;if("string"==typeof(s=n[a])?o=s.toLowerCase():(o=s.element?s.element.toLowerCase():t.element,i=s.attributes),s=e[o]||(e[o]={}),i){var r,s=s.attributes=s.attributes||[];for(r in i)s.push([r.toLowerCase(),i[r]])}}}return e}function b(t,e,n){var a=new CKEDITOR.dom.element("span");return a[n?"setStyle":"setAttribute"](t,e),a[n?"getStyle":"getAttribute"](t)}function E(t,e){function n(t,e){return"font-family"==e.toLowerCase()?t.replace(/["']/g,""):t}for(var a in"string"==typeof t&&(t=CKEDITOR.tools.parseCssText(t)),"string"==typeof e&&(e=CKEDITOR.tools.parseCssText(e,!0)),t)if(!(a in e)||n(e[a],a)!=n(t[a],a)&&"inherit"!=t[a]&&"inherit"!=e[a])return!1;return!0}function T(t,e,n){var a=t.getRanges();e=e?this.removeFromRange:this.applyToRange;for(var o,i=a.createIterator();o=i.getNextRange();)e.call(this,o,n);t.selectRanges(a)}var C={address:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,p:1,pre:1,section:1,header:1,footer:1,nav:1,article:1,aside:1,figure:1,dialog:1,hgroup:1,time:1,meter:1,menu:1,command:1,keygen:1,output:1,progress:1,details:1,datagrid:1,datalist:1},y={a:1,blockquote:1,embed:1,hr:1,img:1,li:1,object:1,ol:1,table:1,td:1,tr:1,th:1,ul:1,dl:1,dt:1,dd:1,form:1,audio:1,video:1},I=/\s*(?:;\s*|$)/,D=/#\((.+?)\)/g,_=CKEDITOR.dom.walker.bookmark(0,1),w=CKEDITOR.dom.walker.whitespaces(1);CKEDITOR.style=function(t,e){if("string"==typeof t.type)return new CKEDITOR.style.customHandlers[t.type](t);var n=t.attributes;n&&n.style&&(t.styles=CKEDITOR.tools.extend({},t.styles,CKEDITOR.tools.parseCssText(n.style)),delete n.style),e&&(v((t=CKEDITOR.tools.clone(t)).attributes,e),v(t.styles,e)),n=this.element=t.element?"string"==typeof t.element?t.element.toLowerCase():t.element:"*",this.type=t.type||(C[n]?CKEDITOR.STYLE_BLOCK:y[n]?CKEDITOR.STYLE_OBJECT:CKEDITOR.STYLE_INLINE),"object"==typeof this.element&&(this.type=CKEDITOR.STYLE_OBJECT),this._={definition:t}},CKEDITOR.style.prototype={apply:function(t){if(t instanceof CKEDITOR.dom.document)return T.call(this,t.getSelection());if(this.checkApplicable(t.elementPath(),t)){var e=this._.enterMode;e||(this._.enterMode=t.activeEnterMode),T.call(this,t.getSelection(),0,t),this._.enterMode=e}},remove:function(t){if(t instanceof CKEDITOR.dom.document)return T.call(this,t.getSelection(),1);if(this.checkApplicable(t.elementPath(),t)){var e=this._.enterMode;e||(this._.enterMode=t.activeEnterMode),T.call(this,t.getSelection(),1,t),this._.enterMode=e}},applyToRange:function(t){return this.applyToRange=this.type==CKEDITOR.STYLE_INLINE?n:this.type==CKEDITOR.STYLE_BLOCK?s:this.type==CKEDITOR.STYLE_OBJECT?i:null,this.applyToRange(t)},removeFromRange:function(t){return this.removeFromRange=this.type==CKEDITOR.STYLE_INLINE?a:this.type==CKEDITOR.STYLE_BLOCK?l:this.type==CKEDITOR.STYLE_OBJECT?r:null,this.removeFromRange(t)},applyToObject:function(t){g(t,this)},checkActive:function(t,e){switch(this.type){case CKEDITOR.STYLE_BLOCK:return this.checkElementRemovable(t.block||t.blockLimit,!0,e);case CKEDITOR.STYLE_OBJECT:case CKEDITOR.STYLE_INLINE:for(var n,a=t.elements,o=0;o<a.length;o++)if(n=a[o],this.type!=CKEDITOR.STYLE_INLINE||n!=t.block&&n!=t.blockLimit){if(this.type==CKEDITOR.STYLE_OBJECT){var i=n.getName();if(!("string"==typeof this.element?i==this.element:i in this.element))continue}if(this.checkElementRemovable(n,!0,e))return!0}}return!1},checkApplicable:function(t,e,n){if(e&&e instanceof CKEDITOR.filter&&(n=e),n&&!n.check(this))return!1;switch(this.type){case CKEDITOR.STYLE_OBJECT:return!!t.contains(this.element);case CKEDITOR.STYLE_BLOCK:return!!t.blockLimit.getDtd()[this.element]}return!0},checkElementMatch:function(t,e){var n=this._.definition;if(!t||!n.ignoreReadonly&&t.isReadOnly())return!1;var a=t.getName();if("string"==typeof this.element?a==this.element:a in this.element){if(!e&&!t.hasAttributes())return!0;if(a=n._AC)n=a;else{a={};var o=0,i=n.attributes;if(i)for(var r in i)o++,a[r]=i[r];(r=CKEDITOR.style.getStyleText(n))&&(a.style||o++,a.style=r),a._length=o,n=n._AC=a}if(!n._length)return!0;for(var s in n)if("_length"!=s)if(a=t.getAttribute(s)||"","style"==s?E(n[s],a):n[s]==a){if(!e)return!0}else if(e)return!1;if(e)return!0}return!1},checkElementRemovable:function(t,e,n){if(this.checkElementMatch(t,e,n))return!0;if(e=x(this)[t.getName()]){var a;if(!(e=e.attributes))return!0;for(n=0;n<e.length;n++)if(a=e[n][0],a=t.getAttribute(a)){var o=e[n][1];if(null===o)return!0;if("string"==typeof o){if(a==o)return!0}else if(o.test(a))return!0}}return!1},buildPreview:function(t){var e=this._.definition,n=[],a=e.element;"bdo"==a&&(a="span"),n=["<",a];var o=e.attributes;if(o)for(var i in o)n.push(" ",i,'="',o[i],'"');return(o=CKEDITOR.style.getStyleText(e))&&n.push(' style="',o,'"'),n.push(">",t||e.name,"</",a,">"),n.join("")},getDefinition:function(){return this._.definition}},CKEDITOR.style.getStyleText=function(t){if(e=t._ST)return e;var e=t.styles,n=t.attributes&&t.attributes.style||"",a="";for(var o in n.length&&(n=n.replace(I,";")),e){var i=e[o],r=(o+":"+i).replace(I,";");"inherit"==i?a+=r:n+=r}return n.length&&(n=CKEDITOR.tools.normalizeCssText(n,!0)),t._ST=n+a},CKEDITOR.style.customHandlers={},CKEDITOR.style.unstylableElements=[],CKEDITOR.style.addCustomHandler=function(t){var e=function(t){this._={definition:t},this.setup&&this.setup(t)};return e.prototype=CKEDITOR.tools.extend(CKEDITOR.tools.prototypedCopy(CKEDITOR.style.prototype),{assignedTo:CKEDITOR.STYLE_OBJECT},t,!0),this.customHandlers[t.type]=e};var O=CKEDITOR.POSITION_PRECEDING|CKEDITOR.POSITION_IDENTICAL|CKEDITOR.POSITION_IS_CONTAINED,R=CKEDITOR.POSITION_FOLLOWING|CKEDITOR.POSITION_IDENTICAL|CKEDITOR.POSITION_IS_CONTAINED}(),CKEDITOR.styleCommand=function(t,e){this.requiredContent=this.allowedContent=this.style=t,CKEDITOR.tools.extend(this,e,!0)},CKEDITOR.styleCommand.prototype.exec=function(t){t.focus(),this.state==CKEDITOR.TRISTATE_OFF?t.applyStyle(this.style):this.state==CKEDITOR.TRISTATE_ON&&t.removeStyle(this.style)},CKEDITOR.stylesSet=new CKEDITOR.resourceManager("","stylesSet"),CKEDITOR.addStylesSet=CKEDITOR.tools.bind(CKEDITOR.stylesSet.add,CKEDITOR.stylesSet),CKEDITOR.loadStylesSet=function(t,e,n){CKEDITOR.stylesSet.addExternal(t,e,""),CKEDITOR.stylesSet.load(t,n)},CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{attachStyleStateChange:function(t,e){var n=this._.styleStateChangeCallbacks;n||(n=this._.styleStateChangeCallbacks=[],this.on("selectionChange",(function(t){for(var e=0;e<n.length;e++){var a=n[e],o=a.style.checkActive(t.data.path,this)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF;a.fn.call(this,o)}}))),n.push({style:t,fn:e})},applyStyle:function(t){t.apply(this)},removeStyle:function(t){t.remove(this)},getStylesSet:function(t){if(this._.stylesDefinitions)t(this._.stylesDefinitions);else{var e=this;if(!1===(n=e.config.stylesCombo_stylesSet||e.config.stylesSet))t(null);else if(n instanceof Array)e._.stylesDefinitions=n,t(n);else{n||(n="default");var n,a=(n=n.split(":"))[0];CKEDITOR.stylesSet.addExternal(a,n[1]?n.slice(1).join(":"):CKEDITOR.getUrl("styles.js"),""),CKEDITOR.stylesSet.load(a,(function(n){e._.stylesDefinitions=n[a],t(e._.stylesDefinitions)}))}}}}),function(){if(window.Promise)CKEDITOR.tools.promise=Promise;else{var t=CKEDITOR.getUrl("vendor/promise.js");if("function"==typeof window.define&&window.define.amd&&"function"==typeof window.require)return window.require([t],(function(t){CKEDITOR.tools.promise=t}));CKEDITOR.scriptLoader.load(t,(function(e){return e?void 0!==window.ES6Promise?CKEDITOR.tools.promise=ES6Promise:void 0:CKEDITOR.error("no-vendor-lib",{path:t})}))}}(),function(){function t(t,a,o){t.once("selectionCheck",(function(t){if(!e){var i=t.data.getRanges()[0];o.equals(i)?t.cancel():a.equals(i)&&(n=!0)}}),null,null,-1)}var e=!0,n=!1;CKEDITOR.dom.selection.setupEditorOptimization=function(t){t.on("selectionCheck",(function(t){t.data&&!n&&t.data.optimizeInElementEnds(),n=!1})),t.on("contentDom",(function(){var e=t.editable();e&&(e.attachListener(e,"keydown",(function(t){this._.shiftPressed=t.data.$.shiftKey}),this),e.attachListener(e,"keyup",(function(t){this._.shiftPressed=t.data.$.shiftKey}),this))}))},CKEDITOR.dom.selection.prototype.optimizeInElementEnds=function(){var n,a=this.getRanges()[0],o=this.root.editor;if(this.root.editor._.shiftPressed||this.isFake||a.isCollapsed||a.startContainer.equals(a.endContainer)||(a.endContainer.is?a.endContainer.is("li"):a.endContainer.getParent().is&&a.endContainer.getParent().is("li")))n=!1;else if(0===a.endOffset)n=!0;else{n=a.startContainer.type===CKEDITOR.NODE_TEXT;var i=a.endContainer.type===CKEDITOR.NODE_TEXT,r=n?a.startContainer.getLength():a.startContainer.getChildCount();n=a.startOffset===r||n^i}n&&(n=a.clone(),a.shrink(CKEDITOR.SHRINK_TEXT,!1,{skipBogus:!CKEDITOR.env.webkit}),e=!1,t(o,a,n),a.select(),e=!0)}}(),function(){function t(t,e){return n(t)?t=Math.round(e*(parseFloat(t)/100)):("string"==typeof t&&t.match(/^\d+$/gm)||"string"==typeof t&&t.match(/^\d+(?:deg)?$/gm))&&(t=parseInt(t,10)),t}function e(t,e){return n(t)?t=e*(parseFloat(t)/100):"string"==typeof t&&t.match(/^\d?\.\d+/gm)&&(t=parseFloat(t)),t}function n(t){return"string"==typeof t&&t.match(/^((\d*\.\d+)|(\d+))%{1}$/gm)}function a(t,e,n){return!isNaN(t)&&t>=e&&t<=n}function o(t){return 1==(t=t.toString(16)).length?"0"+t:t}CKEDITOR.tools.color=CKEDITOR.tools.createClass({$:function(t,e){this._.initialColorCode=t,this._.defaultValue=e,this._.parseInput(t)},proto:{getHex:function(){if(!this._.isValidColor)return this._.defaultValue;var t=this._.blendAlphaColor(this._.red,this._.green,this._.blue,this._.alpha);return this._.formatHexString(t[0],t[1],t[2])},getHexWithAlpha:function(){if(!this._.isValidColor)return this._.defaultValue;var t=Math.round(this._.alpha*CKEDITOR.tools.color.MAX_RGB_CHANNEL_VALUE);return this._.formatHexString(this._.red,this._.green,this._.blue,t)},getRgb:function(){if(!this._.isValidColor)return this._.defaultValue;var t=this._.blendAlphaColor(this._.red,this._.green,this._.blue,this._.alpha);return this._.formatRgbString("rgb",t[0],t[1],t[2])},getRgba:function(){return this._.isValidColor?this._.formatRgbString("rgba",this._.red,this._.green,this._.blue,this._.alpha):this._.defaultValue},getHsl:function(){var t=0===this._.alpha||1===this._.alpha;return this._.isValidColor?(this._.type===CKEDITOR.tools.color.TYPE_HSL&&t?t=[this._.hue,this._.saturation,this._.lightness]:(t=this._.blendAlphaColor(this._.red,this._.green,this._.blue,this._.alpha),t=this._.rgbToHsl(t[0],t[1],t[2])),this._.formatHslString("hsl",t[0],t[1],t[2])):this._.defaultValue},getHsla:function(){var t;return this._.isValidColor?(t=this._.type===CKEDITOR.tools.color.TYPE_HSL?[this._.hue,this._.saturation,this._.lightness]:this._.rgbToHsl(this._.red,this._.green,this._.blue),this._.formatHslString("hsla",t[0],t[1],t[2],this._.alpha)):this._.defaultValue},getInitialValue:function(){return this._.initialColorCode}},_:{initialColorCode:"",isValidColor:!0,type:0,hue:0,saturation:0,lightness:0,red:0,green:0,blue:0,alpha:1,blendAlphaColor:function(t,e,n,a){return CKEDITOR.tools.array.map([t,e,n],(function(t){return Math.round(CKEDITOR.tools.color.MAX_RGB_CHANNEL_VALUE-a*(CKEDITOR.tools.color.MAX_RGB_CHANNEL_VALUE-t))}))},formatHexString:function(t,e,n,a){return t="#"+o(t)+o(e)+o(n),void 0!==a&&(t+=o(a)),t.toUpperCase()},formatRgbString:function(t,e,n,a,o){return e=[e,n,a],void 0!==o&&e.push(o),t+"("+e.join(",")+")"},formatHslString:function(t,e,n,a,o){return t+"("+e+","+n+"%,"+a+"%"+(void 0!==o?","+o:"")+")"},parseInput:function(t){if("string"!=typeof t)this._.isValidColor=!1;else{t=CKEDITOR.tools.trim(t),(e=this._.matchStringToNamedColor(t))&&(t=e);var e=this._.extractColorChannelsFromHex(t),n=this._.extractColorChannelsFromRgba(t);t=this._.extractColorChannelsFromHsla(t),(t=e||n||t)?(this._.type=t.type,this._.red=t.red,this._.green=t.green,this._.blue=t.blue,this._.alpha=t.alpha,t.type===CKEDITOR.tools.color.TYPE_HSL&&(this._.hue=t.hue,this._.saturation=t.saturation,this._.lightness=t.lightness)):this._.isValidColor=!1}},matchStringToNamedColor:function(t){return CKEDITOR.tools.color.namedColors[t.toLowerCase()]||null},extractColorChannelsFromHex:function(t){if(-1===t.indexOf("#")&&(t="#"+t),t.match(CKEDITOR.tools.color.hex3CharsRegExp)&&(t=this._.hex3ToHex6(t)),t.match(CKEDITOR.tools.color.hex4CharsRegExp)&&(t=this._.hex4ToHex8(t)),!t.match(CKEDITOR.tools.color.hex6CharsRegExp)&&!t.match(CKEDITOR.tools.color.hex8CharsRegExp))return null;var e=1;return(t=t.split(""))[7]&&t[8]&&(e=parseInt(t[7]+t[8],16),e/=CKEDITOR.tools.color.MAX_RGB_CHANNEL_VALUE,e=Number(e.toFixed(1))),{type:CKEDITOR.tools.color.TYPE_RGB,red:parseInt(t[1]+t[2],16),green:parseInt(t[3]+t[4],16),blue:parseInt(t[5]+t[6],16),alpha:e}},extractColorChannelsFromRgba:function(n){var a=this._.extractColorChannelsByPattern(n,CKEDITOR.tools.color.rgbRegExp);if(!a||3>a.length||4<a.length)return null;var o=4===a.length;n=t(a[0],CKEDITOR.tools.color.MAX_RGB_CHANNEL_VALUE);var i=t(a[1],CKEDITOR.tools.color.MAX_RGB_CHANNEL_VALUE),r=t(a[2],CKEDITOR.tools.color.MAX_RGB_CHANNEL_VALUE),s=1;return o&&(s=e(a[3],CKEDITOR.tools.color.MAX_ALPHA_CHANNEL_VALUE)),a={type:CKEDITOR.tools.color.TYPE_RGB,red:n,green:i,blue:r,alpha:s},this._.areColorChannelsValid(n,i,r,s)?a:null},extractColorChannelsFromHsla:function(n){var a=this._.extractColorChannelsByPattern(n,CKEDITOR.tools.color.hslRegExp);if(!a||3>a.length||4<a.length)return null;var o=4===a.length,i=t(a[0],CKEDITOR.tools.color.MAX_HUE_CHANNEL_VALUE),r=e(a[1],CKEDITOR.tools.color.MAX_SATURATION_LIGHTNESS_CHANNEL_VALUE),s=e(a[2],CKEDITOR.tools.color.MAX_SATURATION_LIGHTNESS_CHANNEL_VALUE),l=1;return n=this._.hslToRgb(i,r,s),o&&(l=e(a[3],CKEDITOR.tools.color.MAX_ALPHA_CHANNEL_VALUE)),n.push(l),a={type:CKEDITOR.tools.color.TYPE_HSL,red:n[0],green:n[1],blue:n[2],alpha:n[3],hue:i,saturation:Math.round(100*r),lightness:Math.round(100*s)},this._.areColorChannelsValid(n[0],n[1],n[2],n[3])?a:null},hex3ToHex6:function(t){return"#"+(t=t.split(""))[1]+t[1]+t[2]+t[2]+t[3]+t[3]},hex4ToHex8:function(t){return this._.hex3ToHex6(t.substr(0,4))+CKEDITOR.tools.repeat(t[4],2)},extractColorChannelsByPattern:function(t,e){var n=t.match(e);if(!n)return null;var a=-1===n[1].indexOf(",")?/\s/:",";return a=n[1].split(a),a=CKEDITOR.tools.array.reduce(a,(function(t,e){var n=CKEDITOR.tools.trim(e);return 0===n.length?t:t.concat([n])}),[]),n[2]&&(n=CKEDITOR.tools.trim(n[2].replace(/[\/,]/,"")),a.push(n)),a},areColorChannelsValid:function(t,e,n,o){return a(t,0,CKEDITOR.tools.color.MAX_RGB_CHANNEL_VALUE)&&a(e,0,CKEDITOR.tools.color.MAX_RGB_CHANNEL_VALUE)&&a(n,0,CKEDITOR.tools.color.MAX_RGB_CHANNEL_VALUE)&&a(o,0,CKEDITOR.tools.color.MAX_ALPHA_CHANNEL_VALUE)},hslToRgb:function(t,e,n){var a=function(a){var o=(a+t/30)%12;return a=e*Math.min(n,1-n),o=Math.min(o-3,9-o,1),o=Math.max(-1,o),Math.round((n-a*o)*CKEDITOR.tools.color.MAX_RGB_CHANNEL_VALUE)};return[a(0),a(8),a(4)]},rgbToHsl:function(t,e,n){t/=CKEDITOR.tools.color.MAX_RGB_CHANNEL_VALUE,e/=CKEDITOR.tools.color.MAX_RGB_CHANNEL_VALUE;var a=n/CKEDITOR.tools.color.MAX_RGB_CHANNEL_VALUE,o=Math.max(t,e,a),i=Math.min(t,e,a);n=o-i;var r=0;switch(o){case t:r=(e-a)/n%6;break;case e:r=(a-t)/n+2;break;case a:r=(t-e)/n+4}return t=0===n?0:60*r,e=(o+i)/2,o=0,1!==e&&0!==e&&(o=n/(1-Math.abs(2*e-1))),[t=Math.round(t),o=Math.round(100*o),e=Math.round(100*e)]}},statics:{TYPE_RGB:1,TYPE_HSL:2,MAX_RGB_CHANNEL_VALUE:255,MAX_ALPHA_CHANNEL_VALUE:1,MAX_HUE_CHANNEL_VALUE:360,MAX_SATURATION_LIGHTNESS_CHANNEL_VALUE:1,hex3CharsRegExp:/#([0-9a-f]{3}$)/gim,hex4CharsRegExp:/#([0-9a-f]{4}$)/gim,hex6CharsRegExp:/#([0-9a-f]{6}$)/gim,hex8CharsRegExp:/#([0-9a-f]{8}$)/gim,rgbRegExp:/rgba?\(([.,\d\s%]*)(\s*\/\s*[\d.%]+)?\s*\)/i,hslRegExp:/hsla?\((\s*(?:[.\d]+(?:deg)?)(?:\s*,?\s*[.\d]+%){2})((?:(?:\s*\/\s*)|(?:\s*,\s*))[\d.]+%?)?\s*\)/i,namedColors:{aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",windowtext:"windowtext",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"}}}),CKEDITOR.tools.style.parse._colors=CKEDITOR.tools.color.namedColors}(),CKEDITOR.dom.comment=function(t,e){"string"==typeof t&&(t=(e?e.$:document).createComment(t)),CKEDITOR.dom.domObject.call(this,t)},CKEDITOR.dom.comment.prototype=new CKEDITOR.dom.node,CKEDITOR.tools.extend(CKEDITOR.dom.comment.prototype,{type:CKEDITOR.NODE_COMMENT,getOuterHtml:function(){return"\x3c!--"+this.$.nodeValue+"--\x3e"}}),function(){var t,e={},n={};for(t in CKEDITOR.dtd.$blockLimit)t in CKEDITOR.dtd.$list||(e[t]=1);for(t in CKEDITOR.dtd.$block)t in CKEDITOR.dtd.$blockLimit||t in CKEDITOR.dtd.$empty||(n[t]=1);CKEDITOR.dom.elementPath=function(t,a){var o,i=null,r=null,s=[],l=t;a=a||t.getDocument().getBody(),l||(l=a);do{if(l.type==CKEDITOR.NODE_ELEMENT){if(s.push(l),!this.lastElement&&(this.lastElement=l,l.is(CKEDITOR.dtd.$object)||"false"==l.getAttribute("contenteditable")))continue;if(l.equals(a))break;if(!r&&(o=l.getName(),"true"==l.getAttribute("contenteditable")?r=l:!i&&n[o]&&(i=l),e[o])){if(o=!i&&"div"==o){t:{for(var d=0,u=(o=l.getChildren()).count();d<u;d++){var c=o.getItem(d);if(c.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$block[c.getName()]){o=!0;break t}}o=!1}o=!o}o?i=l:r=l}}}while(l=l.getParent());r||(r=a),this.block=i,this.blockLimit=r,this.root=a,this.elements=s}}(),CKEDITOR.dom.elementPath.prototype={compare:function(t){var e=this.elements;if(!(t=t&&t.elements)||e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].equals(t[n]))return!1;return!0},contains:function(t,e,n){var a,o=0;"string"==typeof t&&(a=function(e){return e.getName()==t}),t instanceof CKEDITOR.dom.element?a=function(e){return e.equals(t)}:CKEDITOR.tools.isArray(t)?a=function(e){return-1<CKEDITOR.tools.indexOf(t,e.getName())}:"function"==typeof t?a=t:"object"==typeof t&&(a=function(e){return e.getName()in t});var i=this.elements,r=i.length;for(e&&(n?o+=1:--r),n&&(i=Array.prototype.slice.call(i,0)).reverse();o<r;o++)if(a(i[o]))return i[o];return null},isContextFor:function(t){return!(t in CKEDITOR.dtd.$block)||!!(this.contains(CKEDITOR.dtd.$intermediate)||this.root.equals(this.block)&&this.block||this.blockLimit).getDtd()[t]},direction:function(){return(this.block||this.blockLimit||this.root).getDirection(1)}},CKEDITOR.dom.text=function(t,e){"string"==typeof t&&(t=(e?e.$:document).createTextNode(t)),this.$=t},CKEDITOR.dom.text.prototype=new CKEDITOR.dom.node,CKEDITOR.tools.extend(CKEDITOR.dom.text.prototype,{type:CKEDITOR.NODE_TEXT,getLength:function(){return this.$.nodeValue.length},getText:function(){return this.$.nodeValue},setText:function(t){this.$.nodeValue=t},isEmpty:function(t){var e=this.getText();return t&&(e=CKEDITOR.tools.trim(e)),!e||e===CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE},split:function(t){var e=this.$.parentNode,n=e.childNodes.length,a=this.getLength(),o=this.getDocument(),i=new CKEDITOR.dom.text(this.$.splitText(t),o);return e.childNodes.length==n&&(t>=a?(i=o.createText("")).insertAfter(this):((t=o.createText("")).insertAfter(i),t.remove())),i},substring:function(t,e){return"number"!=typeof e?this.$.nodeValue.substr(t):this.$.nodeValue.substring(t,e)}}),function(){function t(t,e,n){var a=t.serializable,o=e[n?"endContainer":"startContainer"],i=n?"endOffset":"startOffset",r=a?e.document.getById(t.startNode):t.startNode;return t=a?e.document.getById(t.endNode):t.endNode,o.equals(r.getPrevious())?(e.startOffset=e.startOffset-o.getLength()-t.getPrevious().getLength(),o=t.getNext()):o.equals(t.getPrevious())&&(e.startOffset-=o.getLength(),o=t.getNext()),o.equals(r.getParent())&&e[i]++,o.equals(t.getParent())&&e[i]++,e[n?"endContainer":"startContainer"]=o,e}CKEDITOR.dom.rangeList=function(t){return t instanceof CKEDITOR.dom.rangeList?t:(t?t instanceof CKEDITOR.dom.range&&(t=[t]):t=[],CKEDITOR.tools.extend(t,e))};var e={createIterator:function(){var t,e=this,n=CKEDITOR.dom.walker.bookmark(),a=[];return{getNextRange:function(o){var i=e[t=void 0===t?0:t+1];if(i&&1<e.length){if(!t)for(var r=e.length-1;0<=r;r--)a.unshift(e[r].createBookmark(!0));if(o)for(var s=0;e[t+s+1];){var l=i.document;for(o=0,r=l.getById(a[s].endNode),l=l.getById(a[s+1].startNode);;){if(r=r.getNextSourceNode(!1),l.equals(r))o=1;else if(n(r)||r.type==CKEDITOR.NODE_ELEMENT&&r.isBlockBoundary())continue;break}if(!o)break;s++}for(i.moveToBookmark(a.shift());s--;)(r=e[++t]).moveToBookmark(a.shift()),i.setEnd(r.endContainer,r.endOffset)}return i}}},createBookmarks:function(e){for(var n,a=[],o=0;o<this.length;o++){a.push(n=this[o].createBookmark(e,!0));for(var i=o+1;i<this.length;i++)this[i]=t(n,this[i]),this[i]=t(n,this[i],!0)}return a},createBookmarks2:function(t){for(var e=[],n=0;n<this.length;n++)e.push(this[n].createBookmark2(t));return e},moveToBookmarks:function(t){for(var e=0;e<this.length;e++)this[e].moveToBookmark(t[e])}}}(),function(){function t(){return CKEDITOR.getUrl(CKEDITOR.skinName.split(",")[1]||"skins/"+CKEDITOR.skinName.split(",")[0]+"/")}function e(e){var n=CKEDITOR.skin["ua_"+e],a=CKEDITOR.env;if(n){n=n.split(",").sort((function(t,e){return t>e?-1:1}));for(var o,i=0;i<n.length;i++)if(o=n[i],a.ie&&(o.replace(/^ie/,"")==a.version||a.quirks&&"iequirks"==o)&&(o="ie"),a[o]){e+="_"+n[i];break}}return CKEDITOR.getUrl(t()+e+".css")}function n(t,n){i[t]||(CKEDITOR.document.appendStyleSheet(e(t)),i[t]=1),n&&n()}function a(t){var e=t.getById(r);return e||((e=t.getHead().append("style")).setAttribute("id",r),e.setAttribute("type","text/css")),e}function o(t,e,n){var a,o,i;if(CKEDITOR.env.webkit)for(e=e.split("}").slice(0,-1),o=0;o<e.length;o++)e[o]=e[o].split("{");for(var r=0;r<t.length;r++)if(CKEDITOR.env.webkit)for(o=0;o<e.length;o++){for(i=e[o][1],a=0;a<n.length;a++)i=i.replace(n[a][0],n[a][1]);t[r].$.sheet.addRule(e[o][0],i)}else{for(i=e,a=0;a<n.length;a++)i=i.replace(n[a][0],n[a][1]);CKEDITOR.env.ie&&11>CKEDITOR.env.version?t[r].$.styleSheet.cssText+=i:t[r].$.innerHTML+=i}}var i={};CKEDITOR.skin={path:t,loadPart:function(e,a){CKEDITOR.skin.name!=CKEDITOR.skinName.split(",")[0]?CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(t()+"skin.js"),(function(){n(e,a)})):n(e,a)},getPath:function(t){return CKEDITOR.getUrl(e(t))},icons:{},addIcon:function(t,e,n,a){t=t.toLowerCase(),this.icons[t]||(this.icons[t]={path:e,offset:n||0,bgsize:a||"16px"})},getIconStyle:function(t,e,n,a,o){var i;return t&&(t=t.toLowerCase(),e&&(i=this.icons[t+"-rtl"]),i||(i=this.icons[t])),t=n||i&&i.path||"",a=a||i&&i.offset,o=o||i&&i.bgsize||"16px",t&&(t=t.replace(/'/g,"\\'")),t&&"background-image:url('"+CKEDITOR.getUrl(t)+"');background-position:0 "+a+"px;background-size:"+o+";"}},CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{getUiColor:function(){return this.uiColor},setUiColor:function(t){var e=a(CKEDITOR.document);return(this.setUiColor=function(t){this.uiColor=t;var n=CKEDITOR.skin.chameleon,a="",i="";"function"==typeof n&&(a=n(this,"editor"),i=n(this,"panel")),o([e],a,t=[[l,t]]),o(s,i,t)}).call(this,t)}});var r="cke_ui_color",s=[],l=/\$color/g;CKEDITOR.on("instanceLoaded",(function(t){if(!CKEDITOR.env.ie||!CKEDITOR.env.quirks){var e=t.editor;t=function(t){if(!(t=(t.data[0]||t.data).element.getElementsByTag("iframe").getItem(0).getFrameDocument()).getById("cke_ui_color")){var n=a(t);s.push(n),e.on("destroy",(function(){s=CKEDITOR.tools.array.filter(s,(function(t){return n!==t}))})),(t=e.getUiColor())&&o([n],CKEDITOR.skin.chameleon(e,"panel"),[[l,t]])}},e.on("panelShow",t),e.on("menuShow",t),e.config.uiColor&&e.setUiColor(e.config.uiColor)}}))}(),function(){var t=CKEDITOR.dom.element.createFromHtml('<div style="width:0;height:0;position:absolute;left:-10000px;border:1px solid;border-color:red blue"></div>',CKEDITOR.document);t.appendTo(CKEDITOR.document.getHead());try{var e=t.getComputedStyle("border-top-color"),n=t.getComputedStyle("border-right-color");CKEDITOR.env.hc=!(!e||e!=n)}catch(t){CKEDITOR.env.hc=!1}if(t.remove(),CKEDITOR.env.hc&&(CKEDITOR.env.cssClass+=" cke_hc"),CKEDITOR.document.appendStyleText(".cke{visibility:hidden;}"),CKEDITOR.status="loaded",CKEDITOR.fireOnce("loaded"),t=CKEDITOR._.pending)for(delete CKEDITOR._.pending,e=0;e<t.length;e++)CKEDITOR.editor.prototype.constructor.apply(t[e][0],t[e][1]),CKEDITOR.add(t[e][0])}(),CKEDITOR.skin.name="minimalist",CKEDITOR.skin.ua_editor="ie,iequirks,ie7,ie8,gecko",CKEDITOR.skin.ua_dialog="ie,iequirks,ie7,ie8",CKEDITOR.skin.chameleon=function(){var t=function(t,e){for(var n=t.match(/[^#]./g),a=0;3>a;a++){var o,i=n,r=a;o=parseInt(n[a],16),o=("0"+(0>e?0|o*(1+e):0|o+(255-o)*e).toString(16)).slice(-2),i[r]=o}return"#"+n.join("")},e=function(){var t=new CKEDITOR.template("background:#{to};background-image:-webkit-gradient(linear,lefttop,leftbottom,from({from}),to({to}));background-image:-moz-linear-gradient(top,{from},{to});background-image:-webkit-linear-gradient(top,{from},{to});background-image:-o-linear-gradient(top,{from},{to});background-image:-ms-linear-gradient(top,{from},{to});background-image:linear-gradient(top,{from},{to});filter:progid:DXImageTransform.Microsoft.gradient(gradientType=0,startColorstr='{from}',endColorstr='{to}');");return function(e,n){return t.output({from:e,to:n})}}(),n={editor:new CKEDITOR.template("{id}.cke_chrome [border-color:{defaultBorder};] {id} .cke_top [ {defaultGradient}border-bottom-color:{defaultBorder};] {id} .cke_bottom [{defaultGradient}border-top-color:{defaultBorder};] {id} .cke_resizer [border-right-color:{ckeResizer}] {id} .cke_dialog_title [{defaultGradient}border-bottom-color:{defaultBorder};] {id} .cke_dialog_footer [{defaultGradient}outline-color:{defaultBorder};border-top-color:{defaultBorder};] {id} .cke_dialog_tab [{lightGradient}border-color:{defaultBorder};] {id} .cke_dialog_tab:hover [{mediumGradient}] {id} .cke_dialog_contents [border-top-color:{defaultBorder};] {id} .cke_dialog_tab_selected, {id} .cke_dialog_tab_selected:hover [background:{dialogTabSelected};border-bottom-color:{dialogTabSelectedBorder};] {id} .cke_dialog_body [background:{dialogBody};border-color:{defaultBorder};] {id} .cke_toolgroup [{lightGradient}border-color:{defaultBorder};] {id} a.cke_button_off:hover, {id} a.cke_button_off:focus, {id} a.cke_button_off:active [{mediumGradient}] {id} .cke_button_on [{ckeButtonOn}] {id} .cke_toolbar_separator [background-color: {ckeToolbarSeparator};] {id} .cke_combo_button [border-color:{defaultBorder};{lightGradient}] {id} a.cke_combo_button:hover, {id} a.cke_combo_button:focus, {id} .cke_combo_on a.cke_combo_button [border-color:{defaultBorder};{mediumGradient}] {id} .cke_path_item [color:{elementsPathColor};] {id} a.cke_path_item:hover, {id} a.cke_path_item:focus, {id} a.cke_path_item:active [background-color:{elementsPathBg};] {id}.cke_panel [border-color:{defaultBorder};] "),panel:new CKEDITOR.template(".cke_panel_grouptitle [{lightGradient}border-color:{defaultBorder};] .cke_menubutton_icon [background-color:{menubuttonIcon};] .cke_menubutton:hover .cke_menubutton_icon, .cke_menubutton:focus .cke_menubutton_icon, .cke_menubutton:active .cke_menubutton_icon [background-color:{menubuttonIconHover};] .cke_menuseparator [background-color:{menubuttonIcon};] a:hover.cke_colorbox, a:focus.cke_colorbox, a:active.cke_colorbox [border-color:{defaultBorder};] a:hover.cke_colorauto, a:hover.cke_colormore, a:focus.cke_colorauto, a:focus.cke_colormore, a:active.cke_colorauto, a:active.cke_colormore [background-color:{ckeColorauto};border-color:{defaultBorder};] ")};return function(a,o){var i=a.uiColor;return i={id:"."+a.id,defaultBorder:t(i,-.1),defaultGradient:e(t(i,.9),i),lightGradient:e(t(i,1),t(i,.7)),mediumGradient:e(t(i,.8),t(i,.5)),ckeButtonOn:e(t(i,.6),t(i,.7)),ckeResizer:t(i,-.4),ckeToolbarSeparator:t(i,.5),ckeColorauto:t(i,.8),dialogBody:t(i,.7),dialogTabSelected:e("#FFFFFF","#FFFFFF"),dialogTabSelectedBorder:"#FFF",elementsPathColor:t(i,-.6),elementsPathBg:i,menubuttonIcon:t(i,.5),menubuttonIconHover:t(i,.3)},n[o].output(i).replace(/\[/g,"{").replace(/\]/g,"}")}}(),CKEDITOR.plugins.add("dialogui",{onLoad:function(){var t=function(t){this._||(this._={}),this._.default=this._.initValue=t.default||"",this._.required=t.required||!1;for(var e=[this._],n=1;n<arguments.length;n++)e.push(arguments[n]);return e.push(!0),CKEDITOR.tools.extend.apply(CKEDITOR.tools,e),this._},e={build:function(t,e,n){return new CKEDITOR.ui.dialog.textInput(t,e,n)}},n={build:function(t,e,n){return new CKEDITOR.ui.dialog[e.type](t,e,n)}},a={isChanged:function(){return this.getValue()!=this.getInitValue()},reset:function(t){this.setValue(this.getInitValue(),t)},setInitValue:function(){this._.initValue=this.getValue()},resetInitValue:function(){this._.initValue=this._.default},getInitValue:function(){return this._.initValue}},o=CKEDITOR.tools.extend({},CKEDITOR.ui.dialog.uiElement.prototype.eventProcessors,{onChange:function(t,e){this._.domOnChangeRegistered||(t.on("load",(function(){this.getInputElement().on("change",(function(){t.parts.dialog.isVisible()&&this.fire("change",{value:this.getValue()})}),this)}),this),this._.domOnChangeRegistered=!0),this.on("change",e)}},!0),i=/^on([A-Z]\w+)/,r=function(t){for(var e in t)(i.test(e)||"title"==e||"type"==e)&&delete t[e];return t},s=function(t){(t=t.data.getKeystroke())==CKEDITOR.SHIFT+CKEDITOR.ALT+36?this.setDirectionMarker("ltr"):t==CKEDITOR.SHIFT+CKEDITOR.ALT+35&&this.setDirectionMarker("rtl")};CKEDITOR.tools.extend(CKEDITOR.ui.dialog,{labeledElement:function(e,n,a,o){if(!(4>arguments.length)){var i=t.call(this,n);i.labelId=CKEDITOR.tools.getNextId()+"_label",this._.children=[];var r={role:n.role||"presentation"};n.includeLabel&&(r["aria-labelledby"]=i.labelId),CKEDITOR.ui.dialog.uiElement.call(this,e,n,a,"div",null,r,(function(){var t=[],a=n.required?" cke_required":"";return"horizontal"!=n.labelLayout?t.push('<label class="cke_dialog_ui_labeled_label'+a+'" ',' id="'+i.labelId+'"',i.inputId?' for="'+i.inputId+'"':"",(n.labelStyle?' style="'+n.labelStyle+'"':"")+">",n.required?n.label+'<span class="cke_dialog_ui_labeled_required" aria-hidden="true">*</span>':n.label,"</label>",'<div class="cke_dialog_ui_labeled_content"',n.controlStyle?' style="'+n.controlStyle+'"':"",' role="presentation">',o.call(this,e,n),"</div>"):(a={type:"hbox",widths:n.widths,padding:0,children:[{type:"html",html:'<label class="cke_dialog_ui_labeled_label'+a+'" id="'+i.labelId+'" for="'+i.inputId+'"'+(n.labelStyle?' style="'+n.labelStyle+'"':"")+">"+CKEDITOR.tools.htmlEncode(n.label)+"</label>"},{type:"html",html:'<span class="cke_dialog_ui_labeled_content"'+(n.controlStyle?' style="'+n.controlStyle+'"':"")+">"+o.call(this,e,n)+"</span>"}]},CKEDITOR.dialog._.uiElementBuilders.hbox.build(e,a,t)),t.join("")}))}},textInput:function(e,n,a){if(!(3>arguments.length)){t.call(this,n);var o=this._.inputId=CKEDITOR.tools.getNextId()+"_textInput",i={class:"cke_dialog_ui_input_"+n.type,id:o,type:n.type};n.validate&&(this.validate=n.validate),n.maxLength&&(i.maxlength=n.maxLength),n.size&&(i.size=n.size),n.inputStyle&&(i.style=n.inputStyle);var r=this,l=!1;e.on("load",(function(){r.getInputElement().on("keydown",(function(t){13==t.data.getKeystroke()&&(l=!0)})),r.getInputElement().on("keyup",(function(t){13==t.data.getKeystroke()&&l&&(e.getButton("ok")&&setTimeout((function(){e.getButton("ok").click()}),0),l=!1),r.bidi&&s.call(r,t)}),null,null,1e3)})),CKEDITOR.ui.dialog.labeledElement.call(this,e,n,a,(function(){var t=['<div class="cke_dialog_ui_input_',n.type,'" role="presentation"'];for(var e in n.width&&t.push('style="width:'+n.width+'" '),t.push("><input "),i["aria-labelledby"]=this._.labelId,this._.required&&(i["aria-required"]=this._.required),i)t.push(e+'="'+i[e]+'" ');return t.push(" /></div>"),t.join("")}))}},textarea:function(e,n,a){if(!(3>arguments.length)){t.call(this,n);var o=this,i=this._.inputId=CKEDITOR.tools.getNextId()+"_textarea",r={};n.validate&&(this.validate=n.validate),r.rows=n.rows||5,r.cols=n.cols||20,r.class="cke_dialog_ui_input_textarea "+(n.class||""),void 0!==n.inputStyle&&(r.style=n.inputStyle),n.dir&&(r.dir=n.dir),o.bidi&&e.on("load",(function(){o.getInputElement().on("keyup",s)}),o),CKEDITOR.ui.dialog.labeledElement.call(this,e,n,a,(function(){r["aria-labelledby"]=this._.labelId,this._.required&&(r["aria-required"]=this._.required);var t,e=['<div class="cke_dialog_ui_input_textarea" role="presentation"><textarea id="',i,'" '];for(t in r)e.push(t+'="'+CKEDITOR.tools.htmlEncode(r[t])+'" ');return e.push(">",CKEDITOR.tools.htmlEncode(o._.default),"</textarea></div>"),e.join("")}))}},checkbox:function(e,n,a){if(!(3>arguments.length)){var o=t.call(this,n,{default:!!n.default});n.validate&&(this.validate=n.validate),CKEDITOR.ui.dialog.uiElement.call(this,e,n,a,"span",null,null,(function(){var t=CKEDITOR.tools.extend({},n,{id:n.id?n.id+"_checkbox":CKEDITOR.tools.getNextId()+"_checkbox"},!0),a=[],i=CKEDITOR.tools.getNextId()+"_label",s={class:"cke_dialog_ui_checkbox_input",type:"checkbox","aria-labelledby":i};return r(t),n.default&&(s.checked="checked"),void 0!==t.inputStyle&&(t.style=t.inputStyle),o.checkbox=new CKEDITOR.ui.dialog.uiElement(e,t,a,"input",null,s),a.push(' <label id="',i,'" for="',s.id,'"'+(n.labelStyle?' style="'+n.labelStyle+'"':"")+">",CKEDITOR.tools.htmlEncode(n.label),"</label>"),a.join("")}))}},radio:function(e,n,a){if(!(3>arguments.length)){t.call(this,n),this._.default||(this._.default=this._.initValue=n.items[0][1]),n.validate&&(this.validate=n.validate);var o=[],i=this;n.role="radiogroup",n.includeLabel=!0,CKEDITOR.ui.dialog.labeledElement.call(this,e,n,a,(function(){for(var t=[],a=[],s=(n.id?n.id:CKEDITOR.tools.getNextId())+"_radio",l=0;l<n.items.length;l++){var d=n.items[l],u=void 0!==d[2]?d[2]:d[0],c=void 0!==d[1]?d[1]:d[0],m=(h=CKEDITOR.tools.getNextId()+"_radio_input")+"_label",h=CKEDITOR.tools.extend({},n,{id:h,title:null,type:null},!0),f=(u=CKEDITOR.tools.extend({},h,{title:u},!0),{type:"radio",class:"cke_dialog_ui_radio_input",name:s,value:c,"aria-labelledby":m}),p=[];i._.default==c&&(f.checked="checked"),r(h),r(u),void 0!==h.inputStyle&&(h.style=h.inputStyle),(c=new CKEDITOR.ui.dialog.uiElement(e,h,p,"input",null,f)).on("focus",(function(){i.click()})),o.push(c),p.push(" "),new CKEDITOR.ui.dialog.uiElement(e,u,p,"label",null,{id:m,for:f.id},d[0]),t.push(p.join(""))}return new CKEDITOR.ui.dialog.hbox(e,o,t,a),a.join("")})),this._.children=o}},button:function(e,n,a){if(arguments.length){"function"==typeof n&&(n=n(e.getParentEditor())),t.call(this,n,{disabled:n.disabled||!1}),CKEDITOR.event.implementOn(this);var o=this;e.on("load",(function(){var t=this.getElement();t.on("click",(function(t){o.click(),t.data.preventDefault()})),t.on("keydown",(function(t){t.data.getKeystroke()in{32:1}&&(o.click(),t.data.preventDefault())})),t.unselectable()}),this);var i=CKEDITOR.tools.extend({},n);delete i.style;var r=CKEDITOR.tools.getNextId()+"_label";CKEDITOR.ui.dialog.uiElement.call(this,e,i,a,"a",null,{style:n.style,href:"javascript:void(0)",title:n.label,hidefocus:"true",class:n.class,role:"button","aria-labelledby":r},'<span id="'+r+'" class="cke_dialog_ui_button">'+CKEDITOR.tools.htmlEncode(n.label)+"</span>")}},select:function(e,n,a){if(!(3>arguments.length)){var o=t.call(this,n);n.validate&&(this.validate=n.validate),o.inputId=CKEDITOR.tools.getNextId()+"_select",CKEDITOR.ui.dialog.labeledElement.call(this,e,n,a,(function(){var t=CKEDITOR.tools.extend({},n,{id:n.id?n.id+"_select":CKEDITOR.tools.getNextId()+"_select"},!0),a=[],i=[],s={id:o.inputId,class:"cke_dialog_ui_input_select","aria-labelledby":this._.labelId};a.push('<div class="cke_dialog_ui_input_',n.type,'" role="presentation"'),n.width&&a.push('style="width:'+n.width+'" '),a.push(">"),void 0!==n.size&&(s.size=n.size),void 0!==n.multiple&&(s.multiple=n.multiple),r(t);for(var l,d=0;d<n.items.length&&(l=n.items[d]);d++)i.push('<option value="',CKEDITOR.tools.htmlEncode(void 0!==l[1]?l[1]:l[0]).replace(/"/g,"&quot;"),'" /> ',CKEDITOR.tools.htmlEncode(l[0]));return void 0!==t.inputStyle&&(t.style=t.inputStyle),o.select=new CKEDITOR.ui.dialog.uiElement(e,t,a,"select",null,s,i.join("")),a.push("</div>"),a.join("")}))}},file:function(e,n,a){if(!(3>arguments.length)){void 0===n.default&&(n.default="");var o=CKEDITOR.tools.extend(t.call(this,n),{definition:n,buttons:[]});n.validate&&(this.validate=n.validate),e.on("load",(function(){CKEDITOR.document.getById(o.frameId).getParent().addClass("cke_dialog_ui_input_file")})),CKEDITOR.ui.dialog.labeledElement.call(this,e,n,a,(function(){o.frameId=CKEDITOR.tools.getNextId()+"_fileInput";var t=['<iframe frameborder="0" allowtransparency="0" class="cke_dialog_ui_input_file" role="presentation" id="',o.frameId,'" title="',n.label,'" src="javascript:void('];return t.push(CKEDITOR.env.ie?"(function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.close();")+"})()":"0"),t.push(')"></iframe>'),t.join("")}))}},fileButton:function(e,n,a){var o=this;if(!(3>arguments.length)){t.call(this,n),n.validate&&(this.validate=n.validate);var i=CKEDITOR.tools.extend({},n),r=i.onClick;i.className=(i.className?i.className+" ":"")+"cke_dialog_ui_button",i.onClick=function(t){var a=n.for;!1!==(t=!!r&&r.call(this,t))&&("xhr"!==t&&e.getContentElement(a[0],a[1]).submit(),this.disable())},e.on("load",(function(){e.getContentElement(n.for[0],n.for[1])._.buttons.push(o)})),CKEDITOR.ui.dialog.button.call(this,e,i,a)}},html:function(){var t=/^\s*<[\w:]+\s+([^>]*)?>/,e=/^(\s*<[\w:]+(?:\s+[^>]*)?)((?:.|\r|\n)+)$/,n=/\/$/;return function(a,o,i){if(!(3>arguments.length)){var r=[],s=o.html;"<"!=s.charAt(0)&&(s="<span>"+s+"</span>");var l=o.focus;if(l){var d=this.focus;this.focus=function(){("function"==typeof l?l:d).call(this),this.fire("focus")},o.isFocusable&&(this.isFocusable=this.isFocusable),this.keyboardFocusable=!0}CKEDITOR.ui.dialog.uiElement.call(this,a,o,r,"span",null,null,""),r=r.join("").match(t),s=s.match(e)||["","",""],n.test(s[1])&&(s[1]=s[1].slice(0,-1),s[2]="/"+s[2]),i.push([s[1]," ",r[1]||"",s[2]].join(""))}}}(),fieldset:function(t,e,n,a,o){var i=o.label;this._={children:e},CKEDITOR.ui.dialog.uiElement.call(this,t,o,a,"fieldset",null,null,(function(){var t=[];i&&t.push("<legend"+(o.labelStyle?' style="'+o.labelStyle+'"':"")+">"+i+"</legend>");for(var e=0;e<n.length;e++)t.push(n[e]);return t.join("")}))}},!0),CKEDITOR.ui.dialog.html.prototype=new CKEDITOR.ui.dialog.uiElement,CKEDITOR.ui.dialog.labeledElement.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{setLabel:function(t){var e=CKEDITOR.document.getById(this._.labelId);return 1>e.getChildCount()?new CKEDITOR.dom.text(t,CKEDITOR.document).appendTo(e):e.getChild(0).$.nodeValue=t,this},getLabel:function(){var t=CKEDITOR.document.getById(this._.labelId);return!t||1>t.getChildCount()?"":t.getChild(0).getText()},eventProcessors:o},!0),CKEDITOR.ui.dialog.button.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{click:function(){return!this._.disabled&&this.fire("click",{dialog:this._.dialog})},enable:function(){this._.disabled=!1;var t=this.getElement();t&&t.removeClass("cke_disabled")},disable:function(){this._.disabled=!0,this.getElement().addClass("cke_disabled")},isVisible:function(){return this.getElement().getFirst().isVisible()},isEnabled:function(){return!this._.disabled},eventProcessors:CKEDITOR.tools.extend({},CKEDITOR.ui.dialog.uiElement.prototype.eventProcessors,{onClick:function(t,e){this.on("click",(function(){e.apply(this,arguments)}))}},!0),accessKeyUp:function(){this.click()},accessKeyDown:function(){this.focus()},keyboardFocusable:!0},!0),CKEDITOR.ui.dialog.textInput.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,{getInputElement:function(){return CKEDITOR.document.getById(this._.inputId)},focus:function(){var t=this.selectParentTab();setTimeout((function(){var e=t.getInputElement();e&&e.$.focus()}),0)},select:function(){var t=this.selectParentTab();setTimeout((function(){var e=t.getInputElement();e&&(e.$.focus(),e.$.select())}),0)},accessKeyUp:function(){this.select()},setValue:function(t){if(this.bidi){var e=t&&t.charAt(0);(e="‪"==e?"ltr":"‫"==e?"rtl":null)&&(t=t.slice(1)),this.setDirectionMarker(e)}return t||(t=""),CKEDITOR.ui.dialog.uiElement.prototype.setValue.apply(this,arguments)},getValue:function(){var t=CKEDITOR.ui.dialog.uiElement.prototype.getValue.call(this);if(this.bidi&&t){var e=this.getDirectionMarker();e&&(t=("ltr"==e?"‪":"‫")+t)}return t},setDirectionMarker:function(t){var e=this.getInputElement();t?e.setAttributes({dir:t,"data-cke-dir-marker":t}):this.getDirectionMarker()&&e.removeAttributes(["dir","data-cke-dir-marker"])},getDirectionMarker:function(){return this.getInputElement().data("cke-dir-marker")},keyboardFocusable:!0},a,!0),CKEDITOR.ui.dialog.textarea.prototype=new CKEDITOR.ui.dialog.textInput,CKEDITOR.ui.dialog.select.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,{getInputElement:function(){return this._.select.getElement()},add:function(t,e,n){var a=new CKEDITOR.dom.element("option",this.getDialog().getParentEditor().document),o=this.getInputElement().$;return a.$.text=t,a.$.value=null==e?t:e,null==n?CKEDITOR.env.ie?o.add(a.$):o.add(a.$,null):o.add(a.$,n),this},remove:function(t){return this.getInputElement().$.remove(t),this},clear:function(){for(var t=this.getInputElement().$;0<t.length;)t.remove(0);return this},keyboardFocusable:!0},a,!0),CKEDITOR.ui.dialog.checkbox.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{getInputElement:function(){return this._.checkbox.getElement()},setValue:function(t,e){return this.getInputElement().$.checked=t,!e&&this.fire("change",{value:t}),this},getValue:function(){return this.getInputElement().$.checked},accessKeyUp:function(){this.setValue(!this.getValue())},eventProcessors:{onChange:function(t,e){return!CKEDITOR.env.ie||8<CKEDITOR.env.version?o.onChange.apply(this,arguments):(t.on("load",(function(){var t=this._.checkbox.getElement();t.on("propertychange",(function(e){"checked"==(e=e.data.$).propertyName&&this.fire("change",{value:t.$.checked})}),this)}),this),this.on("change",e),null)}},keyboardFocusable:!0},a,!0),CKEDITOR.ui.dialog.radio.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{focus:function(){var t=this._.children,e=t[0],n=this._.dialog._,a=n.currentFocusIndex,o=a===n.focusList.length-1&&0===this.focusIndex;for(a>this.focusIndex&&!o&&(e=t[t.length-1]),n.currentFocusIndex=this.focusIndex,n=0;n<t.length;n++)if((a=t[n]).getInputElement().$.checked){e=a;break}e.focus()},setValue:function(t,e){for(var n,a=this._.children,o=0;o<a.length&&(n=a[o]);o++)n.getElement().$.checked=n.getValue()==t;return!e&&this.fire("change",{value:t}),this},getValue:function(){for(var t=this._.children,e=0;e<t.length;e++)if(t[e].getElement().$.checked)return t[e].getValue();return null},accessKeyUp:function(){var t,e=this._.children;for(t=0;t<e.length;t++)if(e[t].getElement().$.checked)return void e[t].getElement().focus();e[0].getElement().focus()},click:function(){this._.dialog._.currentFocusIndex=this.focusIndex},eventProcessors:{onChange:function(t,e){return!CKEDITOR.env.ie||8<CKEDITOR.env.version?o.onChange.apply(this,arguments):(t.on("load",(function(){for(var t=this._.children,e=this,n=0;n<t.length;n++)t[n].getElement().on("propertychange",(function(t){"checked"==(t=t.data.$).propertyName&&this.$.checked&&e.fire("change",{value:this.getAttribute("value")})}))}),this),this.on("change",e),null)}},keyboardFocusable:!0},a,!0),CKEDITOR.ui.dialog.file.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,a,{getInputElement:function(){var t=CKEDITOR.document.getById(this._.frameId).getFrameDocument();return 0<t.$.forms.length?new CKEDITOR.dom.element(t.$.forms[0].elements[0]):this.getElement()},submit:function(){return this.getInputElement().getParent().$.submit(),this},getAction:function(){return this.getInputElement().getParent().$.action},registerEvents:function(t){var e,n,a=/^on([A-Z]\w+)/,o=function(t,e,n,a){t.on("formLoaded",(function(){t.getInputElement().on(n,a,t)}))};for(n in t)(e=n.match(a))&&(this.eventProcessors[n]?this.eventProcessors[n].call(this,this._.dialog,t[n]):o(this,this._.dialog,e[1].toLowerCase(),t[n]));return this},reset:function(){function t(){n.$.open();var t="";a.size&&(t=a.size-(CKEDITOR.env.ie?7:0));var d=e.frameId+"_input";for(n.$.write(['<html dir="'+s+'" lang="'+l+'"><head><title></title></head><body style="margin: 0; overflow: hidden; background: transparent;">','<form enctype="multipart/form-data" method="POST" dir="'+s+'" lang="'+l+'" action="',CKEDITOR.tools.htmlEncode(a.action),'"><label id="',e.labelId,'" for="',d,'" style="display:none">',CKEDITOR.tools.htmlEncode(a.label),'</label><input style="width:100%" id="',d,'" aria-labelledby="',e.labelId,'" type="file" name="',CKEDITOR.tools.htmlEncode(a.id||"cke_upload"),'" size="',CKEDITOR.tools.htmlEncode(0<t?t:""),'" /></form></body></html><script>',CKEDITOR.env.ie?"("+CKEDITOR.tools.fixDomain+")();":"","window.parent.CKEDITOR.tools.callFunction("+i+");","window.onbeforeunload = function() {window.parent.CKEDITOR.tools.callFunction("+r+")}","<\/script>"].join("")),n.$.close(),t=0;t<o.length;t++)o[t].enable()}var e=this._,n=CKEDITOR.document.getById(e.frameId).getFrameDocument(),a=e.definition,o=e.buttons,i=this.formLoadedNumber,r=this.formUnloadNumber,s=e.dialog._.editor.lang.dir,l=e.dialog._.editor.langCode;i||(i=this.formLoadedNumber=CKEDITOR.tools.addFunction((function(){this.fire("formLoaded")}),this),r=this.formUnloadNumber=CKEDITOR.tools.addFunction((function(){this.getInputElement().clearCustomData()}),this),this.getDialog()._.editor.on("destroy",(function(){CKEDITOR.tools.removeFunction(i),CKEDITOR.tools.removeFunction(r)}))),CKEDITOR.env.gecko?setTimeout(t,500):t()},getValue:function(){return this.getInputElement().$.value||""},setInitValue:function(){this._.initValue=""},eventProcessors:{onChange:function(t,e){this._.domOnChangeRegistered||(this.on("formLoaded",(function(){this.getInputElement().on("change",(function(){this.fire("change",{value:this.getValue()})}),this)}),this),this._.domOnChangeRegistered=!0),this.on("change",e)}},keyboardFocusable:!0},!0),CKEDITOR.ui.dialog.fileButton.prototype=new CKEDITOR.ui.dialog.button,CKEDITOR.ui.dialog.fieldset.prototype=CKEDITOR.tools.clone(CKEDITOR.ui.dialog.hbox.prototype),CKEDITOR.dialog.addUIElement("text",e),CKEDITOR.dialog.addUIElement("password",e),CKEDITOR.dialog.addUIElement("tel",e),CKEDITOR.dialog.addUIElement("textarea",n),CKEDITOR.dialog.addUIElement("checkbox",n),CKEDITOR.dialog.addUIElement("radio",n),CKEDITOR.dialog.addUIElement("button",n),CKEDITOR.dialog.addUIElement("select",n),CKEDITOR.dialog.addUIElement("file",n),CKEDITOR.dialog.addUIElement("fileButton",n),CKEDITOR.dialog.addUIElement("html",n),CKEDITOR.dialog.addUIElement("fieldset",{build:function(t,e,n){for(var a,o=e.children,i=[],r=[],s=0;s<o.length&&(a=o[s]);s++){var l=[];i.push(l),r.push(CKEDITOR.dialog._.uiElementBuilders[a.type].build(t,a,l))}return new CKEDITOR.ui.dialog[e.type](t,r,i,n,e)}})}}),CKEDITOR.DIALOG_RESIZE_NONE=0,CKEDITOR.DIALOG_RESIZE_WIDTH=1,CKEDITOR.DIALOG_RESIZE_HEIGHT=2,CKEDITOR.DIALOG_RESIZE_BOTH=3,CKEDITOR.DIALOG_STATE_IDLE=1,CKEDITOR.DIALOG_STATE_BUSY=2,function(){function t(t){t._.tabBarMode=!0,t._.tabs[t._.currentTabId][0].focus(),t._.currentFocusIndex=-1}function e(){for(var t=this._.tabIdList.length,e=CKEDITOR.tools.indexOf(this._.tabIdList,this._.currentTabId)+t,n=e-1;n>e-t;n--)if(this._.tabs[this._.tabIdList[n%t]][0].$.offsetHeight)return this._.tabIdList[n%t];return null}function n(){for(var t=this._.tabIdList.length,e=CKEDITOR.tools.indexOf(this._.tabIdList,this._.currentTabId),n=e+1;n<e+t;n++)if(this._.tabs[this._.tabIdList[n%t]][0].$.offsetHeight)return this._.tabIdList[n%t];return null}function a(t,e){for(var n=t.$.getElementsByTagName("input"),a=0,o=n.length;a<o;a++){var i=new CKEDITOR.dom.element(n[a]);"text"==i.getAttribute("type").toLowerCase()&&(e?(i.setAttribute("value",i.getCustomData("fake_value")||""),i.removeCustomData("fake_value")):(i.setCustomData("fake_value",i.getAttribute("value")),i.setAttribute("value","")))}}function o(t,e){var n=this.getInputElement();n&&(t?n.removeAttribute("aria-invalid"):n.setAttribute("aria-invalid",!0)),t||(this.select?this.select():this.focus()),e&&alert(e),this.fire("validated",{valid:t,msg:e})}function i(){var t=this.getInputElement();t&&t.removeAttribute("aria-invalid")}function r(t){var e=CKEDITOR.dom.element.createFromHtml(CKEDITOR.addTemplate("dialog",D).output({id:CKEDITOR.tools.getNextNumber(),editorId:t.id,langDir:t.lang.dir,langCode:t.langCode,editorDialogClass:"cke_editor_"+t.name.replace(/\./g,"\\.")+"_dialog",closeTitle:t.lang.common.close,hidpi:CKEDITOR.env.hidpi?"cke_hidpi":""})),n=e.getChild([0,0,0,0,0]),a=n.getChild(0),o=n.getChild(1);return t.plugins.clipboard&&CKEDITOR.plugins.clipboard.preventDefaultDropOnElement(n),!CKEDITOR.env.ie||CKEDITOR.env.quirks||CKEDITOR.env.edge||(t="javascript:void(function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.close();")+"}())",CKEDITOR.dom.element.createFromHtml('<iframe frameBorder="0" class="cke_iframe_shim" src="'+t+'" tabIndex="-1"></iframe>').appendTo(n.getParent())),a.unselectable(),o.unselectable(),{element:e,parts:{dialog:e.getChild(0),title:a,close:o,tabs:n.getChild(2),contents:n.getChild([3,0,0,0]),footer:n.getChild([3,0,1,0])}}}function s(t,e,n){this.element=e,this.focusIndex=n,this.tabIndex=0,this.isFocusable=function(){return!e.getAttribute("disabled")&&e.isVisible()},this.focus=function(){t._.currentFocusIndex=this.focusIndex,this.element.focus()},e.on("keydown",(function(t){t.data.getKeystroke()in{32:1,13:1}&&this.fire("click")})),e.on("focus",(function(){this.fire("mouseover")})),e.on("blur",(function(){this.fire("mouseout")}))}function l(t,e){this.dialog=t;for(var n,a=e.contents,o=0;n=a[o];o++)a[o]=n&&new d(t,n);CKEDITOR.tools.extend(this,e)}function d(t,e){this._={dialog:t},CKEDITOR.tools.extend(this,e)}function u(t){function e(e){var n="rtl"==m.lang.dir,u=d.width,h=d.height,f=u+(e.data.$.screenX-l.x)*(n?-1:1)*(t._.moved?1:2),p=h+(e.data.$.screenY-l.y)*(t._.moved?1:2),g=t._.element.getFirst(),v=(g=n&&parseInt(g.getComputedStyle("right"),10),t.getPosition());v.x=v.x||0,v.y=v.y||0,v.y+p>s.height&&(p=s.height-v.y),(n?g:v.x)+f>s.width&&(f=s.width-(n?g:v.x)),p=Math.floor(p),f=Math.floor(f),o!=CKEDITOR.DIALOG_RESIZE_WIDTH&&o!=CKEDITOR.DIALOG_RESIZE_BOTH||(u=Math.max(a.minWidth||0,f-i)),o!=CKEDITOR.DIALOG_RESIZE_HEIGHT&&o!=CKEDITOR.DIALOG_RESIZE_BOTH||(h=Math.max(a.minHeight||0,p-r)),t.resize(u,h),t._.moved&&c(t,t._.position.x,t._.position.y),t._.moved||t.layout(),e.data.preventDefault()}function n(){if(CKEDITOR.document.removeListener("mouseup",n),CKEDITOR.document.removeListener("mousemove",e),u&&(u.remove(),u=null),CKEDITOR.env.ie6Compat){var t=T.getChild(0).getFrameDocument();t.removeListener("mouseup",n),t.removeListener("mousemove",e)}}var a=t.definition,o=a.resizable;if(o!=CKEDITOR.DIALOG_RESIZE_NONE){var i,r,s,l,d,u,m=t.getParentEditor(),h=CKEDITOR.tools.addFunction((function(a){function o(t){return t.isVisible()}d=t.getSize();var c=t.parts.contents,m=c.$.getElementsByTagName("iframe").length,h=!(CKEDITOR.env.gecko||CKEDITOR.env.ie&&CKEDITOR.env.quirks);m&&(u=CKEDITOR.dom.element.createFromHtml('<div class="cke_dialog_resize_cover" style="height: 100%; position: absolute; width: 100%; left:0; top:0;"></div>'),c.append(u)),r=d.height-t.parts.contents.getFirst(o).getSize("height",h),i=d.width-t.parts.contents.getFirst(o).getSize("width",1),l={x:a.screenX,y:a.screenY},s=CKEDITOR.document.getWindow().getViewPaneSize(),CKEDITOR.document.on("mousemove",e),CKEDITOR.document.on("mouseup",n),CKEDITOR.env.ie6Compat&&((c=T.getChild(0).getFrameDocument()).on("mousemove",e),c.on("mouseup",n)),a.preventDefault&&a.preventDefault()}));t.on("load",(function(){var e="";o==CKEDITOR.DIALOG_RESIZE_WIDTH?e=" cke_resizer_horizontal":o==CKEDITOR.DIALOG_RESIZE_HEIGHT&&(e=" cke_resizer_vertical"),e=CKEDITOR.dom.element.createFromHtml('<div class="cke_resizer'+e+" cke_resizer_"+m.lang.dir+'" title="'+CKEDITOR.tools.htmlEncode(m.lang.common.resize)+'" onmousedown="CKEDITOR.tools.callFunction('+h+', event )">'+("ltr"==m.lang.dir?"◢":"◣")+"</div>"),t.parts.footer.append(e,1)})),m.on("destroy",(function(){CKEDITOR.tools.removeFunction(h)}))}}function c(t,e,n){var a=t.parts.dialog.getParent().getClientSize(),o=t.getSize(),i=t._.viewportRatio,r=Math.max(a.width-o.width,0);a=Math.max(a.height-o.height,0),i.width=r?e/r:i.width,i.height=a?n/a:i.height,t._.viewportRatio=i}function m(t){t.data.preventDefault(1)}function h(t){var e=t.config,n=CKEDITOR.skinName||t.config.skin,a=e.dialog_backgroundCoverColor||("moono-lisa"==n?"black":"white"),o=(n=e.dialog_backgroundCoverOpacity,e.baseFloatZIndex),i=(e=CKEDITOR.tools.genKey(a,n,o),R[e]);CKEDITOR.document.getBody().addClass("cke_dialog_open"),i?i.show():(o=['<div tabIndex="-1" style="position: ',CKEDITOR.env.ie6Compat?"absolute":"fixed","; z-index: ",o,"; top: 0px; left: 0px; ","; width: 100%; height: 100%;",CKEDITOR.env.ie6Compat?"":"background-color: "+a,'" class="cke_dialog_background_cover">'],CKEDITOR.env.ie6Compat&&(a="<html><body style=\\'background-color:"+a+";\\'></body></html>",o.push('<iframe hidefocus="true" frameborder="0" id="cke_dialog_background_iframe" src="javascript:'),o.push("void((function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.write( '"+a+"' );document.close();")+"})())"),o.push('" style="position:absolute;left:0;top:0;width:100%;height: 100%;filter: progid:DXImageTransform.Microsoft.Alpha(opacity=0)"></iframe>')),o.push("</div>"),(i=CKEDITOR.dom.element.createFromHtml(o.join(""))).setOpacity(void 0!==n?n:.5),i.on("keydown",m),i.on("keypress",m),i.on("keyup",m),i.appendTo(CKEDITOR.document.getBody()),R[e]=i),t.focusManager.add(i),T=i,CKEDITOR.env.mac&&CKEDITOR.env.webkit||i.focus()}function f(t){CKEDITOR.document.getBody().removeClass("cke_dialog_open"),T&&(t.focusManager.remove(T),T.hide())}function p(t){var e=t.data.$.ctrlKey||t.data.$.metaKey,n=t.data.$.altKey,a=t.data.$.shiftKey,o=String.fromCharCode(t.data.$.keyCode);(e=q[(e?"CTRL+":"")+(n?"ALT+":"")+(a?"SHIFT+":"")+o])&&e.length&&((e=e[e.length-1]).keydown&&e.keydown.call(e.uiElement,e.dialog,e.key),t.data.preventDefault())}function g(t){var e=t.data.$.ctrlKey||t.data.$.metaKey,n=t.data.$.altKey,a=t.data.$.shiftKey,o=String.fromCharCode(t.data.$.keyCode);(e=q[(e?"CTRL+":"")+(n?"ALT+":"")+(a?"SHIFT+":"")+o])&&e.length&&(e=e[e.length-1]).keyup&&(e.keyup.call(e.uiElement,e.dialog,e.key),t.data.preventDefault())}function v(t,e,n,a,o){(q[n]||(q[n]=[])).push({uiElement:t,dialog:e,key:n,keyup:o||t.accessKeyUp,keydown:a||t.accessKeyDown})}function x(t,e){t._.accessKeyMap[e]&&t.selectPage(t._.accessKeyMap[e])}function b(){}var E,T,C=CKEDITOR.tools.cssLength,y=!1,I=!CKEDITOR.env.ie||CKEDITOR.env.edge,D='<div class="cke_reset_all cke_dialog_container {editorId} {editorDialogClass} {hidpi}" dir="{langDir}" style="'+(I?"display:flex":"")+'" lang="{langCode}" role="dialog" aria-labelledby="cke_dialog_title_{id}"><table class="cke_dialog '+CKEDITOR.env.cssClass+' cke_{langDir}" style="'+(I?"margin:auto":"position:absolute")+'" role="presentation"><tr><td role="presentation"><div class="cke_dialog_body" role="presentation"><div id="cke_dialog_title_{id}" class="cke_dialog_title" role="presentation"></div><a id="cke_dialog_close_button_{id}" class="cke_dialog_close_button" href="javascript:void(0)" title="{closeTitle}" role="button"><span class="cke_label">X</span></a><div id="cke_dialog_tabs_{id}" class="cke_dialog_tabs" role="tablist"></div><table class="cke_dialog_contents" role="presentation"><tr><td id="cke_dialog_contents_{id}" class="cke_dialog_contents_body" role="presentation"></td></tr><tr><td id="cke_dialog_footer_{id}" class="cke_dialog_footer" role="presentation"></td></tr></table></div></td></tr></table></div>';CKEDITOR.dialog=function(a,s){function d(t){var e=y._.focusList;if(t=t||0,!(1>e.length)){var n=y._.currentFocusIndex;y._.tabBarMode&&0>t&&(n=0);try{e[n].getInputElement().$.blur()}catch(t){}var a=n,o=1<y._.pageCount;do{if(a+=t,o&&!y._.tabBarMode&&(a==e.length||-1==a))return y._.tabBarMode=!0,y._.tabs[y._.currentTabId][0].focus(),void(y._.currentFocusIndex=-1);if((a=(a+e.length)%e.length)==n)break}while(t&&!e[a].isFocusable());e[a].focus(),"text"==e[a].type&&e[a].select()}}function c(o){if(y==CKEDITOR.dialog._.currentTop){var i=o.data.getKeystroke(),r="rtl"==a.lang.dir;if(h=f=0,9==i||i==CKEDITOR.SHIFT+9)d(i==CKEDITOR.SHIFT+9?-1:1),h=1;else if(i==CKEDITOR.ALT+121&&!y._.tabBarMode&&1<y.getPageCount())t(y),h=1;else if(-1!=CKEDITOR.tools.indexOf([37,38,39,40],i)&&y._.tabBarMode)i=-1!=CKEDITOR.tools.indexOf([r?39:37,38],i)?e.call(y):n.call(y),y.selectPage(i),y._.tabs[i][0].focus(),h=1;else if(13!=i&&32!=i||!y._.tabBarMode)if(13==i)(i=o.data.getTarget()).is("a","button","select","textarea")||i.is("input")&&"button"==i.$.type||((i=this.getButton("ok"))&&CKEDITOR.tools.setTimeout(i.click,0,i),h=1),f=1;else{if(27!=i)return;(i=this.getButton("cancel"))?CKEDITOR.tools.setTimeout(i.click,0,i):!1!==this.fire("cancel",{hide:!0}).hide&&this.hide(),f=1}else this.selectPage(this._.currentTabId),this._.tabBarMode=!1,this._.currentFocusIndex=-1,d(1),h=1;m(o)}}function m(t){h?t.data.preventDefault(1):f&&t.data.stopPropagation()}var h,f,p=CKEDITOR.dialog._.dialogDefinitions[s],g=CKEDITOR.tools.clone(E),v=a.config.dialog_buttonsOrder||"OS",x=a.lang.dir,b={};if(("OS"==v&&CKEDITOR.env.mac||"rtl"==v&&"ltr"==x||"ltr"==v&&"rtl"==x)&&g.buttons.reverse(),p=CKEDITOR.tools.extend(p(a),g),p=new l(this,p=CKEDITOR.tools.clone(p)),g=r(a),this._={editor:a,element:g.element,name:s,model:null,contentSize:{width:0,height:0},size:{width:0,height:0},contents:{},buttons:{},accessKeyMap:{},viewportRatio:{width:.5,height:.5},tabs:{},tabIdList:[],currentTabId:null,currentTabIndex:null,pageCount:0,lastTab:null,tabBarMode:!1,focusList:[],currentFocusIndex:0,hasFocus:!1},this.parts=g.parts,CKEDITOR.tools.setTimeout((function(){a.fire("ariaWidget",this.parts.contents)}),0,this),g={top:0,visibility:"hidden"},CKEDITOR.env.ie6Compat&&(g.position="absolute"),g["rtl"==x?"right":"left"]=0,this.parts.dialog.setStyles(g),CKEDITOR.event.call(this),this.definition=p=CKEDITOR.fire("dialogDefinition",{name:s,definition:p,dialog:this},a).definition,!("removeDialogTabs"in a._)&&a.config.removeDialogTabs){for(g=a.config.removeDialogTabs.split(";"),x=0;x<g.length;x++)if(2==(v=g[x].split(":")).length){var C=v[0];b[C]||(b[C]=[]),b[C].push(v[1])}a._.removeDialogTabs=b}if(a._.removeDialogTabs&&(b=a._.removeDialogTabs[s]))for(x=0;x<b.length;x++)p.removeContents(b[x]);p.onLoad&&this.on("load",p.onLoad),p.onShow&&this.on("show",p.onShow),p.onHide&&this.on("hide",p.onHide),p.onOk&&this.on("ok",(function(t){a.fire("saveSnapshot"),setTimeout((function(){a.fire("saveSnapshot")}),0),!1===p.onOk.call(this,t)&&(t.data.hide=!1)})),this.state=CKEDITOR.DIALOG_STATE_IDLE,p.onCancel&&this.on("cancel",(function(t){!1===p.onCancel.call(this,t)&&(t.data.hide=!1)}));var y=this,I=function(t){var e,n=y._.contents;for(e in n)for(var a in n[e])if(t.call(this,n[e][a]))return};this.on("ok",(function(t){I((function(e){if(e.validate){var n=e.validate(this),a="string"==typeof n||!1===n;return a&&(t.data.hide=!1,t.stop()),o.call(e,!a,"string"==typeof n?n:void 0),a}}))}),this,null,0),this.on("cancel",(function(t){I((function(e){if(e.isChanged())return a.config.dialog_noConfirmCancel||confirm(a.lang.common.confirmCancel)||(t.data.hide=!1),!0}))}),this,null,0),this.parts.close.on("click",(function(t){!1!==this.fire("cancel",{hide:!0}).hide&&this.hide(),t.data.preventDefault()}),this),this.changeFocus=d;var D=this._.element;for(a.focusManager.add(D,1),this.on("show",(function(){D.on("keydown",c,this),CKEDITOR.env.gecko&&D.on("keypress",m,this)})),this.on("hide",(function(){D.removeListener("keydown",c),CKEDITOR.env.gecko&&D.removeListener("keypress",m),I((function(t){i.apply(t)}))})),this.on("iframeAdded",(function(t){new CKEDITOR.dom.document(t.data.iframe.$.contentWindow.document).on("keydown",c,this,null,0)})),this.on("show",(function(){!function(){var t=y._.focusList;t.sort((function(t,e){return t.tabIndex!=e.tabIndex?e.tabIndex-t.tabIndex:t.focusIndex-e.focusIndex}));for(var e=t.length,n=0;n<e;n++)t[n].focusIndex=n}();var t=1<y._.pageCount;a.config.dialog_startupFocusTab&&t?(y._.tabBarMode=!0,y._.tabs[y._.currentTabId][0].focus(),y._.currentFocusIndex=-1):this._.hasFocus||(this._.currentFocusIndex=t?-1:this._.focusList.length-1,p.onFocus?(t=p.onFocus.call(this))&&t.focus():d(1))}),this,null,4294967295),CKEDITOR.env.ie6Compat&&this.on("load",(function(){var t=this.getElement(),e=t.getFirst();e.remove(),e.appendTo(t)}),this),function(t){function e(e){var n=t.getSize(),l=t.parts.dialog.getParent().getClientSize(),d=e.data.$.screenX,u=e.data.$.screenY,c=d-a.x,m=u-a.y;a={x:d,y:u},o.x+=c,o.y+=m,d=o.x+s[3]<r?-s[3]:o.x-s[1]>l.width-n.width-r?l.width-n.width+("rtl"==i.lang.dir?0:s[1]):o.x,n=o.y+s[0]<r?-s[0]:o.y-s[2]>l.height-n.height-r?l.height-n.height+s[2]:o.y,d=Math.floor(d),n=Math.floor(n),t.move(d,n,1),e.data.preventDefault()}function n(){if(CKEDITOR.document.removeListener("mousemove",e),CKEDITOR.document.removeListener("mouseup",n),CKEDITOR.env.ie6Compat){var t=T.getChild(0).getFrameDocument();t.removeListener("mousemove",e),t.removeListener("mouseup",n)}}var a=null,o=null,i=t.getParentEditor(),r=i.config.dialog_magnetDistance,s=CKEDITOR.skin.margins||[0,0,0,0];void 0===r&&(r=20),t.parts.title.on("mousedown",(function(i){if(!t._.moved){var r=t._.element;r.getFirst().setStyle("position","absolute"),r.removeStyle("display"),t._.moved=!0,t.layout()}a={x:i.data.$.screenX,y:i.data.$.screenY},CKEDITOR.document.on("mousemove",e),CKEDITOR.document.on("mouseup",n),o=t.getPosition(),CKEDITOR.env.ie6Compat&&((r=T.getChild(0).getFrameDocument()).on("mousemove",e),r.on("mouseup",n)),i.data.preventDefault()}),t)}(this),u(this),new CKEDITOR.dom.text(p.title,CKEDITOR.document).appendTo(this.parts.title),x=0;x<p.contents.length;x++)(b=p.contents[x])&&this.addPage(b);for(this.parts.tabs.on("click",(function(e){var n=e.data.getTarget();n.hasClass("cke_dialog_tab")&&(n=n.$.id,this.selectPage(n.substring(4,n.lastIndexOf("_"))),t(this),e.data.preventDefault())}),this),x=[],b=CKEDITOR.dialog._.uiElementBuilders.hbox.build(this,{type:"hbox",className:"cke_dialog_footer_buttons",widths:[],children:p.buttons},x).getChild(),this.parts.footer.setHtml(x.join("")),x=0;x<b.length;x++)this._.buttons[b[x].id]=b[x]},CKEDITOR.dialog.prototype={destroy:function(){this.hide(),this._.element.remove()},resize:function(t,e){if(!this._.contentSize||this._.contentSize.width!=t||this._.contentSize.height!=e){if(CKEDITOR.dialog.fire("resize",{dialog:this,width:t,height:e},this._.editor),this.fire("resize",{width:t,height:e},this._.editor),this.parts.contents.setStyles({width:t+"px",height:e+"px"}),"rtl"==this._.editor.lang.dir&&this._.position){var n=this.parts.dialog.getParent().getClientSize().width;this._.position.x=n-this._.contentSize.width-parseInt(this._.element.getFirst().getStyle("right"),10)}this._.contentSize={width:t,height:e}}},getSize:function(){var t=this._.element.getFirst();return{width:t.$.offsetWidth||0,height:t.$.offsetHeight||0}},move:function(t,e,n){var a=this._.element.getFirst(),o="rtl"==this._.editor.lang.dir;CKEDITOR.env.ie&&a.setStyle("zoom","100%");var i=this.parts.dialog.getParent().getClientSize(),r=this.getSize(),s=this._.viewportRatio,l=Math.max(i.width-r.width,0);i=Math.max(i.height-r.height,0),this._.position&&this._.position.x==t&&this._.position.y==e?(t=Math.floor(l*s.width),e=Math.floor(i*s.height)):c(this,t,e),this._.position={x:t,y:e},o&&(t=l-t),(e={top:(0<e?e:0)+"px"})[o?"right":"left"]=(0<t?t:0)+"px",a.setStyles(e),n&&(this._.moved=1)},getPosition:function(){return CKEDITOR.tools.extend({},this._.position)},show:function(){var t=this._.element,e=this.definition,n=CKEDITOR.document.getBody(),a=this._.editor.config.baseFloatZIndex;for(var o in t.getParent()&&t.getParent().equals(n)?t.setStyle("display",I?"flex":"block"):t.appendTo(n),this.resize(this._.contentSize&&this._.contentSize.width||e.width||e.minWidth,this._.contentSize&&this._.contentSize.height||e.height||e.minHeight),this.reset(),null===this._.currentTabId&&this.selectPage(this.definition.contents[0].id),null===CKEDITOR.dialog._.currentZIndex&&(CKEDITOR.dialog._.currentZIndex=a),this._.element.getFirst().setStyle("z-index",CKEDITOR.dialog._.currentZIndex+=10),this.getElement().setStyle("z-index",CKEDITOR.dialog._.currentZIndex),null===CKEDITOR.dialog._.currentTop?(CKEDITOR.dialog._.currentTop=this,this._.parentDialog=null,h(this._.editor)):CKEDITOR.dialog._.currentTop!==this&&(this._.parentDialog=CKEDITOR.dialog._.currentTop,(n=this._.parentDialog.getElement().getFirst()).$.style.zIndex-=Math.floor(a/2),this._.parentDialog.getElement().setStyle("z-index",n.$.style.zIndex),CKEDITOR.dialog._.currentTop=this),t.on("keydown",p),t.on("keyup",g),this._.hasFocus=!1,e.contents)if(e.contents[o]){t=e.contents[o],a=this._.tabs[t.id],n=t.requiredContent;var i=0;if(a){for(var r in this._.contents[t.id]){var s=this._.contents[t.id][r];"hbox"!=s.type&&"vbox"!=s.type&&s.getInputElement()&&(s.requiredContent&&!this._.editor.activeFilter.check(s.requiredContent)?s.disable():(s.enable(),i++))}!i||n&&!this._.editor.activeFilter.check(n)?a[0].addClass("cke_dialog_tab_disabled"):a[0].removeClass("cke_dialog_tab_disabled")}}CKEDITOR.tools.setTimeout((function(){this.layout(),function(t){function e(){t.layout()}var n=CKEDITOR.document.getWindow();n.on("resize",e),t.on("hide",(function(){n.removeListener("resize",e)}))}(this),this.parts.dialog.setStyle("visibility",""),this.fireOnce("load",{}),CKEDITOR.ui.fire("ready",this),this.fire("show",{}),this._.editor.fire("dialogShow",this),this._.parentDialog||this._.editor.focusManager.lock(),this.foreach((function(t){t.setInitValue&&t.setInitValue()}))}),100,this)},layout:function(){var t=this.parts.dialog;if(this._.moved||!I){var e,n=this.getSize(),a=CKEDITOR.document.getWindow().getViewPaneSize();this._.moved&&this._.position?(e=this._.position.x,n=this._.position.y):(e=(a.width-n.width)/2,n=(a.height-n.height)/2),CKEDITOR.env.ie6Compat||(t.setStyle("position","absolute"),t.removeStyle("margin")),e=Math.floor(e),n=Math.floor(n),this.move(e,n)}},foreach:function(t){for(var e in this._.contents)for(var n in this._.contents[e])t.call(this,this._.contents[e][n]);return this},reset:function(){var t=function(t){t.reset&&t.reset(1)};return function(){return this.foreach(t),this}}(),setupContent:function(){var t=arguments;this.foreach((function(e){e.setup&&e.setup.apply(e,t)}))},commitContent:function(){var t=arguments;this.foreach((function(e){CKEDITOR.env.ie&&this._.currentFocusIndex==e.focusIndex&&e.getInputElement().$.blur(),e.commit&&e.commit.apply(e,t)}))},hide:function(){if(this.parts.dialog.isVisible()){this.fire("hide",{}),this._.editor.fire("dialogHide",this),this.selectPage(this._.tabIdList[0]);var t=this._.element;for(t.setStyle("display","none"),this.parts.dialog.setStyle("visibility","hidden"),function(t){for(var e in q){for(var n=q[e],a=n.length-1;0<=a;a--)n[a].dialog!=t&&n[a].uiElement!=t||n.splice(a,1);0===n.length&&delete q[e]}}(this);CKEDITOR.dialog._.currentTop!=this;)CKEDITOR.dialog._.currentTop.hide();if(this._.parentDialog){var e=this._.parentDialog.getElement().getFirst(),n=parseInt(e.$.style.zIndex,10)+Math.floor(this._.editor.config.baseFloatZIndex/2);this._.parentDialog.getElement().setStyle("z-index",n),e.setStyle("z-index",n)}else f(this._.editor);if(CKEDITOR.dialog._.currentTop=this._.parentDialog)CKEDITOR.dialog._.currentZIndex-=10;else{CKEDITOR.dialog._.currentZIndex=null,t.removeListener("keydown",p),t.removeListener("keyup",g);var a=this._.editor;a.focus(),setTimeout((function(){a.focusManager.unlock(),CKEDITOR.env.iOS&&a.window.focus()}),0)}delete this._.parentDialog,this.foreach((function(t){t.resetInitValue&&t.resetInitValue()})),this.setState(CKEDITOR.DIALOG_STATE_IDLE)}},addPage:function(t){if(!t.requiredContent||this._.editor.filter.check(t.requiredContent)){for(var e=[],n=t.label?' title="'+CKEDITOR.tools.htmlEncode(t.label)+'"':"",a=CKEDITOR.dialog._.uiElementBuilders.vbox.build(this,{type:"vbox",className:"cke_dialog_page_contents",children:t.elements,expand:!!t.expand,padding:t.padding,style:t.style||"width: 100%;"},e),o=this._.contents[t.id]={},i=a.getChild(),r=0;a=i.shift();)a.notAllowed||"hbox"==a.type||"vbox"==a.type||r++,o[a.id]=a,"function"==typeof a.getChild&&i.push.apply(i,a.getChild());r||(t.hidden=!0),(e=CKEDITOR.dom.element.createFromHtml(e.join(""))).setAttribute("role","tabpanel"),e.setStyle("min-height","100%"),a=CKEDITOR.env,o="cke_"+t.id+"_"+CKEDITOR.tools.getNextNumber(),n=CKEDITOR.dom.element.createFromHtml(['<a class="cke_dialog_tab"',0<this._.pageCount?" cke_last":"cke_first",n,t.hidden?' style="display:none"':"",' id="',o,'"',a.gecko&&!a.hc?"":' href="javascript:void(0)"',' tabIndex="-1" hidefocus="true" role="tab">',t.label,"</a>"].join("")),e.setAttribute("aria-labelledby",o),this._.tabs[t.id]=[n,e],this._.tabIdList.push(t.id),!t.hidden&&this._.pageCount++,this._.lastTab=n,this.updateStyle(),e.setAttribute("name",t.id),e.appendTo(this.parts.contents),n.unselectable(),this.parts.tabs.append(n),t.accessKey&&(v(this,this,"CTRL+"+t.accessKey,b,x),this._.accessKeyMap["CTRL+"+t.accessKey]=t.id)}},selectPage:function(t){if(this._.currentTabId!=t&&!this._.tabs[t][0].hasClass("cke_dialog_tab_disabled")&&!1!==this.fire("selectPage",{page:t,currentPage:this._.currentTabId})){for(var e in this._.tabs){var n=this._.tabs[e][0],o=this._.tabs[e][1];e!=t&&(n.removeClass("cke_dialog_tab_selected"),n.removeAttribute("aria-selected"),o.hide()),o.setAttribute("aria-hidden",e!=t)}var i=this._.tabs[t];i[0].addClass("cke_dialog_tab_selected"),i[0].setAttribute("aria-selected",!0),CKEDITOR.env.ie6Compat||CKEDITOR.env.ie7Compat?(a(i[1]),i[1].show(),setTimeout((function(){a(i[1],1)}),0)):i[1].show(),this._.currentTabId=t,this._.currentTabIndex=CKEDITOR.tools.indexOf(this._.tabIdList,t)}},updateStyle:function(){this.parts.dialog[(1===this._.pageCount?"add":"remove")+"Class"]("cke_single_page")},hidePage:function(t){var n=this._.tabs[t]&&this._.tabs[t][0];n&&1!=this._.pageCount&&n.isVisible()&&(t==this._.currentTabId&&this.selectPage(e.call(this)),n.hide(),this._.pageCount--,this.updateStyle())},showPage:function(t){(t=this._.tabs[t]&&this._.tabs[t][0])&&(t.show(),this._.pageCount++,this.updateStyle())},getElement:function(){return this._.element},getName:function(){return this._.name},getContentElement:function(t,e){var n=this._.contents[t];return n&&n[e]},getValueOf:function(t,e){return this.getContentElement(t,e).getValue()},setValueOf:function(t,e,n){return this.getContentElement(t,e).setValue(n)},getButton:function(t){return this._.buttons[t]},click:function(t){return this._.buttons[t].click()},disableButton:function(t){return this._.buttons[t].disable()},enableButton:function(t){return this._.buttons[t].enable()},getPageCount:function(){return this._.pageCount},getParentEditor:function(){return this._.editor},getSelectedElement:function(){return this.getParentEditor().getSelection().getSelectedElement()},addFocusable:function(t,e){if(void 0===e)e=this._.focusList.length,this._.focusList.push(new s(this,t,e));else{this._.focusList.splice(e,0,new s(this,t,e));for(var n=e+1;n<this._.focusList.length;n++)this._.focusList[n].focusIndex++}},setState:function(t){if(this.state!=t){if(this.state=t,t==CKEDITOR.DIALOG_STATE_BUSY){if(!this.parts.spinner){var e=this.getParentEditor().lang.dir,n={attributes:{class:"cke_dialog_spinner"},styles:{float:"rtl"==e?"right":"left"}};n.styles["margin-"+("rtl"==e?"left":"right")]="8px",this.parts.spinner=CKEDITOR.document.createElement("div",n),this.parts.spinner.setHtml("&#8987;"),this.parts.spinner.appendTo(this.parts.title,1)}this.parts.spinner.show(),this.getButton("ok")&&this.getButton("ok").disable()}else t==CKEDITOR.DIALOG_STATE_IDLE&&(this.parts.spinner&&this.parts.spinner.hide(),this.getButton("ok")&&this.getButton("ok").enable());this.fire("state",t)}},getModel:function(t){return this._.model?this._.model:this.definition.getModel?this.definition.getModel(t):null},setModel:function(t){this._.model=t},getMode:function(t){return this.definition.getMode?this.definition.getMode(t):!(t=this.getModel(t))||t instanceof CKEDITOR.dom.element&&!t.getParent()?CKEDITOR.dialog.CREATION_MODE:CKEDITOR.dialog.EDITING_MODE}},CKEDITOR.tools.extend(CKEDITOR.dialog,{CREATION_MODE:0,EDITING_MODE:1,add:function(t,e){this._.dialogDefinitions[t]&&"function"!=typeof e||(this._.dialogDefinitions[t]=e)},exists:function(t){return!!this._.dialogDefinitions[t]},getCurrent:function(){return CKEDITOR.dialog._.currentTop},isTabEnabled:function(t,e,n){return!((t=t.config.removeDialogTabs)&&t.match(new RegExp("(?:^|;)"+e+":"+n+"(?:$|;)","i")))},okButton:function(){var t=function(t,e){return e=e||{},CKEDITOR.tools.extend({id:"ok",type:"button",label:t.lang.common.ok,class:"cke_dialog_ui_button_ok",onClick:function(t){!1!==(t=t.data.dialog).fire("ok",{hide:!0}).hide&&t.hide()}},e,!0)};return t.type="button",t.override=function(e){return CKEDITOR.tools.extend((function(n){return t(n,e)}),{type:"button"},!0)},t}(),cancelButton:function(){var t=function(t,e){return e=e||{},CKEDITOR.tools.extend({id:"cancel",type:"button",label:t.lang.common.cancel,class:"cke_dialog_ui_button_cancel",onClick:function(t){!1!==(t=t.data.dialog).fire("cancel",{hide:!0}).hide&&t.hide()}},e,!0)};return t.type="button",t.override=function(e){return CKEDITOR.tools.extend((function(n){return t(n,e)}),{type:"button"},!0)},t}(),addUIElement:function(t,e){this._.uiElementBuilders[t]=e}}),CKEDITOR.dialog._={uiElementBuilders:{},dialogDefinitions:{},currentTop:null,currentZIndex:null},CKEDITOR.event.implementOn(CKEDITOR.dialog),CKEDITOR.event.implementOn(CKEDITOR.dialog.prototype),E={resizable:CKEDITOR.DIALOG_RESIZE_BOTH,minWidth:600,minHeight:400,buttons:[CKEDITOR.dialog.okButton,CKEDITOR.dialog.cancelButton]};var _=function(t,e,n){for(var a,o=0;a=t[o];o++)if(a.id==e||n&&a[n]&&(a=_(a[n],e,n)))return a;return null},w=function(t,e,n,a,o){if(n){for(var i,r=0;i=t[r];r++){if(i.id==n)return t.splice(r,0,e),e;if(a&&i[a]&&(i=w(i[a],e,n,a,!0)))return i}if(o)return null}return t.push(e),e},O=function(t,e,n){for(var a,o=0;a=t[o];o++){if(a.id==e)return t.splice(o,1);if(n&&a[n]&&(a=O(a[n],e,n)))return a}return null};l.prototype={getContents:function(t){return _(this.contents,t)},getButton:function(t){return _(this.buttons,t)},addContents:function(t,e){return w(this.contents,t,e)},addButton:function(t,e){return w(this.buttons,t,e)},removeContents:function(t){O(this.contents,t)},removeButton:function(t){O(this.buttons,t)}},d.prototype={get:function(t){return _(this.elements,t,"children")},add:function(t,e){return w(this.elements,t,e,"children")},remove:function(t){O(this.elements,t,"children")}};var R={},q={};CKEDITOR.ui.dialog={uiElement:function(t,e,n,a,o,i,r){if(!(4>arguments.length)){var s=(a.call?a(e):a)||"div",l=["<",s," "],d=(o&&o.call?o(e):o)||{},u=(i&&i.call?i(e):i)||{},c=(r&&r.call?r.call(this,t,e):r)||"",m=this.domId=u.id||CKEDITOR.tools.getNextId()+"_uiElement";e.requiredContent&&!t.getParentEditor().filter.check(e.requiredContent)&&(d.display="none",this.notAllowed=!0),u.id=m;var h={};e.type&&(h["cke_dialog_ui_"+e.type]=1),e.className&&(h[e.className]=1),e.disabled&&(h.cke_disabled=1);var f=u.class&&u.class.split?u.class.split(" "):[];for(m=0;m<f.length;m++)f[m]&&(h[f[m]]=1);for(m in f=[],h)f.push(m);for(m in u.class=f.join(" "),e.title&&(u.title=e.title),h=(e.style||"").split(";"),e.align&&(f=e.align,d["margin-left"]="left"==f?0:"auto",d["margin-right"]="right"==f?0:"auto"),d)h.push(m+":"+d[m]);for(e.hidden&&h.push("display:none"),m=h.length-1;0<=m;m--)""===h[m]&&h.splice(m,1);for(m in 0<h.length&&(u.style=(u.style?u.style+"; ":"")+h.join("; ")),u)l.push(m+'="'+CKEDITOR.tools.htmlEncode(u[m])+'" ');l.push(">",c,"</",s,">"),n.push(l.join("")),(this._||(this._={})).dialog=t,"boolean"==typeof e.isChanged&&(this.isChanged=function(){return e.isChanged}),"function"==typeof e.isChanged&&(this.isChanged=e.isChanged),"function"==typeof e.setValue&&(this.setValue=CKEDITOR.tools.override(this.setValue,(function(t){return function(n){t.call(this,e.setValue.call(this,n))}}))),"function"==typeof e.getValue&&(this.getValue=CKEDITOR.tools.override(this.getValue,(function(t){return function(){return e.getValue.call(this,t.call(this))}}))),CKEDITOR.event.implementOn(this),this.registerEvents(e),this.accessKeyUp&&this.accessKeyDown&&e.accessKey&&v(this,t,"CTRL+"+e.accessKey);var p=this;t.on("load",(function(){var e=p.getInputElement();if(e){var n=p.type in{checkbox:1,ratio:1}&&CKEDITOR.env.ie&&8>CKEDITOR.env.version?"cke_dialog_ui_focused":"";e.on("focus",(function(){t._.tabBarMode=!1,t._.hasFocus=!0,p.fire("focus"),n&&this.addClass(n)})),e.on("blur",(function(){p.fire("blur"),n&&this.removeClass(n)}))}})),CKEDITOR.tools.extend(this,e),this.keyboardFocusable&&(this.tabIndex=e.tabIndex||0,this.focusIndex=t._.focusList.push(this)-1,this.on("focus",(function(){t._.currentFocusIndex=p.focusIndex})))}},hbox:function(t,e,n,a,o){if(!(4>arguments.length)){this._||(this._={});var i,r=this._.children=e,s=o&&o.widths||null,l=o&&o.height||null,d={role:"presentation"};o&&o.align&&(d.align=o.align),CKEDITOR.ui.dialog.uiElement.call(this,t,o||{type:"hbox"},a,"table",{},d,(function(){var t=['<tbody><tr class="cke_dialog_ui_hbox">'];for(i=0;i<n.length;i++){var e="cke_dialog_ui_hbox_child",a=[];0===i&&(e="cke_dialog_ui_hbox_first"),i==n.length-1&&(e="cke_dialog_ui_hbox_last"),t.push('<td class="',e,'" role="presentation" '),s?s[i]&&a.push("width:"+C(s[i])):a.push("width:"+Math.floor(100/n.length)+"%"),l&&a.push("height:"+C(l)),o&&void 0!==o.padding&&a.push("padding:"+C(o.padding)),CKEDITOR.env.ie&&CKEDITOR.env.quirks&&r[i].align&&a.push("text-align:"+r[i].align),0<a.length&&t.push('style="'+a.join("; ")+'" '),t.push(">",n[i],"</td>")}return t.push("</tr></tbody>"),t.join("")}))}},vbox:function(t,e,n,a,o){if(!(3>arguments.length)){this._||(this._={});var i=this._.children=e,r=o&&o.width||null,s=o&&o.heights||null;CKEDITOR.ui.dialog.uiElement.call(this,t,o||{type:"vbox"},a,"div",null,{role:"presentation"},(function(){var e=['<table role="presentation" cellspacing="0" border="0" '];e.push('style="'),o&&o.expand&&e.push("height:100%;"),e.push("width:"+C(r||"100%"),";"),CKEDITOR.env.webkit&&e.push("float:none;"),e.push('"'),e.push('align="',CKEDITOR.tools.htmlEncode(o&&o.align||("ltr"==t.getParentEditor().lang.dir?"left":"right")),'" '),e.push("><tbody>");for(var a=0;a<n.length;a++){var l=[];e.push('<tr><td role="presentation" '),r&&l.push("width:"+C(r||"100%")),s?l.push("height:"+C(s[a])):o&&o.expand&&l.push("height:"+Math.floor(100/n.length)+"%"),o&&void 0!==o.padding&&l.push("padding:"+C(o.padding)),CKEDITOR.env.ie&&CKEDITOR.env.quirks&&i[a].align&&l.push("text-align:"+i[a].align),0<l.length&&e.push('style="',l.join("; "),'" '),e.push(' class="cke_dialog_ui_vbox_child">',n[a],"</td></tr>")}return e.push("</tbody></table>"),e.join("")}))}}},CKEDITOR.ui.dialog.uiElement.prototype={getElement:function(){return CKEDITOR.document.getById(this.domId)},getInputElement:function(){return this.getElement()},getDialog:function(){return this._.dialog},setValue:function(t,e){return this.getInputElement().setValue(t),!e&&this.fire("change",{value:t}),this},getValue:function(){return this.getInputElement().getValue()},isChanged:function(){return!1},selectParentTab:function(){for(var t=this.getInputElement();(t=t.getParent())&&-1==t.$.className.search("cke_dialog_page_contents"););return t?(t=t.getAttribute("name"),this._.dialog._.currentTabId!=t&&this._.dialog.selectPage(t),this):this},focus:function(){return this.selectParentTab().getInputElement().focus(),this},registerEvents:function(t){var e,n,a=/^on([A-Z]\w+)/,o=function(t,e,n,a){e.on("load",(function(){t.getInputElement().on(n,a,t)}))};for(n in t)(e=n.match(a))&&(this.eventProcessors[n]?this.eventProcessors[n].call(this,this._.dialog,t[n]):o(this,this._.dialog,e[1].toLowerCase(),t[n]));return this},eventProcessors:{onLoad:function(t,e){t.on("load",e,this)},onShow:function(t,e){t.on("show",e,this)},onHide:function(t,e){t.on("hide",e,this)}},accessKeyDown:function(){this.focus()},accessKeyUp:function(){},disable:function(){var t=this.getElement();this.getInputElement().setAttribute("disabled","true"),t.addClass("cke_disabled")},enable:function(){var t=this.getElement();this.getInputElement().removeAttribute("disabled"),t.removeClass("cke_disabled")},isEnabled:function(){return!this.getElement().hasClass("cke_disabled")},isVisible:function(){return this.getInputElement().isVisible()},isFocusable:function(){return!(!this.isEnabled()||!this.isVisible())}},CKEDITOR.ui.dialog.hbox.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{getChild:function(t){return 1>arguments.length?this._.children.concat():(t.splice||(t=[t]),2>t.length?this._.children[t[0]]:this._.children[t[0]]&&this._.children[t[0]].getChild?this._.children[t[0]].getChild(t.slice(1,t.length)):null)}},!0),CKEDITOR.ui.dialog.vbox.prototype=new CKEDITOR.ui.dialog.hbox,function(){var t={build:function(t,e,n){for(var a,o=e.children,i=[],r=[],s=0;s<o.length&&(a=o[s]);s++){var l=[];i.push(l),r.push(CKEDITOR.dialog._.uiElementBuilders[a.type].build(t,a,l))}return new CKEDITOR.ui.dialog[e.type](t,r,i,n,e)}};CKEDITOR.dialog.addUIElement("hbox",t),CKEDITOR.dialog.addUIElement("vbox",t)}(),CKEDITOR.dialogCommand=function(t,e){this.dialogName=t,CKEDITOR.tools.extend(this,e,!0)},CKEDITOR.dialogCommand.prototype={exec:function(t){var e=this.tabId;t.openDialog(this.dialogName,(function(t){e&&t.selectPage(e)}))},canUndo:!1,editorFocus:1},function(){var t=/^\d*$/,e=/^\d*(?:\.\d+)?$/,n=/^(((\d*(\.\d+))|(\d*))(px|\%)?)?$/,a=/^(((\d*(\.\d+))|(\d*))(px|em|ex|in|cm|mm|pt|pc|\%)?)?$/i,o=/^(--|-?([a-zA-Z_]|\\))(\\|[a-zA-Z0-9-_])*\s*?:\s*?[^:;]+$/;CKEDITOR.VALIDATE_OR=1,CKEDITOR.VALIDATE_AND=2,CKEDITOR.dialog.validate={functions:function(){var t=arguments;return function(e){this&&this.getValue&&(e=this.getValue());var n,a,o=CKEDITOR.VALIDATE_AND,i=[];for(a=0;a<t.length&&"function"==typeof t[a];a++)i.push(t[a]);a<t.length&&"string"==typeof t[a]&&(n=t[a],a++),a<t.length&&"number"==typeof t[a]&&(o=t[a]),a=o==CKEDITOR.VALIDATE_AND;for(var r=0;r<i.length;r++){var s=!0===i[r](e);a=o==CKEDITOR.VALIDATE_AND?a&&s:a||s}return!!a||n}},regex:function(t,e){return this.functions((function(e){return t.test(e)}),e)},notEmpty:function(t){return this.functions((function(t){return 0<t.replace(RegExp("^[\\u0020\\u00a0\\u1680\\u202f\\u205f\\u3000\\u2000-\\u200a\\s]+|[\\u0020\\u00a0\\u1680\\u202f\\u205f\\u3000\\u2000-\\u200a\\s]+$","g"),"").length}),t)},integer:function(e){return this.regex(t,e)},number:function(t){return this.regex(e,t)},cssLength:function(t){return this.functions((function(t){return a.test(CKEDITOR.tools.trim(t))}),t)},htmlLength:function(t){return this.functions((function(t){return n.test(CKEDITOR.tools.trim(t))}),t)},inlineStyle:function(t){return this.functions((function(t){return""===(t=CKEDITOR.tools.trim(t).split(";"))[t.length-1]&&t.pop(),CKEDITOR.tools.array.every(t,(function(t){return o.test(CKEDITOR.tools.trim(t))}))}),t)},equals:function(t,e){return this.functions((function(e){return e==t}),e)},notEqual:function(t,e){return this.functions((function(e){return e!=t}),e)}},CKEDITOR.on("instanceDestroyed",(function(t){if(CKEDITOR.tools.isEmpty(CKEDITOR.instances)){for(var e;e=CKEDITOR.dialog._.currentTop;)e.hide();for(var n in R)R[n].remove();R={}}for(var a in t=t.editor._.storedDialogs)t[a].destroy()}))}(),CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{openDialog:function(t,e,n){var a=null,o=CKEDITOR.dialog._.dialogDefinitions[t];if(null===CKEDITOR.dialog._.currentTop&&h(this),"function"==typeof o)o=this._.storedDialogs||(this._.storedDialogs={}),(a=o[t]||(o[t]=new CKEDITOR.dialog(this,t))).setModel(n),e&&e.call(a,a),a.show();else{if("failed"==o)throw f(this),Error('[CKEDITOR.dialog.openDialog] Dialog "'+t+'" failed when loading definition.');"string"==typeof o&&CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(o),(function(){"function"!=typeof CKEDITOR.dialog._.dialogDefinitions[t]&&(CKEDITOR.dialog._.dialogDefinitions[t]="failed"),this.openDialog(t,e,n)}),this,0,1)}return CKEDITOR.skin.loadPart("dialog"),a&&a.once("hide",(function(){a.setModel(null)}),null,null,999),a}}),CKEDITOR.plugins.add("dialog",{requires:"dialogui",init:function(t){y||(CKEDITOR.document.appendStyleSheet(this.path+"styles/dialog.css"),y=!0),t.on("doubleclick",(function(e){e.data.dialog&&t.openDialog(e.data.dialog)}),null,null,999)}})}(),function(){function t(t,e){CKEDITOR.tools.extend(this,e,{editor:t,id:"cke-"+CKEDITOR.tools.getUniqueId(),area:t._.notificationArea}),e.type||(this.type="info"),this.element=this._createElement(),t.plugins.clipboard&&CKEDITOR.plugins.clipboard.preventDefaultDropOnElement(this.element)}function e(t){var e=this;this.editor=t,this.notifications=[],this.element=this._createElement(),this._uiBuffer=CKEDITOR.tools.eventsBuffer(10,this._layout,this),this._changeBuffer=CKEDITOR.tools.eventsBuffer(500,this._layout,this),t.on("destroy",(function(){e._removeListeners(),e.element.remove()}))}CKEDITOR.plugins.add("notification",{init:function(t){t._.notificationArea=new e(t),t.showNotification=function(e,n,a){var o,i;return"progress"==n?o=a:i=a,(e=new CKEDITOR.plugins.notification(t,{message:e,type:n,progress:o,duration:i})).show(),e},t.on("key",(function(e){if(27==e.data.keyCode){var n=t._.notificationArea.notifications;n.length&&(function(t){var e=new CKEDITOR.dom.element("div");e.setStyles({position:"fixed","margin-left":"-9999px"}),e.setAttributes({"aria-live":"assertive","aria-atomic":"true"}),e.setText(t),CKEDITOR.document.getBody().append(e),setTimeout((function(){e.remove()}),100)}(t.lang.notification.closed),n[n.length-1].hide(),e.cancel())}}))}}),t.prototype={show:function(){!1!==this.editor.fire("notificationShow",{notification:this})&&(this.area.add(this),this._hideAfterTimeout())},update:function(t){var e=!0;!1===this.editor.fire("notificationUpdate",{notification:this,options:t})&&(e=!1);var n=this.element,a=n.findOne(".cke_notification_message"),o=n.findOne(".cke_notification_progress"),i=t.type;n.removeAttribute("role"),t.progress&&"progress"!=this.type&&(i="progress"),i&&(n.removeClass(this._getClass()),n.removeAttribute("aria-label"),this.type=i,n.addClass(this._getClass()),n.setAttribute("aria-label",this.type),"progress"!=this.type||o?"progress"!=this.type&&o&&o.remove():(o=this._createProgressElement()).insertBefore(a)),void 0!==t.message&&(this.message=t.message,a.setHtml(this.message)),void 0!==t.progress&&(this.progress=t.progress,o&&o.setStyle("width",this._getPercentageProgress())),e&&t.important&&(n.setAttribute("role","alert"),this.isVisible()||this.area.add(this)),this.duration=t.duration,this._hideAfterTimeout()},hide:function(){!1!==this.editor.fire("notificationHide",{notification:this})&&this.area.remove(this)},isVisible:function(){return 0<=CKEDITOR.tools.indexOf(this.area.notifications,this)},_createElement:function(){var t,e,n=this,a=this.editor.lang.common.close;return(t=new CKEDITOR.dom.element("div")).addClass("cke_notification"),t.addClass(this._getClass()),t.setAttributes({id:this.id,role:"alert","aria-label":this.type}),"progress"==this.type&&t.append(this._createProgressElement()),(e=new CKEDITOR.dom.element("p")).addClass("cke_notification_message"),e.setHtml(this.message),t.append(e),e=CKEDITOR.dom.element.createFromHtml('<a class="cke_notification_close" href="javascript:void(0)" title="'+a+'" role="button" tabindex="-1"><span class="cke_label">X</span></a>'),t.append(e),e.on("click",(function(){n.editor.focus(),n.hide()})),t},_getClass:function(){return"progress"==this.type?"cke_notification_info":"cke_notification_"+this.type},_createProgressElement:function(){var t=new CKEDITOR.dom.element("span");return t.addClass("cke_notification_progress"),t.setStyle("width",this._getPercentageProgress()),t},_getPercentageProgress:function(){return Math.round(100*(this.progress||0))+"%"},_hideAfterTimeout:function(){var t,e=this;this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),"number"==typeof this.duration?t=this.duration:"info"!=this.type&&"success"!=this.type||(t="number"==typeof this.editor.config.notification_duration?this.editor.config.notification_duration:5e3),t&&(e._hideTimeoutId=setTimeout((function(){e.hide()}),t))}},e.prototype={add:function(t){this.notifications.push(t),this.element.append(t.element),1==this.element.getChildCount()&&(CKEDITOR.document.getBody().append(this.element),this._attachListeners()),this._layout()},remove:function(t){var e=CKEDITOR.tools.indexOf(this.notifications,t);0>e||(this.notifications.splice(e,1),t.element.remove(),this.element.getChildCount()||(this._removeListeners(),this.element.remove()))},_createElement:function(){var t=this.editor,e=t.config,n=new CKEDITOR.dom.element("div");return n.addClass("cke_notifications_area"),n.setAttribute("id","cke_notifications_area_"+t.name),n.setStyle("z-index",e.baseFloatZIndex-2),n},_attachListeners:function(){var t=CKEDITOR.document.getWindow(),e=this.editor;t.on("scroll",this._uiBuffer.input),t.on("resize",this._uiBuffer.input),e.on("change",this._changeBuffer.input),e.on("floatingSpaceLayout",this._layout,this,null,20),e.on("blur",this._layout,this,null,20)},_removeListeners:function(){var t=CKEDITOR.document.getWindow(),e=this.editor;t.removeListener("scroll",this._uiBuffer.input),t.removeListener("resize",this._uiBuffer.input),e.removeListener("change",this._changeBuffer.input),e.removeListener("floatingSpaceLayout",this._layout),e.removeListener("blur",this._layout)},_layout:function(){function t(){o.setStyle("left",p(g+r.width-d-u))}var e,n,a,o=this.element,i=this.editor,r=i.ui.contentsElement.getClientRect(),s=i.ui.contentsElement.getDocumentPosition(),l=o.getClientRect(),d=this._notificationWidth,u=this._notificationMargin,c=(a=CKEDITOR.document.getWindow()).getScrollPosition(),m=a.getViewPaneSize(),h=CKEDITOR.document.getBody(),f=h.getDocumentPosition(),p=CKEDITOR.tools.cssLength;d&&u||(a=this.element.getChild(0),d=this._notificationWidth=a.getClientRect().width,u=this._notificationMargin=parseInt(a.getComputedStyle("margin-left"),10)+parseInt(a.getComputedStyle("margin-right"),10)),i.toolbar&&(n=(e=i.ui.space(i.config.toolbarLocation)).getClientRect()),e&&e.isVisible()&&n.bottom>r.top&&n.bottom<r.bottom-l.height?o.setStyles({position:"fixed",top:p(n.bottom)}):0<r.top?o.setStyles({position:"absolute",top:p(s.y)}):s.y+r.height-l.height>c.y?o.setStyles({position:"fixed",top:0}):o.setStyles({position:"absolute",top:p(s.y+r.height-l.height)});var g="fixed"==o.getStyle("position")?r.left:"static"!=h.getComputedStyle("position")?s.x-f.x:s.x;r.width<d+u?s.x+d+u>c.x+m.width?t():o.setStyle("left",p(g)):s.x+d+u>c.x+m.width?o.setStyle("left",p(g)):s.x+r.width/2+d/2+u>c.x+m.width?o.setStyle("left",p(g-s.x+c.x+m.width-d-u)):0>r.left+r.width-d-u?t():0>r.left+r.width/2-d/2?o.setStyle("left",p(g-s.x+c.x)):o.setStyle("left",p(g+r.width/2-d/2-u/2))}},CKEDITOR.plugins.notification=t}(),function(){var t='<a id="{id}" class="cke_button cke_button__{name} cke_button_{state} {cls}"'+(CKEDITOR.env.gecko&&!CKEDITOR.env.hc?"":" href=\"javascript:void('{titleJs}')\"")+' title="{title}" tabindex="-1" hidefocus="true" role="button" aria-labelledby="{id}_label" aria-describedby="{id}_description" aria-haspopup="{hasArrow}" aria-disabled="{ariaDisabled}"{hasArrowAriaHtml}{toggleAriaHtml}';CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(t+=' onkeypress="return false;"'),CKEDITOR.env.gecko&&(t+=' onblur="this.style.cssText = this.style.cssText;"');var e="";CKEDITOR.env.ie&&(e='return false;" onmouseup="CKEDITOR.tools.getMouseButton(event)==CKEDITOR.MOUSE_BUTTON_LEFT&&'),t=t+' onkeydown="return CKEDITOR.tools.callFunction({keydownFn},event);" onfocus="return CKEDITOR.tools.callFunction({focusFn},event);" onclick="'+e+'CKEDITOR.tools.callFunction({clickFn},this);return false;"><span class="cke_button_icon cke_button__{iconName}_icon" style="{style}">&nbsp;</span><span id="{id}_label" class="cke_button_label cke_button__{name}_label" aria-hidden="false">{label}</span><span id="{id}_description" class="cke_button_label" aria-hidden="false">{ariaShortcutSpace}{ariaShortcut}</span>{arrowHtml}</a>';var n=CKEDITOR.addTemplate("buttonArrow",'<span class="cke_button_arrow">'+(CKEDITOR.env.hc?"&#9660;":"")+"</span>"),a=CKEDITOR.addTemplate("button",t);CKEDITOR.plugins.add("button",{beforeInit:function(t){t.ui.addHandler(CKEDITOR.UI_BUTTON,CKEDITOR.ui.button.handler)}}),CKEDITOR.UI_BUTTON="button",CKEDITOR.ui.button=function(t){CKEDITOR.tools.extend(this,t,{isToggle:t.isToggle||!1,title:t.label,click:t.click||function(e){e.execCommand(t.command)}}),this._={}},CKEDITOR.ui.button.handler={create:function(t){return new CKEDITOR.ui.button(t)}},CKEDITOR.ui.button.prototype={render:function(t,e){function o(){var e=t.mode;e&&(e=this.modes[e]?void 0!==l[e]?l[e]:CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,e=t.readOnly&&!this.readOnly?CKEDITOR.TRISTATE_DISABLED:e,this.setState(e),this.refresh&&this.refresh())}var i,r,s,l=null,d=CKEDITOR.env,u=this._.id=CKEDITOR.tools.getNextId(),c="",m=this.command;this._.editor=t;var h,f={id:u,button:this,editor:t,focus:function(){CKEDITOR.document.getById(u).focus()},execute:function(){this.button.click(t)},attach:function(t){this.button.attach(t)}},p=CKEDITOR.tools.addFunction((function(t){if(f.onkey)return t=new CKEDITOR.dom.event(t),!1!==f.onkey(f,t.getKeystroke())})),g=CKEDITOR.tools.addFunction((function(t){var e;return f.onfocus&&(e=!1!==f.onfocus(f,new CKEDITOR.dom.event(t))),e})),v=0;f.clickFn=i=CKEDITOR.tools.addFunction((function(){v&&(t.unlockSelection(1),v=0),f.execute(),d.iOS&&t.focus()})),this.modes?(l={},t.on("beforeModeUnload",(function(){t.mode&&this._.state!=CKEDITOR.TRISTATE_DISABLED&&(l[t.mode]=this._.state)}),this),t.on("activeFilterChange",o,this),t.on("mode",o,this),!this.readOnly&&t.on("readOnly",o,this)):m&&(m=t.getCommand(m))&&(m.on("state",(function(){this.setState(m.state)}),this),c+=m.state==CKEDITOR.TRISTATE_ON?"on":m.state==CKEDITOR.TRISTATE_DISABLED?"disabled":"off"),this.directional&&t.on("contentDirChanged",(function(e){var n=CKEDITOR.document.getById(this._.id),a=n.getFirst();(e=e.data)!=t.lang.dir?n.addClass("cke_"+e):n.removeClass("cke_ltr").removeClass("cke_rtl"),a.setAttribute("style",CKEDITOR.skin.getIconStyle(h,"rtl"==e,this.icon,this.iconOffset))}),this),m?(r=t.getCommandKeystroke(m))&&(s=CKEDITOR.tools.keystrokeToString(t.lang.common.keyboard,r)):c+="off",r=this.name||this.command;var x=null,b=this.icon;return h=r,this.icon&&!/\./.test(this.icon)?(h=this.icon,b=null):(this.icon&&(x=this.icon),CKEDITOR.env.hidpi&&this.iconHiDpi&&(x=this.iconHiDpi)),x?(CKEDITOR.skin.addIcon(x,x),b=null):x=h,c={id:u,name:r,iconName:h,label:this.label,cls:(this.hasArrow?"cke_button_expandable ":"")+(this.className||""),state:c,ariaDisabled:"disabled"==c?"true":"false",title:this.title+(s?" ("+s.display+")":""),ariaShortcutSpace:s?"&nbsp;":"",ariaShortcut:s?t.lang.common.keyboardShortcut+" "+s.aria:"",titleJs:d.gecko&&!d.hc?"":(this.title||"").replace("'",""),hasArrow:"string"==typeof this.hasArrow&&this.hasArrow||(this.hasArrow?"true":"false"),keydownFn:p,focusFn:g,clickFn:i,style:CKEDITOR.skin.getIconStyle(x,"rtl"==t.lang.dir,b,this.iconOffset),arrowHtml:this.hasArrow?n.output():"",hasArrowAriaHtml:this.hasArrow?' aria-expanded="false"':"",toggleAriaHtml:this.isToggle?'aria-pressed="false"':""},a.output(c,e),this.onRender&&this.onRender(),f},setState:function(t){if(this._.state==t)return!1;this._.state=t;var e=CKEDITOR.document.getById(this._.id);return!!e&&(e.setState(t,"cke_button"),e.setAttribute("aria-disabled",t==CKEDITOR.TRISTATE_DISABLED),this.isToggle&&!this.hasArrow&&e.setAttribute("aria-pressed",t===CKEDITOR.TRISTATE_ON),!0)},getState:function(){return this._.state},toFeature:function(t){if(this._.feature)return this._.feature;var e=this;return this.allowedContent||this.requiredContent||!this.command||(e=t.getCommand(this.command)||e),this._.feature=e}},CKEDITOR.ui.prototype.addButton=function(t,e){this.add(t,CKEDITOR.UI_BUTTON,e)}}(),function(){function t(t){function n(e,n){if(n.length){e.items?e.items.push(t.ui.create("-")):e.items=[];for(var o;o=n.shift();)o="string"==typeof o?o:o.name,a&&-1!=CKEDITOR.tools.indexOf(a,o)||(o=t.ui.create(o))&&t.addFeature(o)&&e.items.push(o)}}var a=function(t){return t&&"string"==typeof t?t.split(","):t}(t.config.removeButtons),o=t.config.toolbar;return"string"==typeof o&&(o=t.config["toolbar_"+o]),t.toolbar=o?function(t){var e,a,o,i=[];for(e=0;e<t.length;++e)o={},"/"==(a=t[e])?i.push(a):CKEDITOR.tools.isArray(a)?(n(o,CKEDITOR.tools.clone(a)),i.push(o)):a.items&&(n(o,CKEDITOR.tools.clone(a.items)),o.name=a.name,i.push(o));return i}(o):function(){for(var a=function(){var e,n,a,o={};for(e in t.ui.items)n=(a=(a=(n=t.ui.items[e]).toolbar||"others").split(","))[0],a=parseInt(a[1]||-1,10),o[n]||(o[n]=[]),o[n].push({name:e,order:a});for(n in o)o[n]=o[n].sort((function(t,e){return t.order==e.order?0:0>e.order?-1:0>t.order?1:t.order<e.order?-1:1}));return o}(),o=CKEDITOR.tools.clone(t.config.toolbarGroups)||e(t),i=0;i<o.length;i++){var r=o[i];if("/"!=r){"string"==typeof r&&(r=o[i]={name:r});var s,l=r.groups;if(l)for(var d=0;d<l.length;d++)(s=a[s=l[d]])&&n(r,s);(s=a[r.name])&&n(r,s)}}return o}()}function e(t){return t._.toolbarGroups||(t._.toolbarGroups=[{name:"document",groups:["mode","document","doctools"]},{name:"clipboard",groups:["clipboard","undo"]},{name:"editing",groups:["find","selection","spellchecker"]},{name:"forms"},"/",{name:"basicstyles",groups:["basicstyles","cleanup"]},{name:"paragraph",groups:["list","indent","blocks","align","bidi"]},{name:"links"},{name:"insert"},"/",{name:"styles"},{name:"colors"},{name:"tools"},{name:"others"},{name:"about"}])}var n=function(){this.toolbars=[]};n.prototype.focus=function(){for(var t,e=0;t=this.toolbars[e++];)for(var n,a=0;n=t.items[a++];)if(n.focus)return void n.focus()};var a={modes:{wysiwyg:1,source:1},readOnly:1,exec:function(t){t.toolbox&&(CKEDITOR.env.ie||CKEDITOR.env.air?setTimeout((function(){t.toolbox.focus()}),100):t.toolbox.focus())}};CKEDITOR.plugins.add("toolbar",{requires:"button",init:function(e){var o,i=function(t,n){var a,r=(s="rtl"==e.lang.dir)?37:39,s=s?39:37,l=void 0===(l=e.config.toolbarGroupCycling)||l;switch(n){case 9:case CKEDITOR.SHIFT+9:for(;!a||!a.items.length;)if((a=9==n?(a?a.next:t.toolbar.next)||e.toolbox.toolbars[0]:(a?a.previous:t.toolbar.previous)||e.toolbox.toolbars[e.toolbox.toolbars.length-1]).items.length)for(t=a.items[o?a.items.length-1:0];t&&!t.focus;)(t=o?t.previous:t.next)||(a=0);return t&&t.focus(),!1;case r:a=t;do{!(a=a.next)&&l&&(a=t.toolbar.items[0])}while(a&&!a.focus);return a?a.focus():i(t,9),!1;case 40:return t.button&&t.button.hasArrow?t.execute():i(t,40==n?r:s),!1;case s:case 38:a=t;do{!(a=a.previous)&&l&&(a=t.toolbar.items[t.toolbar.items.length-1])}while(a&&!a.focus);return a?a.focus():(o=1,i(t,CKEDITOR.SHIFT+9),o=0),!1;case 27:return e.focus(),!1;case 13:case 32:return t.execute(),!1;case CKEDITOR.ALT+122:return e.execCommand("elementsPathFocus"),!1}return!0};e.on("uiSpace",(function(a){if(a.data.space==e.config.toolbarLocation){a.removeListener(),e.toolbox=new n;var o,r,s=['<span id="',l=CKEDITOR.tools.getNextId(),'" class="cke_voice_label">',e.lang.toolbar.toolbars,"</span>",'<span id="'+e.ui.spaceId("toolbox")+'" class="cke_toolbox" role="group" aria-labelledby="',l,'" onmousedown="return false;">'],l=!1!==e.config.toolbarStartupExpanded;e.config.toolbarCanCollapse&&e.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE&&s.push('<span class="cke_toolbox_main"'+(l?">":' style="display:none">'));for(var d=e.toolbox.toolbars,u=t(e),c=u.length,m=0;m<c;m++){var h,f,p,g=0,v=u[m],x="/"!==v&&("/"===u[m+1]||m==c-1);if(v)if(o&&(s.push("</span>"),r=o=0),"/"===v)s.push('<span class="cke_toolbar_break"></span>');else{p=v.items||v;for(var b=0;b<p.length;b++){var E,T=p[b];if(T){var C=function(t){t=t.render(e,s),0<(y=g.items.push(t)-1)&&(t.previous=g.items[y-1],t.previous.next=t),t.toolbar=g,t.onkey=i};if(T.type==CKEDITOR.UI_SEPARATOR)r=o&&T;else{if(E=!1!==T.canGroup,!g){h=CKEDITOR.tools.getNextId(),g={id:h,items:[]},f=v.name&&(e.lang.toolbar.toolbarGroups[v.name]||v.name),s.push('<span id="',h,'" class="cke_toolbar'+(x?' cke_toolbar_last"':'"'),f?' aria-labelledby="'+h+'_label"':"",' role="toolbar">'),f&&s.push('<span id="',h,'_label" class="cke_voice_label">',f,"</span>"),s.push('<span class="cke_toolbar_start"></span>');var y=d.push(g)-1;0<y&&(g.previous=d[y-1],g.previous.next=g)}E?o||(s.push('<span class="cke_toolgroup" role="presentation">'),o=1):o&&(s.push("</span>"),o=0),r&&(C(r),r=0),C(T)}}}o&&(s.push("</span>"),r=o=0),g&&s.push('<span class="cke_toolbar_end"></span></span>')}}if(e.config.toolbarCanCollapse&&s.push("</span>"),e.config.toolbarCanCollapse&&e.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE){var I=CKEDITOR.tools.addFunction((function(){e.execCommand("toolbarCollapse")}));e.on("destroy",(function(){CKEDITOR.tools.removeFunction(I)})),e.addCommand("toolbarCollapse",{readOnly:1,exec:function(t){var e=t.ui.space("toolbar_collapser"),n=e.getPrevious(),a=t.ui.space("contents"),o=n.getParent(),i=parseInt(a.$.style.height,10),r=o.$.offsetHeight,s=e.hasClass("cke_toolbox_collapser_min");s?(n.show(),e.removeClass("cke_toolbox_collapser_min"),e.setAttribute("title",t.lang.toolbar.toolbarCollapse)):(n.hide(),e.addClass("cke_toolbox_collapser_min"),e.setAttribute("title",t.lang.toolbar.toolbarExpand)),e.getFirst().setText(s?"▲":"◀"),a.setStyle("height",i-(o.$.offsetHeight-r)+"px"),t.fire("resize",{outerHeight:t.container.$.offsetHeight,contentsHeight:a.$.offsetHeight,outerWidth:t.container.$.offsetWidth})},modes:{wysiwyg:1,source:1}}),e.setKeystroke(CKEDITOR.ALT+(CKEDITOR.env.ie||CKEDITOR.env.webkit?189:109),"toolbarCollapse"),s.push('<a title="'+(l?e.lang.toolbar.toolbarCollapse:e.lang.toolbar.toolbarExpand)+'" id="'+e.ui.spaceId("toolbar_collapser")+'" tabIndex="-1" class="cke_toolbox_collapser'),l||s.push(" cke_toolbox_collapser_min"),s.push('" onclick="CKEDITOR.tools.callFunction('+I+')">','<span class="cke_arrow">&#9650;</span>',"</a>")}s.push("</span>"),a.data.html+=s.join("")}})),e.on("destroy",(function(){if(this.toolbox){var t,e,n,a,o=0;for(t=this.toolbox.toolbars;o<t.length;o++)for(n=t[o].items,e=0;e<n.length;e++)(a=n[e]).clickFn&&CKEDITOR.tools.removeFunction(a.clickFn),a.keyDownFn&&CKEDITOR.tools.removeFunction(a.keyDownFn)}})),e.on("uiReady",(function(){var t=e.ui.space("toolbox");t&&e.focusManager.add(t,1)})),e.addCommand("toolbarFocus",a),e.setKeystroke(CKEDITOR.ALT+121,"toolbarFocus"),e.ui.add("-",CKEDITOR.UI_SEPARATOR,{}),e.ui.addHandler(CKEDITOR.UI_SEPARATOR,{create:function(){return{render:function(t,e){return e.push('<span class="cke_toolbar_separator" role="separator"></span>'),{}}}}})}}),CKEDITOR.ui.prototype.addToolbarGroup=function(t,n,a){var o=e(this.editor),i=0===n,r={name:t};if(a){if(a=CKEDITOR.tools.search(o,(function(t){return t.name==a})))return!a.groups&&(a.groups=[]),n&&0<=(n=CKEDITOR.tools.indexOf(a.groups,n))?void a.groups.splice(n+1,0,t):void(i?a.groups.splice(0,0,t):a.groups.push(t));n=null}n&&(n=CKEDITOR.tools.indexOf(o,(function(t){return t.name==n}))),i?o.splice(0,0,t):"number"==typeof n?o.splice(n+1,0,r):o.push(t)}}(),CKEDITOR.UI_SEPARATOR="separator",CKEDITOR.config.toolbarLocation="top",function(){function t(t,e,n){return e.type||(e.type="auto"),!(n&&!1===t.fire("beforePaste",e)||!e.dataValue&&e.dataTransfer.isEmpty())&&(e.dataValue||(e.dataValue=""),CKEDITOR.env.gecko&&"drop"==e.method&&t.toolbox&&t.once("afterPaste",(function(){t.toolbox.focus(),t.focus()})),t.fire("paste",e))}function e(e){function n(){var t,n=e.editable();if(CKEDITOR.plugins.clipboard.isCustomCopyCutSupported){var a=function(t){e.getSelection().isCollapsed()||(e.readOnly&&"cut"==t.name||f.initPasteDataTransfer(t,e),t.data.preventDefault())};n.on("copy",a),n.on("cut",a),n.on("cut",(function(){e.readOnly||e.extractSelectedHtml()}),null,null,999)}n.on(f.mainPasteEvent,(function(t){"beforepaste"==f.mainPasteEvent&&p||c(t)})),"beforepaste"==f.mainPasteEvent&&(n.on("paste",(function(t){g||(i(),t.data.preventDefault(),c(t),s("paste"))})),n.on("contextmenu",r,null,null,0),n.on("beforepaste",(function(t){!t.data||t.data.$.ctrlKey||t.data.$.shiftKey||r()}),null,null,0)),n.on("beforecut",(function(){!p&&l()})),n.attachListener(CKEDITOR.env.ie?n:e.document.getDocumentElement(),"mouseup",(function(){t=setTimeout(m,0)})),e.on("destroy",(function(){clearTimeout(t)})),n.on("keyup",m)}function a(t){return{type:t,canUndo:"cut"==t,startDisabled:!0,fakeKeystroke:"cut"==t?CKEDITOR.CTRL+88:CKEDITOR.CTRL+67,exec:function(){var t;"cut"==this.type&&l();var n=this.type;if(CKEDITOR.env.ie)t=s(n);else try{t=e.document.$.execCommand(n,!1,null)}catch(e){t=!1}return t||e.showNotification(e.lang.clipboard[this.type+"Error"]),t}}}function o(){return{canUndo:!1,async:!0,fakeKeystroke:CKEDITOR.CTRL+86,exec:function(e,n){function a(n,a){a=void 0===a||a,n?(n.method="paste",n.dataTransfer||(n.dataTransfer=f.initPasteDataTransfer()),t(e,n,a)):i&&!e._.forcePasteDialog&&e.showNotification(l,"info",e.config.clipboard_notificationDuration),e._.forcePasteDialog=!1,e.fire("afterCommandExec",{name:"paste",command:o,returnValue:!!n})}var o=this,i=void 0===(n=null!=n?n:{}).notification||n.notification,r=n.type,s=CKEDITOR.tools.keystrokeToString(e.lang.common.keyboard,e.getCommandKeystroke(this)),l="string"==typeof i?i:e.lang.clipboard.pasteNotification.replace(/%1/,'<kbd aria-label="'+s.aria+'">'+s.display+"</kbd>");s="string"==typeof n?n:n.dataValue,r&&!0!==e.config.forcePasteAsPlainText&&"allow-word"!==e.config.forcePasteAsPlainText?e._.nextPasteType=r:delete e._.nextPasteType,"string"==typeof s?a({dataValue:s}):e.getClipboardData(a)}}}function i(){g=1,setTimeout((function(){g=0}),100)}function r(){p=1,setTimeout((function(){p=0}),10)}function s(t){var n=e.document,a=n.getBody(),o=!1,i=function(){o=!0};return a.on(t,i),7<CKEDITOR.env.version?n.$.execCommand(t):n.$.selection.createRange().execCommand(t),a.removeListener(t,i),o}function l(){if(CKEDITOR.env.ie&&!CKEDITOR.env.quirks){var t,n,a,o=e.getSelection();o.getType()==CKEDITOR.SELECTION_ELEMENT&&(t=o.getSelectedElement())&&(n=o.getRanges()[0],(a=e.document.createText("")).insertBefore(t),n.setStartBefore(a),n.setEndAfter(t),o.selectRanges([n]),setTimeout((function(){t.getParent()&&(a.remove(),o.selectElement(t))}),0))}}function d(){if("paste"==f.mainPasteEvent)return e.fire("beforePaste",{type:"auto",method:"paste"}),!1;e.focus(),i();var t=e.focusManager;return t.lock(),e.editable().fire(f.mainPasteEvent)&&!s("paste")?(t.unlock(),!1):(t.unlock(),!0)}function u(t){if("wysiwyg"==e.mode)switch(t.data.keyCode){case CKEDITOR.CTRL+86:case CKEDITOR.SHIFT+45:t=e.editable(),i(),"paste"==f.mainPasteEvent&&t.fire("beforepaste");break;case CKEDITOR.CTRL+88:case CKEDITOR.SHIFT+46:e.fire("saveSnapshot"),setTimeout((function(){e.fire("saveSnapshot")}),50)}}function c(n){var a={type:"auto",method:"paste",dataTransfer:f.initPasteDataTransfer(n)};a.dataTransfer.cacheData();var o=!1!==e.fire("beforePaste",a);o&&f.canClipboardApiBeTrusted(a.dataTransfer,e)?(n.data.preventDefault(),setTimeout((function(){t(e,a)}),0)):function(t,n){var a,o=e.document,i=e.editable(),r=function(t){t.cancel()};if(!o.getById("cke_pastebin")){var s=e.getSelection(),l=s.createBookmarks();CKEDITOR.env.ie&&s.root.fire("selectionchange");var d=new CKEDITOR.dom.element(!CKEDITOR.env.webkit&&!i.is("body")||CKEDITOR.env.ie?"div":"body",o);d.setAttributes({id:"cke_pastebin","data-cke-temp":"1"});var u=0;o=o.getWindow(),CKEDITOR.env.webkit?(i.append(d),d.addClass("cke_editable"),i.is("body")||(u=(u="static"!=i.getComputedStyle("position")?i:CKEDITOR.dom.element.get(i.$.offsetParent)).getDocumentPosition().y)):i.getAscendant(CKEDITOR.env.ie?"body":"html",1).append(d),d.setStyles({position:"absolute",top:o.getScrollPosition().y-u+10+"px",width:"1px",height:Math.max(1,o.getViewPaneSize().height-20)+"px",overflow:"hidden",margin:0,padding:0}),CKEDITOR.env.safari&&d.setStyles(CKEDITOR.tools.cssVendorPrefix("user-select","text")),(u=d.getParent().isReadOnly())?(d.setOpacity(0),d.setAttribute("contenteditable",!0)):d.setStyle("ltr"==e.config.contentsLangDirection?"left":"right","-10000px"),e.on("selectionChange",r,null,null,0),(CKEDITOR.env.webkit||CKEDITOR.env.gecko)&&(a=i.once("blur",r,null,null,-100)),u&&d.focus(),(u=new CKEDITOR.dom.range(d)).selectNodeContents(d);var c=u.select();CKEDITOR.env.ie&&(a=i.once("blur",(function(){e.lockSelection(c)})));var m=CKEDITOR.document.getWindow().getScrollPosition().y;setTimeout((function(){var t;CKEDITOR.env.webkit&&(CKEDITOR.document.getBody().$.scrollTop=m),a&&a.removeListener(),CKEDITOR.env.ie&&i.focus(),s.selectBookmarks(l),d.remove(),CKEDITOR.env.webkit&&(t=d.getFirst())&&t.is&&t.hasClass("Apple-style-span")&&(d=t),e.removeListener("selectionChange",r),n(d.getHtml())}),0)}}(0,(function(n){a.dataValue=n.replace(/<span[^>]+data-cke-bookmark[^<]*?<\/span>/gi,""),o&&t(e,a)}))}function m(){if("wysiwyg"==e.mode){var t=h("paste");e.getCommand("cut").setState(h("cut")),e.getCommand("copy").setState(h("copy")),e.getCommand("paste").setState(t),e.fire("pasteState",t)}}function h(t){var n=(n=e.getSelection())&&n.getRanges()[0];return(e.readOnly||n&&n.checkReadOnly())&&t in{paste:1,cut:1}?CKEDITOR.TRISTATE_DISABLED:"paste"==t?CKEDITOR.TRISTATE_OFF:(n=(t=e.getSelection()).getRanges(),t.getType()==CKEDITOR.SELECTION_NONE||1==n.length&&n[0].collapsed?CKEDITOR.TRISTATE_DISABLED:CKEDITOR.TRISTATE_OFF)}var f=CKEDITOR.plugins.clipboard,p=0,g=0;!function(){if(e.on("key",u),e.on("contentDom",n),e.on("selectionChange",m),e.contextMenu){e.contextMenu.addListener((function(){return{cut:h("cut"),copy:h("copy"),paste:h("paste")}}));var t=null;e.on("menuShow",(function(){t&&(t.removeListener(),t=null);var n=e.contextMenu.findItemByCommandName("paste");n&&n.element&&(t=n.element.on("touchend",(function(){e._.forcePasteDialog=!0})))}))}e.ui.addButton&&e.once("instanceReady",(function(){e._.pasteButtons&&CKEDITOR.tools.array.forEach(e._.pasteButtons,(function(t){(t=e.ui.get(t))&&(t=CKEDITOR.document.getById(t._.id))&&t.on("touchend",(function(){e._.forcePasteDialog=!0}))}))}))}(),function(){function t(t,n,a,o,i){var r=e.lang.clipboard[n];e.addCommand(n,a),e.ui.addButton&&e.ui.addButton(t,{label:r,command:n,toolbar:"clipboard,"+o}),e.addMenuItems&&e.addMenuItem(n,{label:r,command:n,group:"clipboard",order:i})}t("Cut","cut",a("cut"),10,1),t("Copy","copy",a("copy"),20,4),t("Paste","paste",o(),30,8),e._.pasteButtons||(e._.pasteButtons=[]),e._.pasteButtons.push("Paste")}(),e.getClipboardData=function(t,n){function a(t){t.removeListener(),t.cancel(),n(t.data)}function o(t){t.removeListener(),t.cancel(),n({type:r,dataValue:t.data.dataValue,dataTransfer:t.data.dataTransfer,method:"paste"})}var i=!1,r="auto";n||(n=t,t=null),e.on("beforePaste",(function(t){t.removeListener(),i=!0,r=t.data.type}),null,null,1e3),e.on("paste",a,null,null,0),!1===d()&&(e.removeListener("paste",a),e._.forcePasteDialog&&i&&e.fire("pasteDialog")?(e.on("pasteDialogCommit",o),e.on("dialogHide",(function(t){t.removeListener(),t.data.removeListener("pasteDialogCommit",o),t.data._.committed||n(null)}))):n(null))}}function n(t,e,n){e=CKEDITOR.htmlParser.fragment.fromHtml(e);var a=new CKEDITOR.htmlParser.basicWriter;return n.applyTo(e,!0,!1,t.activeEnterMode),e.writeHtml(a),a.getHtml()}function a(t){t.data.preventDefault(),t.data.$.dataTransfer.dropEffect="none"}function o(e){var n=CKEDITOR.plugins.clipboard;e.on("contentDom",(function(){function a(n,a,o){a.select(),t(e,{dataTransfer:o,method:"drop"},1),o.sourceEditor.fire("saveSnapshot"),o.sourceEditor.editable().extractHtmlFromRange(n),o.sourceEditor.getSelection().selectRanges([n]),o.sourceEditor.fire("saveSnapshot")}function o(a,o){a.select(),t(e,{dataTransfer:o,method:"drop"},1),n.resetDragDataTransfer()}function i(t,n,a){var o={$:t.data.$,target:t.data.getTarget()};n&&(o.dragRange=n),a&&(o.dropRange=a),!1===e.fire(t.name,o)&&t.data.preventDefault()}function r(t){return t.type!=CKEDITOR.NODE_ELEMENT&&(t=t.getParent()),t.getChildCount()}var s=e.editable(),l=CKEDITOR.plugins.clipboard.getDropTarget(e),d=e.ui.space("top"),u=e.ui.space("bottom");n.preventDefaultDropOnElement(d),n.preventDefaultDropOnElement(u),s.attachListener(l,"dragstart",i),s.attachListener(e,"dragstart",n.resetDragDataTransfer,n,null,1),s.attachListener(e,"dragstart",(function(t){n.initDragDataTransfer(t,e)}),null,null,2),s.attachListener(e,"dragstart",(function(){var t=n.dragRange=e.getSelection().getRanges()[0];CKEDITOR.env.ie&&10>CKEDITOR.env.version&&(n.dragStartContainerChildCount=t?r(t.startContainer):null,n.dragEndContainerChildCount=t?r(t.endContainer):null)}),null,null,100),s.attachListener(l,"dragend",i),s.attachListener(e,"dragend",n.initDragDataTransfer,n,null,1),s.attachListener(e,"dragend",n.resetDragDataTransfer,n,null,100),s.attachListener(l,"dragover",(function(t){if(CKEDITOR.env.edge)t.data.preventDefault();else{var e=t.data.getTarget();(e&&e.is&&e.is("html")||CKEDITOR.env.ie&&CKEDITOR.plugins.clipboard.isFileApiSupported&&t.data.$.dataTransfer.types.contains("Files"))&&t.data.preventDefault()}})),s.attachListener(l,"drop",(function(t){if(!t.data.$.defaultPrevented&&(t.data.preventDefault(),!e.readOnly)&&(!(a=t.data.getTarget()).isReadOnly()||a.type==CKEDITOR.NODE_ELEMENT&&a.is("html"))){var a=n.getRangeAtDropPosition(t,e),o=n.dragRange;a&&i(t,o,a)}}),null,null,9999),s.attachListener(e,"drop",n.initDragDataTransfer,n,null,1),s.attachListener(e,"drop",(function(t){if(t=t.data){var i=t.dropRange,r=t.dragRange,s=t.dataTransfer;s.getTransferType(e)==CKEDITOR.DATA_TRANSFER_INTERNAL?setTimeout((function(){n.internalDrop(r,i,s,e)}),0):s.getTransferType(e)==CKEDITOR.DATA_TRANSFER_CROSS_EDITORS?a(r,i,s):o(i,s)}}),null,null,9999)}))}var i;CKEDITOR.plugins.add("clipboard",{requires:"dialog,notification,toolbar",_supportedFileMatchers:[],init:function(t){function a(e){return!!t.config.clipboard_handleImages&&-1!==CKEDITOR.tools.indexOf(["image/png","image/jpeg","image/gif"],e.type)}function i(e){return CKEDITOR.tools.array.some(t.plugins.clipboard._supportedFileMatchers,(function(t){return t(e)}))}function r(e){e.length&&(e=CKEDITOR.tools.array.unique(e),e=CKEDITOR.tools.array.filter(e,(function(t){return!!CKEDITOR.tools.trim(t)})),e=function(e){return e?t.lang.clipboard.fileFormatNotSupportedNotification.replace(/\${formats\}/g,"<em>"+e+"</em>"):t.lang.clipboard.fileWithoutFormatNotSupportedNotification}(e.join(", ")),t.showNotification(e,"info",t.config.clipboard_notificationDuration))}var s,l=function(t){function e(){var t,e={};for(t in CKEDITOR.dtd)"$"!=t.charAt(0)&&"div"!=t&&"span"!=t&&(e[t]=1);return e}var n={};return{get:function(a){return"plain-text"==a?n.plainText||(n.plainText=new CKEDITOR.filter(t,"br")):"semantic-content"==a?((a=n.semanticContent)||((a=new CKEDITOR.filter(t,{})).allow({$1:{elements:e(),attributes:!0,styles:!1,classes:!1}}),a=n.semanticContent=a),a):a?new CKEDITOR.filter(t,a):null}}}(t);t.config.forcePasteAsPlainText?s="plain-text":t.config.pasteFilter?s=t.config.pasteFilter:!CKEDITOR.env.webkit||"pasteFilter"in t.config||(s="semantic-content"),t.pasteFilter=l.get(s),e(t),o(t),CKEDITOR.dialog.add("paste",CKEDITOR.getUrl(this.path+"dialogs/paste.js"));var d,u=CKEDITOR.plugins.clipboard.isCustomDataTypesSupported||CKEDITOR.plugins.clipboard.isFileApiSupported;CKEDITOR.plugins.clipboard.addFileMatcher(t,a),t.on("paste",(function(t){if(u&&(t=(e=t.data).dataTransfer,!e.dataValue)){for(var e=[],n=0;n<t.getFilesCount();n++){var a=t.getFile(n);i(a)||e.push(a.type)}r(e)}}),null,null,1),t.on("paste",(function(e){if(u&&t.config.clipboard_handleImages){var n=e.data,o=n.dataTransfer;if(!n.dataValue&&function(t,e){return!(CKEDITOR.env.ie&&t.data.fileTransferCancel||!(CKEDITOR.env.ie||e&&d!==e.id))&&e.isFileTransfer()&&1===e.getFilesCount()}(e,o)&&a(o=o.getFile(0))){var i=new FileReader;i.addEventListener("load",(function(){e.data.dataValue='<img src="'+i.result+'" />',t.fire("paste",e.data)}),!1),i.addEventListener("abort",(function(){CKEDITOR.env.ie&&(e.data.fileTransferCancel=!0),t.fire("paste",e.data)}),!1),i.addEventListener("error",(function(){CKEDITOR.env.ie&&(e.data.fileTransferCancel=!0),t.fire("paste",e.data)}),!1),i.readAsDataURL(o),d=n.dataTransfer.id,e.stop()}}}),null,null,1),t.on("paste",(function(e){if(e.data.dataTransfer||(e.data.dataTransfer=new CKEDITOR.plugins.clipboard.dataTransfer),!e.data.dataValue){var n=e.data.dataTransfer,a=n.getData("text/html");a?(e.data.dataValue=a,e.data.type="html"):(a=n.getData("text/plain"))&&(e.data.dataValue=t.editable().transformPlainTextToHtml(a),e.data.type="text")}}),null,null,1),t.on("paste",(function(t){var e=t.data.dataValue,n=CKEDITOR.dtd.$block;if(-1<e.indexOf("Apple-")&&(e=e.replace(/<span class="Apple-converted-space">&nbsp;<\/span>/gi," "),"html"!=t.data.type&&(e=e.replace(/<span class="Apple-tab-span"[^>]*>([^<]*)<\/span>/gi,(function(t,e){return e.replace(/\t/g,"&nbsp;&nbsp; &nbsp;")}))),-1<e.indexOf('<br class="Apple-interchange-newline">')&&(t.data.startsWithEOL=1,t.data.preSniffing="html",e=e.replace(/<br class="Apple-interchange-newline">/,"")),e=e.replace(/(<[^>]+) class="Apple-[^"]*"/gi,"$1")),e.match(/^<[^<]+cke_(editable|contents)/i)){var a,o,i=new CKEDITOR.dom.element("div");for(i.setHtml(e);1==i.getChildCount()&&(a=i.getFirst())&&a.type==CKEDITOR.NODE_ELEMENT&&(a.hasClass("cke_editable")||a.hasClass("cke_contents"));)i=o=a;o&&(e=o.getHtml().replace(/<br>$/i,""))}CKEDITOR.env.ie?e=e.replace(/^&nbsp;(?: |\r\n)?<(\w+)/g,(function(e,a){return a.toLowerCase()in n?(t.data.preSniffing="html","<"+a):e})):CKEDITOR.env.webkit?e=e.replace(/<\/(\w+)><div><br><\/div>$/,(function(e,a){return a in n?(t.data.endsWithEOL=1,"</"+a+">"):e})):CKEDITOR.env.gecko&&(e=e.replace(/(\s)<br>$/,"$1")),t.data.dataValue=e}),null,null,3),t.on("paste",(function(e){e=e.data;var a,o=t._.nextPasteType||e.type,i=e.dataValue,r=t.config.clipboard_defaultContentType||"html",s=e.dataTransfer.getTransferType(t)==CKEDITOR.DATA_TRANSFER_EXTERNAL,d=!0===t.config.forcePasteAsPlainText;a="html"==o||"html"==e.preSniffing?"html":function(t){if(CKEDITOR.env.webkit){if(!t.match(/^[^<]*$/g)&&!t.match(/^(<div><br( ?\/)?><\/div>|<div>[^<]*<\/div>)*$/gi))return"html"}else if(CKEDITOR.env.ie){if(!t.match(/^([^<]|<br( ?\/)?>)*$/gi)&&!t.match(/^(<p>([^<]|<br( ?\/)?>)*<\/p>|(\r\n))*$/gi))return"html"}else{if(!CKEDITOR.env.gecko)return"html";if(!t.match(/^([^<]|<br( ?\/)?>)*$/gi))return"html"}return"htmlifiedtext"}(i),delete t._.nextPasteType,"htmlifiedtext"==a&&(i=function(t,e){function n(t){return CKEDITOR.tools.repeat("</p><p>",~~(t/2))+(1==t%2?"<br>":"")}return e=(e=e.replace(/(?!\u3000)\s+/g," ").replace(/> +</g,"><").replace(/<br ?\/>/gi,"<br>")).replace(/<\/?[A-Z]+>/g,(function(t){return t.toLowerCase()})),e.match(/^[^<]$/)?e:(CKEDITOR.env.webkit&&-1<e.indexOf("<div>")&&((e=e.replace(/^(<div>(<br>|)<\/div>)(?!$|(<div>(<br>|)<\/div>))/g,"<br>").replace(/^(<div>(<br>|)<\/div>){2}(?!$)/g,"<div></div>")).match(/<div>(<br>|)<\/div>/)&&(e="<p>"+e.replace(/(<div>(<br>|)<\/div>)+/g,(function(t){return n(t.split("</div><div>").length+1)}))+"</p>"),e=(e=e.replace(/<\/div><div>/g,"<br>")).replace(/<\/?div>/g,"")),CKEDITOR.env.gecko&&t.enterMode!=CKEDITOR.ENTER_BR&&(CKEDITOR.env.gecko&&(e=e.replace(/^<br><br>$/,"<br>")),-1<e.indexOf("<br><br>")&&(e="<p>"+e.replace(/(<br>){2,}/g,(function(t){return n(t.length/4)}))+"</p>")),function(t,e){return t.enterMode==CKEDITOR.ENTER_BR?e=e.replace(/(<\/p><p>)+/g,(function(t){return CKEDITOR.tools.repeat("<br>",t.length/7*2)})).replace(/<\/?p>/g,""):t.enterMode==CKEDITOR.ENTER_DIV&&(e=e.replace(/<(\/)?p>/g,"<$1div>")),e}(t,e))}(t.config,i)),"text"==o&&"html"==a?i=n(t,i,l.get("plain-text")):(s&&t.pasteFilter&&!e.dontFilter||d)&&(i=n(t,i,t.pasteFilter)),e.startsWithEOL&&(i='<br data-cke-eol="1">'+i),e.endsWithEOL&&(i+='<br data-cke-eol="1">'),"auto"==o&&(o="html"==a||"html"==r?"html":"text"),e.type=o,e.dataValue=i,delete e.preSniffing,delete e.startsWithEOL,delete e.endsWithEOL}),null,null,6),t.on("paste",(function(e){(e=e.data).dataValue&&(t.insertHtml(e.dataValue,e.type,e.range),setTimeout((function(){t.fire("afterPaste")}),0))}),null,null,1e3),t.on("pasteDialog",(function(e){setTimeout((function(){t.openDialog("paste",e.data)}),0)}))}}),CKEDITOR.plugins.clipboard={addFileMatcher:function(t,e){t.plugins.clipboard._supportedFileMatchers.push(e)},isCustomCopyCutSupported:!(CKEDITOR.env.ie&&16>CKEDITOR.env.version||CKEDITOR.env.iOS&&605>CKEDITOR.env.version),isCustomDataTypesSupported:!CKEDITOR.env.ie||16<=CKEDITOR.env.version,isFileApiSupported:!CKEDITOR.env.ie||9<CKEDITOR.env.version,mainPasteEvent:CKEDITOR.env.ie&&!CKEDITOR.env.edge?"beforepaste":"paste",addPasteButton:function(t,e,n){t.ui.addButton&&(t.ui.addButton(e,n),t._.pasteButtons||(t._.pasteButtons=[]),t._.pasteButtons.push(e))},canClipboardApiBeTrusted:function(t,e){return!!(t.getTransferType(e)!=CKEDITOR.DATA_TRANSFER_EXTERNAL||CKEDITOR.env.chrome&&!t.isEmpty()||CKEDITOR.env.gecko&&(t.getData("text/html")||t.getFilesCount())||CKEDITOR.env.safari&&603<=CKEDITOR.env.version&&!CKEDITOR.env.iOS||CKEDITOR.env.iOS&&605<=CKEDITOR.env.version||CKEDITOR.env.edge&&16<=CKEDITOR.env.version)},getDropTarget:function(t){var e=t.editable();return CKEDITOR.env.ie&&9>CKEDITOR.env.version||e.isInline()?e:t.document},fixSplitNodesAfterDrop:function(t,e,n,a){function o(t,n,a){var o=t;if(o.type==CKEDITOR.NODE_TEXT&&(o=t.getParent()),o.equals(n)&&a!=n.getChildCount())return t=e.startContainer.getChild(e.startOffset-1),n=e.startContainer.getChild(e.startOffset),t&&t.type==CKEDITOR.NODE_TEXT&&n&&n.type==CKEDITOR.NODE_TEXT&&(a=t.getLength(),t.setText(t.getText()+n.getText()),n.remove(),e.setStart(t,a),e.collapse(!0)),!0}var i=e.startContainer;"number"==typeof a&&"number"==typeof n&&i.type==CKEDITOR.NODE_ELEMENT&&(o(t.startContainer,i,n)||o(t.endContainer,i,a))},isDropRangeAffectedByDragRange:function(t,e){var n=e.startContainer,a=e.endOffset;return!!(t.endContainer.equals(n)&&t.endOffset<=a||t.startContainer.getParent().equals(n)&&t.startContainer.getIndex()<a||t.endContainer.getParent().equals(n)&&t.endContainer.getIndex()<a)},internalDrop:function(e,n,a,o){var i,r,s=CKEDITOR.plugins.clipboard,l=o.editable();o.fire("saveSnapshot"),o.fire("lockSnapshot",{dontUpdate:1}),CKEDITOR.env.ie&&10>CKEDITOR.env.version&&this.fixSplitNodesAfterDrop(e,n,s.dragStartContainerChildCount,s.dragEndContainerChildCount),(r=this.isDropRangeAffectedByDragRange(e,n))||(i=e.createBookmark(!1)),s=n.clone().createBookmark(!1),r&&(i=e.createBookmark(!1)),e=i.startNode,n=i.endNode,r=s.startNode,n&&e.getPosition(r)&CKEDITOR.POSITION_PRECEDING&&n.getPosition(r)&CKEDITOR.POSITION_FOLLOWING&&r.insertBefore(e),(e=o.createRange()).moveToBookmark(i),l.extractHtmlFromRange(e,1),n=o.createRange(),s.startNode.getCommonAncestor(l)||(s=o.getSelection().createBookmarks()[0]),n.moveToBookmark(s),t(o,{dataTransfer:a,method:"drop",range:n},1),o.fire("unlockSnapshot")},getRangeAtDropPosition:function(t,e){var n=t.data.$,a=n.clientX,o=n.clientY,i=e.getSelection(!0).getRanges()[0],r=e.createRange();if(t.data.testRange)return t.data.testRange;if(document.caretRangeFromPoint&&e.document.$.caretRangeFromPoint(a,o))n=e.document.$.caretRangeFromPoint(a,o),r.setStart(CKEDITOR.dom.node(n.startContainer),n.startOffset),r.collapse(!0);else if(n.rangeParent)r.setStart(CKEDITOR.dom.node(n.rangeParent),n.rangeOffset),r.collapse(!0);else{if(CKEDITOR.env.ie&&8<CKEDITOR.env.version&&i&&e.editable().hasFocus)return i;if(!document.body.createTextRange)return null;e.focus(),n=e.document.getBody().$.createTextRange();try{for(var s=!1,l=0;20>l&&!s;l++){if(!s)try{n.moveToPoint(a,o-l),s=!0}catch(t){}if(!s)try{n.moveToPoint(a,o+l),s=!0}catch(t){}}if(s){var d="cke-temp-"+(new Date).getTime();n.pasteHTML('<span id="'+d+'">​</span>');var u=e.document.getById(d);r.moveToPosition(u,CKEDITOR.POSITION_BEFORE_START),u.remove()}else{var c=e.document.$.elementFromPoint(a,o),m=new CKEDITOR.dom.element(c);if(m.equals(e.editable())||"html"==m.getName())return i&&i.startContainer&&!i.startContainer.equals(e.editable())?i:null;a<m.getClientRect().left?r.setStartAt(m,CKEDITOR.POSITION_AFTER_START):r.setStartAt(m,CKEDITOR.POSITION_BEFORE_END),r.collapse(!0)}}catch(t){return null}}return r},initDragDataTransfer:function(t,e){var n=t.data.$?t.data.$.dataTransfer:null,a=new this.dataTransfer(n,e);"dragstart"===t.name&&a.storeId(),n?this.dragData&&a.id==this.dragData.id?a=this.dragData:this.dragData=a:this.dragData?a=this.dragData:this.dragData=a,t.data.dataTransfer=a},resetDragDataTransfer:function(){this.dragData=null},initPasteDataTransfer:function(t,e){if(this.isCustomCopyCutSupported){if(t&&t.data&&t.data.$){var n=t.data.$.clipboardData,a=new this.dataTransfer(n,e);return"copy"!==t.name&&"cut"!==t.name||a.storeId(),this.copyCutData&&a.id==this.copyCutData.id?(a=this.copyCutData).$=n:this.copyCutData=a,a}return new this.dataTransfer(null,e)}return new this.dataTransfer(CKEDITOR.env.edge&&t&&t.data.$&&t.data.$.clipboardData||null,e)},preventDefaultDropOnElement:function(t){t&&t.on("dragover",a)}},i=CKEDITOR.plugins.clipboard.isCustomDataTypesSupported?"cke/id":"Text",CKEDITOR.plugins.clipboard.dataTransfer=function(t,e){t&&(this.$=t),this._={metaRegExp:/^<meta.*?>/i,fragmentRegExp:/\s*\x3c!--StartFragment--\x3e|\x3c!--EndFragment--\x3e\s*/g,types:[],data:{},files:[],nativeHtmlCache:"",normalizeType:function(t){return"text"==(t=t.toLowerCase())||"text/plain"==t?"Text":"url"==t?"URL":"files"===t?"Files":t}},this._.fallbackDataTransfer=new CKEDITOR.plugins.clipboard.fallbackDataTransfer(this),this.id=this.getData(i),this.id||(this.id="Text"==i?"":"cke-"+CKEDITOR.tools.getUniqueId()),e&&(this.sourceEditor=e,this.setData("text/html",e.getSelectedHtml(1)),"Text"==i||this.getData("text/plain")||this.setData("text/plain",e.getSelection().getSelectedText()))},CKEDITOR.DATA_TRANSFER_INTERNAL=1,CKEDITOR.DATA_TRANSFER_CROSS_EDITORS=2,CKEDITOR.DATA_TRANSFER_EXTERNAL=3,CKEDITOR.plugins.clipboard.dataTransfer.prototype={getData:function(t,e){if(null==(a="text/html"==(t=this._.normalizeType(t))&&e?this._.nativeHtmlCache:this._.data[t])||""===a){if(this._.fallbackDataTransfer.isRequired())a=this._.fallbackDataTransfer.getData(t,e);else try{a=this.$.getData(t)||""}catch(t){a=""}"text/html"!=t||e||(a=this._stripHtml(a))}if("Text"==t&&CKEDITOR.env.gecko&&this.getFilesCount()&&"file://"==a.substring(0,7)&&(a=""),"string"==typeof a)var n=a.indexOf("</html>"),a=-1!==n?a.substring(0,n+7):a;return a},setData:function(t,e){if("text/html"==(t=this._.normalizeType(t))?(this._.data[t]=this._stripHtml(e),this._.nativeHtmlCache=e):this._.data[t]=e,CKEDITOR.plugins.clipboard.isCustomDataTypesSupported||"URL"==t||"Text"==t)if("Text"==i&&"Text"==t&&(this.id=e),this._.fallbackDataTransfer.isRequired())this._.fallbackDataTransfer.setData(t,e);else try{this.$.setData(t,e)}catch(t){}},storeId:function(){"Text"!==i&&this.setData(i,this.id)},getTransferType:function(t){return this.sourceEditor?this.sourceEditor==t?CKEDITOR.DATA_TRANSFER_INTERNAL:CKEDITOR.DATA_TRANSFER_CROSS_EDITORS:CKEDITOR.DATA_TRANSFER_EXTERNAL},cacheData:function(){function t(t){t=o._.normalizeType(t);var e=o.getData(t);"text/html"==t&&(o._.nativeHtmlCache=o.getData(t,!0),e=o._stripHtml(e)),e&&(o._.data[t]=e),o._.types.push(t)}if(this.$){var e,n,a,o=this;if(CKEDITOR.plugins.clipboard.isCustomDataTypesSupported){if(this.$.types)for(e=0;e<this.$.types.length;e++)t(this.$.types[e])}else t("Text"),t("URL");if(n=this._getImageFromClipboard(),(a=this.$&&this.$.files||null)||n){if(this._.files=[],a&&a.length)for(e=0;e<a.length;e++)this._.files.push(a[e]);0===this._.files.length&&n&&this._.files.push(n)}}},getFilesCount:function(){if(this._.files.length)return this._.files.length;var t=this.$&&this.$.files||null;return t&&t.length?t.length:this._getImageFromClipboard()?1:0},getFile:function(t){if(this._.files.length)return this._.files[t];var e=this.$&&this.$.files||null;return e&&e.length?e[t]:0===t?this._getImageFromClipboard():void 0},isFileTransfer:function(){var t=this.getTypes();return 1===(t=CKEDITOR.tools.array.filter(t,(function(t){return"application/x-moz-file"!==t}))).length&&"files"===t[0].toLowerCase()},isEmpty:function(){var t,e={};if(this.getFilesCount())return!1;if(CKEDITOR.tools.array.forEach(CKEDITOR.tools.object.keys(this._.data),(function(t){e[t]=1})),this.$)if(CKEDITOR.plugins.clipboard.isCustomDataTypesSupported){if(this.$.types)for(var n=0;n<this.$.types.length;n++)e[this.$.types[n]]=1}else e.Text=1,e.URL=1;for(t in"Text"!=i&&(e[i]=0),e)if(e[t]&&""!==this.getData(t))return!1;return!0},getTypes:function(){return 0<this._.types.length?this._.types:this.$&&this.$.types?[].slice.call(this.$.types):[]},_getImageFromClipboard:function(){var t;try{if(this.$&&this.$.items&&this.$.items[0]&&(t=this.$.items[0].getAsFile())&&t.type)return t}catch(t){}},_stripHtml:function(t){return t&&t.length&&(t=function(t){var e,n,a=new CKEDITOR.htmlParser;return a.onTagOpen=function(t){"body"===t&&(e=a._.htmlPartsRegex.lastIndex)},a.onTagClose=function(t){"body"===t&&(n=a._.htmlPartsRegex.lastIndex)},a.parse(t),"number"!=typeof e||"number"!=typeof n?t:t.substring(e,n).replace(/<\/body\s*>$/gi,"")}(t),t=(t=t.replace(this._.metaRegExp,"")).replace(this._.fragmentRegExp,"")),t}},CKEDITOR.plugins.clipboard.fallbackDataTransfer=function(t){this._dataTransfer=t,this._customDataFallbackType="text/html"},CKEDITOR.plugins.clipboard.fallbackDataTransfer._isCustomMimeTypeSupported=null,CKEDITOR.plugins.clipboard.fallbackDataTransfer._customTypes=[],CKEDITOR.plugins.clipboard.fallbackDataTransfer.prototype={isRequired:function(){var t=CKEDITOR.plugins.clipboard.fallbackDataTransfer,e=this._dataTransfer.$;if(null===t._isCustomMimeTypeSupported){if(!e)return!1;if(t._isCustomMimeTypeSupported=!1,CKEDITOR.env.edge&&17<=CKEDITOR.env.version)return!0;try{e.setData("cke/mimetypetest","cke test value"),t._isCustomMimeTypeSupported="cke test value"===e.getData("cke/mimetypetest"),e.clearData("cke/mimetypetest")}catch(t){}}return!t._isCustomMimeTypeSupported},getData:function(t,e){var n=this._getData(this._customDataFallbackType,!0);if(e)return n;n=this._extractDataComment(n);var a;return null!==(a=t===this._customDataFallbackType?n.content:n.data&&n.data[t]?n.data[t]:this._getData(t,!0))?a:""},setData:function(t,e){(o=t===this._customDataFallbackType)&&(e=this._applyDataComment(e,this._getFallbackTypeData()));var n=e,a=this._dataTransfer.$;try{a.setData(t,n),o&&(this._dataTransfer._.nativeHtmlCache=n)}catch(e){if(this._isUnsupportedMimeTypeError(e)){o=CKEDITOR.plugins.clipboard.fallbackDataTransfer,-1===CKEDITOR.tools.indexOf(o._customTypes,t)&&o._customTypes.push(t);var o=this._getFallbackTypeContent(),i=this._getFallbackTypeData();i[t]=n;try{n=this._applyDataComment(o,i),a.setData(this._customDataFallbackType,n),this._dataTransfer._.nativeHtmlCache=n}catch(t){n=""}}}return n},_getData:function(t,e){var n=this._dataTransfer._.data;if(!e&&n[t])return n[t];try{return this._dataTransfer.$.getData(t)}catch(t){return null}},_getFallbackTypeContent:function(){var t=this._dataTransfer._.data[this._customDataFallbackType];return t||(t=this._extractDataComment(this._getData(this._customDataFallbackType,!0)).content),t},_getFallbackTypeData:function(){var t=CKEDITOR.plugins.clipboard.fallbackDataTransfer._customTypes,e=this._extractDataComment(this._getData(this._customDataFallbackType,!0)).data||{},n=this._dataTransfer._.data;return CKEDITOR.tools.array.forEach(t,(function(t){void 0!==n[t]?e[t]=n[t]:void 0!==e[t]&&(e[t]=e[t])}),this),e},_isUnsupportedMimeTypeError:function(t){return t.message&&-1!==t.message.search(/element not found/gi)},_extractDataComment:function(t){var e,n={data:null,content:t||""};return t&&16<t.length&&(e=/\x3c!--cke-data:(.*?)--\x3e/g.exec(t))&&e[1]&&(n.data=JSON.parse(decodeURIComponent(e[1])),n.content=t.replace(e[0],"")),n},_applyDataComment:function(t,e){var n="";return e&&CKEDITOR.tools.object.keys(e).length&&(n="\x3c!--cke-data:"+encodeURIComponent(JSON.stringify(e))+"--\x3e"),n+(t&&t.length?t:"")}}}(),CKEDITOR.config.clipboard_notificationDuration=1e4,CKEDITOR.config.clipboard_handleImages=!0,function(){function t(t){return!(t&&(20<t.length||(t=t.replace(/[\n|\t]*/g,"").toLowerCase())&&"<br>"!=t&&"<p>&nbsp;<br></p>"!=t&&"<p><br></p>"!=t&&"<div><br></div>"!=t&&"<p>&nbsp;</p>"!=t&&"&nbsp;"!=t&&" "!=t&&"&nbsp;<br>"!=t&&" <br>"!=t))}function e(e){var n=e.editor;if(!n.readOnly){var a=n.editable(),o=e.listenerData;if(a){if("wysiwyg"==n.mode){if(CKEDITOR.dialog._.currentTop||!a)return;t(a.getHtml())&&(a.setHtml(o),a.addClass("placeholder"))}"source"==n.mode&&(i?"mode"==e.name&&a.setAttribute("placeholder",o):t(a.getValue())&&(a.setValue(o),a.addClass("placeholder")))}}}function n(t){var e=(t=t.editor).editable();if(e){if("wysiwyg"==t.mode){if(!e.hasClass("placeholder"))return;if(e.removeClass("placeholder"),CKEDITOR.dtd[e.getName()].p){var n="";t.enterMode===CKEDITOR.ENTER_P?n="<p><br/></p>":t.enterMode===CKEDITOR.ENTER_DIV?n="<div><br/></div>":(n="<br/>",(CKEDITOR.env.gecko||CKEDITOR.env.ie)&&(n=" ")),e.setHtml(n),(n=new CKEDITOR.dom.range(t.document)).moveToElementEditablePosition(e.getFirst(),!0),t.getSelection().selectRanges([n])}else e.setHtml(" ")}"source"==t.mode&&e.hasClass("placeholder")&&(e.removeClass("placeholder"),e.setValue(""))}}function a(t){t.editor.readOnly?n(t):e(t)}function o(t){return t?t.getAttribute("lang")||o(t.getParent()):null}var i="placeholder"in document.createElement("textarea");CKEDITOR.plugins.add("confighelper",{getPlaceholderCss:function(){return".placeholder{ color: #999; }"},onLoad:function(){CKEDITOR.addCss(this.getPlaceholderCss())},init:function(r){function s(t){if(r==t.editor){var e,n,a,o,i,s=t.data.name;if(t=t.data.definition,"tableProperties"==s&&(s="table"),"removeDialogFields"in r._||!r.config.removeDialogFields||(r._.removeDialogFields=u(r.config.removeDialogFields)),r._.removeDialogFields&&(e=r._.removeDialogFields[s]))for(a in e)if(o=e[a],i=t.getContents(a))for(n=0;n<o.length;n++)i.remove(o[n]);if("hideDialogFields"in r._||!r.config.hideDialogFields||(r._.hideDialogFields=u(r.config.hideDialogFields)),r._.hideDialogFields&&(e=r._.hideDialogFields[s]))for(a in e)if(o=e[a],i=t.getContents(a))for(n=0;n<o.length;n++)i.get(o[n]).hidden=!0;if(r.config.dialogFieldsDefaultValues&&(e=r.config.dialogFieldsDefaultValues[s]))for(a in e)if(o=e[a],i=t.getContents(a))for(var l in o)(s=i.get(l))&&(s.default=o[l])}}r.on("mode",(function(t){t.editor.focusManager.hasFocus=!1}));var l=r.element.getAttribute("placeholder")||r.config.placeholder;if(l){var d=CKEDITOR.document.getHead().append("style");d.setAttribute("type","text/css"),CKEDITOR.env.ie&&11>CKEDITOR.env.version?d.$.styleSheet.cssText="textarea.placeholder { color: #999; font-style: italic; }":d.$.innerHTML="textarea.placeholder { color: #999; font-style: italic; }",r.on("getData",(function(t){var e=r.editable();e&&e.hasClass("placeholder")&&(t.data.dataValue="")})),r.on("setData",(function(n){if(!(CKEDITOR.dialog._.currentTop||"source"==r.mode&&i)){var a=r.editable();a&&(t(n.data.dataValue)?e(n):a.hasClass("placeholder")&&a.removeClass("placeholder"))}})),r.on("blur",e,null,l),r.on("mode",e,null,l),r.on("contentDom",e,null,l),r.on("focus",n),r.on("key",n),r.on("beforeModeUnload",n),r.on("readOnly",a,null,l)}if((l=r.config.contentsLanguage||o(r.element))&&r.plugins.scayt&&!r.config.scayt_sLang){try{localStorage&&localStorage.removeItem("scayt_0_lang")}catch(t){}r.config.scayt_sLang={en:"en_US","en-us":"en_US","en-gb":"en_GB","pt-br":"pt_BR",da:"da_DK","da-dk":"da_DK","nl-nl":"nl_NL","en-ca":"en_CA","fi-fi":"fi_FI",fr:"fr_FR","fr-fr":"fr_FR","fr-ca":"fr_CA",de:"de_DE","de-de":"de_DE","el-gr":"el_GR",it:"it_IT","it-it":"it_IT","nb-no":"nb_NO",pt:"pt_PT","pt-pt":"pt_PT",es:"es_ES","es-es":"es_ES","sv-se":"sv_SE"}[l.toLowerCase()]}var u=function(t){if("object"==typeof t)return t;t=t.split(";");var e,n={};for(e=0;e<t.length;e++)if(3==(i=t[e].split(":")).length){var a=i[0],o=i[1],i=i[2];n[a]||(n[a]={}),n[a][o]||(n[a][o]=[]),n[a][o].push(i)}return n};CKEDITOR.on("dialogDefinition",s),r.once("beforeDestroy",(function(){CKEDITOR.removeListener("dialogDefinition",s)}))}})}(),function(){function t(t,e){var n={},a=[],o={nbsp:" ",shy:"­",gt:">",lt:"<",amp:"&",apos:"'",quot:'"'};if(t=t.replace(/\b(nbsp|shy|gt|lt|amp|apos|quot)(?:,|$)/g,(function(t,i){var r=e?"&"+i+";":o[i];return n[r]=e?o[i]:"&"+i+";",a.push(r),""})),t=t.replace(/,$/,""),!e&&t){t=t.split(",");var i,r=document.createElement("div");for(r.innerHTML="&"+t.join(";&")+";",i=r.innerHTML,r=null,r=0;r<i.length;r++){var s=i.charAt(r);n[s]="&"+t[r]+";",a.push(s)}}return n.regex=a.join(e?"|":""),n}CKEDITOR.plugins.add("entities",{afterInit:function(e){function n(t){return l[t]}function a(t){return"force"!=o.entities_processNumerical&&r[t]?r[t]:"&#"+(CKEDITOR.env.ie?t.charCodeAt(0):t.codePointAt(0))+";"}var o=e.config;if(e=(e=e.dataProcessor)&&e.htmlFilter){var i=[];!1!==o.basicEntities&&i.push("nbsp,gt,lt,amp"),o.entities&&(i.length&&i.push("quot,iexcl,cent,pound,curren,yen,brvbar,sect,uml,copy,ordf,laquo,not,shy,reg,macr,deg,plusmn,sup2,sup3,acute,micro,para,middot,cedil,sup1,ordm,raquo,frac14,frac12,frac34,iquest,times,divide,fnof,bull,hellip,prime,Prime,oline,frasl,weierp,image,real,trade,alefsym,larr,uarr,rarr,darr,harr,crarr,lArr,uArr,rArr,dArr,hArr,forall,part,exist,empty,nabla,isin,notin,ni,prod,sum,minus,lowast,radic,prop,infin,ang,and,or,cap,cup,int,there4,sim,cong,asymp,ne,equiv,le,ge,sub,sup,nsub,sube,supe,oplus,otimes,perp,sdot,lceil,rceil,lfloor,rfloor,lang,rang,loz,spades,clubs,hearts,diams,circ,tilde,ensp,emsp,thinsp,zwnj,zwj,lrm,rlm,ndash,mdash,lsquo,rsquo,sbquo,ldquo,rdquo,bdquo,dagger,Dagger,permil,lsaquo,rsaquo,euro"),o.entities_latin&&i.push("Agrave,Aacute,Acirc,Atilde,Auml,Aring,AElig,Ccedil,Egrave,Eacute,Ecirc,Euml,Igrave,Iacute,Icirc,Iuml,ETH,Ntilde,Ograve,Oacute,Ocirc,Otilde,Ouml,Oslash,Ugrave,Uacute,Ucirc,Uuml,Yacute,THORN,szlig,agrave,aacute,acirc,atilde,auml,aring,aelig,ccedil,egrave,eacute,ecirc,euml,igrave,iacute,icirc,iuml,eth,ntilde,ograve,oacute,ocirc,otilde,ouml,oslash,ugrave,uacute,ucirc,uuml,yacute,thorn,yuml,OElig,oelig,Scaron,scaron,Yuml"),o.entities_greek&&i.push("Alpha,Beta,Gamma,Delta,Epsilon,Zeta,Eta,Theta,Iota,Kappa,Lambda,Mu,Nu,Xi,Omicron,Pi,Rho,Sigma,Tau,Upsilon,Phi,Chi,Psi,Omega,alpha,beta,gamma,delta,epsilon,zeta,eta,theta,iota,kappa,lambda,mu,nu,xi,omicron,pi,rho,sigmaf,sigma,tau,upsilon,phi,chi,psi,omega,thetasym,upsih,piv"),o.entities_additional&&i.push(o.entities_additional));var r=t(i.join(",")),s=r.regex?"["+r.regex+"]":"a^";delete r.regex,o.entities&&o.entities_processNumerical&&(s="[^ -~]|"+s),s=new RegExp(s,CKEDITOR.env.ie?"g":"gu");var l=t("nbsp,gt,lt,amp,shy",!0),d=new RegExp(l.regex,"g");e.addRules({text:function(t){return t.replace(d,n).replace(s,a)}},{applyToAll:!0,excludeNestedEditable:!0})}}})}(),CKEDITOR.config.basicEntities=!0,CKEDITOR.config.entities=!0,CKEDITOR.config.entities_latin=!0,CKEDITOR.config.entities_greek=!0,CKEDITOR.config.entities_additional="#39",function(){var t=[CKEDITOR.CTRL+90,CKEDITOR.CTRL+89,CKEDITOR.CTRL+CKEDITOR.SHIFT+90],e={8:1,46:1};CKEDITOR.plugins.add("undo",{init:function(e){function a(t){r.enabled&&!1!==t.data.command.canUndo&&r.save()}function o(){r.enabled=!e.readOnly&&"wysiwyg"==e.mode,r.onChange()}var r=e.undoManager=new n(e),s=r.editingHandler=new i(r),l=e.addCommand("undo",{exec:function(){r.undo()&&(e.selectionChange(),this.fire("afterUndo"))},startDisabled:!0,canUndo:!1}),d=e.addCommand("redo",{exec:function(){r.redo()&&(e.selectionChange(),this.fire("afterRedo"))},startDisabled:!0,canUndo:!1});e.setKeystroke([[t[0],"undo"],[t[1],"redo"],[t[2],"redo"]]),r.onChange=function(){l.setState(r.undoable()?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED),d.setState(r.redoable()?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)},e.on("beforeCommandExec",a),e.on("afterCommandExec",a),e.on("saveSnapshot",(function(t){r.save(t.data&&t.data.contentOnly)})),e.on("contentDom",s.attachListeners,s),e.on("instanceReady",(function(){e.fire("saveSnapshot")})),e.on("beforeModeUnload",(function(){"wysiwyg"==e.mode&&r.save(!0)})),e.on("mode",o),e.on("readOnly",o),e.ui.addButton&&(e.ui.addButton("Undo",{label:e.lang.undo.undo,command:"undo",toolbar:"undo,10"}),e.ui.addButton("Redo",{label:e.lang.undo.redo,command:"redo",toolbar:"undo,20"})),e.resetUndo=function(){r.reset(),e.fire("saveSnapshot")},e.on("updateSnapshot",(function(){r.currentImage&&r.update()})),e.on("lockSnapshot",(function(t){t=t.data,r.lock(t&&t.dontUpdate,t&&t.forceUpdate)})),e.on("unlockSnapshot",r.unlock,r)}}),CKEDITOR.plugins.undo={};var n=CKEDITOR.plugins.undo.UndoManager=function(t){this.strokesRecorded=[0,0],this.locked=null,this.previousKeyGroup=-1,this.limit=t.config.undoStackSize||20,this.strokesLimit=25,this._filterRules=[],this.editor=t,this.reset(),CKEDITOR.env.ie&&this.addFilterRule((function(t){return t.replace(/\s+data-cke-expando=".*?"/g,"")}))};n.prototype={type:function(t,e){var a=n.getKeyGroup(t),o=this.strokesRecorded[a]+1;e=e||o>=this.strokesLimit,this.typing||(this.hasUndo=this.typing=!0,this.hasRedo=!1,this.onChange()),e?(o=0,this.editor.fire("saveSnapshot")):this.editor.fire("change"),this.strokesRecorded[a]=o,this.previousKeyGroup=a},keyGroupChanged:function(t){return n.getKeyGroup(t)!=this.previousKeyGroup},reset:function(){this.snapshots=[],this.index=-1,this.currentImage=null,this.hasRedo=this.hasUndo=!1,this.locked=null,this.resetType()},resetType:function(){this.strokesRecorded=[0,0],this.typing=!1,this.previousKeyGroup=-1},refreshState:function(){this.hasUndo=!!this.getNextImage(!0),this.hasRedo=!!this.getNextImage(!1),this.resetType(),this.onChange()},save:function(t,e,n){var o=this.editor;if(this.locked||"ready"!=o.status||"wysiwyg"!=o.mode)return!1;var i=o.editable();if(!i||"ready"!=i.status)return!1;if(i=this.snapshots,e||(e=new a(o)),!1===e.contents)return!1;if(this.currentImage)if(e.equalsContent(this.currentImage)){if(t||e.equalsSelection(this.currentImage))return!1}else!1!==n&&o.fire("change");return i.splice(this.index+1,i.length-this.index-1),i.length==this.limit&&i.shift(),this.index=i.push(e)-1,this.currentImage=e,!1!==n&&this.refreshState(),!0},restoreImage:function(t){var e,n=this.editor;t.bookmarks&&(n.focus(),e=n.getSelection()),this.locked={level:999},this.editor.loadSnapshot(t.contents),t.bookmarks?e.selectBookmarks(t.bookmarks):CKEDITOR.env.ie&&((e=this.editor.document.getBody().$.createTextRange()).collapse(!0),e.select()),this.locked=null,this.index=t.index,this.currentImage=this.snapshots[this.index],this.update(),this.refreshState(),n.fire("change")},getNextImage:function(t){var e,n=this.snapshots,a=this.currentImage;if(a)if(t){for(e=this.index-1;0<=e;e--)if(t=n[e],!a.equalsContent(t))return t.index=e,t}else for(e=this.index+1;e<n.length;e++)if(t=n[e],!a.equalsContent(t))return t.index=e,t;return null},redoable:function(){return this.enabled&&this.hasRedo},undoable:function(){return this.enabled&&this.hasUndo},undo:function(){if(this.undoable()){this.save(!0);var t=this.getNextImage(!0);if(t)return this.restoreImage(t),!0}return!1},redo:function(){if(this.redoable()&&(this.save(!0),this.redoable())){var t=this.getNextImage(!1);if(t)return this.restoreImage(t),!0}return!1},update:function(t){if(!this.locked){t||(t=new a(this.editor));for(var e=this.index,n=this.snapshots;0<e&&this.currentImage.equalsContent(n[e-1]);)--e;n.splice(e,this.index-e+1,t),this.index=e,this.currentImage=t}},updateSelection:function(t){if(!this.snapshots.length)return!1;var e=this.snapshots,n=e[e.length-1];return!(!n.equalsContent(t)||n.equalsSelection(t)||(this.currentImage=e[e.length-1]=t,0))},lock:function(t,e){if(this.locked)this.locked.level++;else if(t)this.locked={level:1};else{var n=null;if(e)n=!0;else{var o=new a(this.editor,!0);this.currentImage&&this.currentImage.equalsContent(o)&&(n=o)}this.locked={update:n,level:1}}},unlock:function(){if(this.locked&&! --this.locked.level){var t=this.locked.update;if(this.locked=null,!0===t)this.update();else if(t){var e=new a(this.editor,!0);t.equalsContent(e)||this.update()}}},addFilterRule:function(t){this._filterRules.push(t)}},n.navigationKeyCodes={37:1,38:1,39:1,40:1,36:1,35:1,33:1,34:1},n.keyGroups={PRINTABLE:0,FUNCTIONAL:1},n.isNavigationKey=function(t){return!!n.navigationKeyCodes[t]},n.getKeyGroup=function(t){var a=n.keyGroups;return e[t]?a.FUNCTIONAL:a.PRINTABLE},n.getOppositeKeyGroup=function(t){var e=n.keyGroups;return t==e.FUNCTIONAL?e.PRINTABLE:e.FUNCTIONAL},n.ieFunctionalKeysBug=function(t){return CKEDITOR.env.ie&&n.getKeyGroup(t)==n.keyGroups.FUNCTIONAL};var a=CKEDITOR.plugins.undo.Image=function(t,e){this.editor=t,t.fire("beforeUndoImage");var n=t.getSnapshot();n&&(this.contents=function(t,e){return CKEDITOR.tools.array.reduce(e,(function(t,e){return e(t)}),t)}(n,t.undoManager._filterRules)),e||(this.bookmarks=(n=n&&t.getSelection())&&n.createBookmarks2(!0)),t.fire("afterUndoImage")},o=/\b(?:href|src|name)="[^"]*?"/gi;a.prototype={equalsContent:function(t){var e=this.contents;return t=t.contents,CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)&&(e=e.replace(o,""),t=t.replace(o,"")),e==t},equalsSelection:function(t){var e=this.bookmarks;if(t=t.bookmarks,e||t){if(!e||!t||e.length!=t.length)return!1;for(var n=0;n<e.length;n++){var a=e[n],o=t[n];if(a.startOffset!=o.startOffset||a.endOffset!=o.endOffset||!CKEDITOR.tools.arrayCompare(a.start,o.start)||!CKEDITOR.tools.arrayCompare(a.end,o.end))return!1}}return!0}};var i=CKEDITOR.plugins.undo.NativeEditingHandler=function(t){this.undoManager=t,this.ignoreInputEvent=!1,this.keyEventsStack=new r,this.lastKeydownImage=null};i.prototype={onKeydown:function(e){var o=e.data.getKey();229!==o&&(-1<CKEDITOR.tools.indexOf(t,e.data.getKeystroke())?e.data.preventDefault():(this.keyEventsStack.cleanUp(e),e=this.undoManager,this.keyEventsStack.getLast(o)||this.keyEventsStack.push(o),this.lastKeydownImage=new a(e.editor),(n.isNavigationKey(o)||this.undoManager.keyGroupChanged(o))&&(e.strokesRecorded[0]||e.strokesRecorded[1])&&(e.save(!1,this.lastKeydownImage,!1),e.resetType())))},onInput:function(){if(this.ignoreInputEvent)this.ignoreInputEvent=!1;else{var t=this.keyEventsStack.getLast();t||(t=this.keyEventsStack.push(0)),this.keyEventsStack.increment(t.keyCode),this.keyEventsStack.getTotalInputs()>=this.undoManager.strokesLimit&&(this.undoManager.type(t.keyCode,!0),this.keyEventsStack.resetInputs())}},onKeyup:function(t){var e=this.undoManager;t=t.data.getKey();var o=this.keyEventsStack.getTotalInputs();this.keyEventsStack.remove(t),n.ieFunctionalKeysBug(t)&&this.lastKeydownImage&&this.lastKeydownImage.equalsContent(new a(e.editor,!0))||(0<o?e.type(t):n.isNavigationKey(t)&&this.onNavigationKey(!0))},onNavigationKey:function(t){var e=this.undoManager;!t&&e.save(!0,null,!1)||e.updateSelection(new a(e.editor)),e.resetType()},ignoreInputEventListener:function(){this.ignoreInputEvent=!0},activateInputEventListener:function(){this.ignoreInputEvent=!1},attachListeners:function(){var t=this.undoManager.editor,e=t.editable(),a=this;e.attachListener(e,"keydown",(function(t){a.onKeydown(t),n.ieFunctionalKeysBug(t.data.getKey())&&a.onInput()}),null,null,999),e.attachListener(e,CKEDITOR.env.ie?"keypress":"input",a.onInput,a,null,999),e.attachListener(e,"keyup",a.onKeyup,a,null,999),e.attachListener(e,"paste",a.ignoreInputEventListener,a,null,999),e.attachListener(e,"drop",a.ignoreInputEventListener,a,null,999),t.on("afterPaste",a.activateInputEventListener,a,null,999),e.attachListener(e.isInline()?e:t.document.getDocumentElement(),"click",(function(){a.onNavigationKey()}),null,null,999),e.attachListener(this.undoManager.editor,"blur",(function(){a.keyEventsStack.remove(9)}),null,null,999)}};var r=CKEDITOR.plugins.undo.KeyEventsStack=function(){this.stack=[]};r.prototype={push:function(t){return t=this.stack.push({keyCode:t,inputs:0}),this.stack[t-1]},getLastIndex:function(t){if("number"!=typeof t)return this.stack.length-1;for(var e=this.stack.length;e--;)if(this.stack[e].keyCode==t)return e;return-1},getLast:function(t){return-1!=(t=this.getLastIndex(t))?this.stack[t]:null},increment:function(t){this.getLast(t).inputs++},remove:function(t){-1!=(t=this.getLastIndex(t))&&this.stack.splice(t,1)},resetInputs:function(t){if("number"==typeof t)this.getLast(t).inputs=0;else for(t=this.stack.length;t--;)this.stack[t].inputs=0},getTotalInputs:function(){for(var t=this.stack.length,e=0;t--;)e+=this.stack[t].inputs;return e},cleanUp:function(t){(t=t.data.$).ctrlKey||t.metaKey||this.remove(17),t.shiftKey||this.remove(16),t.altKey||this.remove(18)}}}(),function(){function t(t,e){CKEDITOR.tools.extend(this,{editor:t,editable:t.editable(),doc:t.document,win:t.window},e,!0),this.inline=this.editable.isInline(),this.inline||(this.frame=this.win.getFrame()),this.target=this[this.inline?"editable":"doc"]}function e(t,e){CKEDITOR.tools.extend(this,e,{editor:t},!0)}function n(t,e){var n=t.editable();CKEDITOR.tools.extend(this,{editor:t,editable:n,inline:n.isInline(),doc:t.document,win:t.window,container:CKEDITOR.document.getBody(),winTop:CKEDITOR.document.getWindow()},e,!0),this.hidden={},this.visible={},this.inline||(this.frame=this.win.getFrame()),this.queryViewport();var a=CKEDITOR.tools.bind(this.queryViewport,this),r=CKEDITOR.tools.bind(this.hideVisible,this),s=CKEDITOR.tools.bind(this.removeAll,this);n.attachListener(this.winTop,"resize",a),n.attachListener(this.winTop,"scroll",a),n.attachListener(this.winTop,"resize",r),n.attachListener(this.win,"scroll",r),n.attachListener(this.inline?n:this.frame,"mouseout",(function(t){var e=t.data.$.clientX;t=t.data.$.clientY,this.queryViewport(),(e<=this.rect.left||e>=this.rect.right||t<=this.rect.top||t>=this.rect.bottom)&&this.hideVisible(),(0>=e||e>=this.winTopPane.width||0>=t||t>=this.winTopPane.height)&&this.hideVisible()}),this),n.attachListener(t,"resize",a),n.attachListener(t,"mode",s),t.on("destroy",s),this.lineTpl=new CKEDITOR.template('<div data-cke-lineutils-line="1" class="cke_reset_all" style="{lineStyle}"><span style="{tipLeftStyle}">&nbsp;</span><span style="{tipRightStyle}">&nbsp;</span></div>').output({lineStyle:CKEDITOR.tools.writeCssText(CKEDITOR.tools.extend({},i,this.lineStyle,!0)),tipLeftStyle:CKEDITOR.tools.writeCssText(CKEDITOR.tools.extend({},o,{left:"0px","border-left-color":"red","border-width":"6px 0 6px 6px"},this.tipCss,this.tipLeftStyle,!0)),tipRightStyle:CKEDITOR.tools.writeCssText(CKEDITOR.tools.extend({},o,{right:"0px","border-right-color":"red","border-width":"6px 6px 6px 0"},this.tipCss,this.tipRightStyle,!0))})}function a(t){var e;return(e=t&&t.type==CKEDITOR.NODE_ELEMENT)&&(e=!(r[t.getComputedStyle("float")]||r[t.getAttribute("align")])),e&&!s[t.getComputedStyle("position")]}CKEDITOR.plugins.add("lineutils"),CKEDITOR.LINEUTILS_BEFORE=1,CKEDITOR.LINEUTILS_AFTER=2,CKEDITOR.LINEUTILS_INSIDE=4,t.prototype={start:function(t){var e,n,a,o,i=this,r=this.editor,s=this.doc,l=CKEDITOR.tools.eventsBuffer(50,(function(){r.readOnly||"wysiwyg"!=r.mode||(i.relations={},(n=s.$.elementFromPoint(a,o))&&n.nodeType&&(e=new CKEDITOR.dom.element(n),i.traverseSearch(e),isNaN(a+o)||i.pixelSearch(e,a,o),t&&t(i.relations,a,o)))}));this.listener=this.editable.attachListener(this.target,"mousemove",(function(t){a=t.data.$.clientX,o=t.data.$.clientY,l.input()})),this.editable.attachListener(this.inline?this.editable:this.frame,"mouseout",(function(){l.reset()}))},stop:function(){this.listener&&this.listener.removeListener()},getRange:function(){var t={};return t[CKEDITOR.LINEUTILS_BEFORE]=CKEDITOR.POSITION_BEFORE_START,t[CKEDITOR.LINEUTILS_AFTER]=CKEDITOR.POSITION_AFTER_END,t[CKEDITOR.LINEUTILS_INSIDE]=CKEDITOR.POSITION_AFTER_START,function(e){var n=this.editor.createRange();return n.moveToPosition(this.relations[e.uid].element,t[e.type]),n}}(),store:function(){function t(t,e,n){var a=t.getUniqueId();a in n?n[a].type|=e:n[a]={element:t,type:e}}return function(e,n){var o;n&CKEDITOR.LINEUTILS_AFTER&&a(o=e.getNext())&&o.isVisible()&&(t(o,CKEDITOR.LINEUTILS_BEFORE,this.relations),n^=CKEDITOR.LINEUTILS_AFTER),n&CKEDITOR.LINEUTILS_INSIDE&&a(o=e.getFirst())&&o.isVisible()&&(t(o,CKEDITOR.LINEUTILS_BEFORE,this.relations),n^=CKEDITOR.LINEUTILS_INSIDE),t(e,n,this.relations)}}(),traverseSearch:function(t){var e,n,o;do{if(!(o=t.$["data-cke-expando"])||!(o in this.relations)){if(t.equals(this.editable))break;if(a(t))for(e in this.lookups)(n=this.lookups[e](t))&&this.store(t,n)}}while((!t||t.type!=CKEDITOR.NODE_ELEMENT||"true"!=t.getAttribute("contenteditable"))&&(t=t.getParent()))},pixelSearch:function(){function t(t,n,o,i,r){for(var s,l=0;r(o)&&(o+=i,25!=++l);)if(s=this.doc.$.elementFromPoint(n,o))if(s==t)l=0;else if(e(t,s)&&(l=0,a(s=new CKEDITOR.dom.element(s))))return s}var e=CKEDITOR.env.ie||CKEDITOR.env.webkit?function(t,e){return t.contains(e)}:function(t,e){return!!(16&t.compareDocumentPosition(e))};return function(e,n,o){var i=this.win.getViewPaneSize().height,r=t.call(this,e.$,n,o,-1,(function(t){return 0<t}));if(n=t.call(this,e.$,n,o,1,(function(t){return t<i})),r)for(this.traverseSearch(r);!r.getParent().equals(e);)r=r.getParent();if(n)for(this.traverseSearch(n);!n.getParent().equals(e);)n=n.getParent();for(;(r||n)&&(r&&(r=r.getNext(a)),r&&!r.equals(n))&&(this.traverseSearch(r),n&&(n=n.getPrevious(a)),n&&!n.equals(r));)this.traverseSearch(n)}}(),greedySearch:function(){this.relations={};for(var t,e,n,o=this.editable.getElementsByTag("*"),i=0;t=o.getItem(i++);)if(!t.equals(this.editable)&&t.type==CKEDITOR.NODE_ELEMENT&&(t.hasAttribute("contenteditable")||!t.isReadOnly())&&a(t)&&t.isVisible())for(n in this.lookups)(e=this.lookups[n](t))&&this.store(t,e);return this.relations}},e.prototype={locate:function(){function t(t,e){var n=t.element[e===CKEDITOR.LINEUTILS_BEFORE?"getPrevious":"getNext"]();return n&&a(n)?(t.siblingRect=n.getClientRect(),e==CKEDITOR.LINEUTILS_BEFORE?(t.siblingRect.bottom+t.elementRect.top)/2:(t.elementRect.bottom+t.siblingRect.top)/2):e==CKEDITOR.LINEUTILS_BEFORE?t.elementRect.top:t.elementRect.bottom}return function(e){var n;for(var a in this.locations={},e)(n=e[a]).elementRect=n.element.getClientRect(),n.type&CKEDITOR.LINEUTILS_BEFORE&&this.store(a,CKEDITOR.LINEUTILS_BEFORE,t(n,CKEDITOR.LINEUTILS_BEFORE)),n.type&CKEDITOR.LINEUTILS_AFTER&&this.store(a,CKEDITOR.LINEUTILS_AFTER,t(n,CKEDITOR.LINEUTILS_AFTER)),n.type&CKEDITOR.LINEUTILS_INSIDE&&this.store(a,CKEDITOR.LINEUTILS_INSIDE,(n.elementRect.top+n.elementRect.bottom)/2);return this.locations}}(),sort:function(){var t,e,n,a;return function(o,i){for(var r in t=this.locations,e=[],t)for(var s in t[r])if(n=Math.abs(o-t[r][s]),e.length){for(a=0;a<e.length;a++)if(n<e[a].dist){e.splice(a,0,{uid:+r,type:s,dist:n});break}a==e.length&&e.push({uid:+r,type:s,dist:n})}else e.push({uid:+r,type:s,dist:n});return void 0!==i?e.slice(0,i):e}}(),store:function(t,e,n){this.locations[t]||(this.locations[t]={}),this.locations[t][e]=n}};var o={display:"block",width:"0px",height:"0px","border-color":"transparent","border-style":"solid",position:"absolute",top:"-6px"},i={height:"0px","border-top":"1px dashed red",position:"absolute","z-index":9999};n.prototype={removeAll:function(){for(var t in this.hidden)this.hidden[t].remove(),delete this.hidden[t];for(t in this.visible)this.visible[t].remove(),delete this.visible[t]},hideLine:function(t){var e=t.getUniqueId();t.hide(),this.hidden[e]=t,delete this.visible[e]},showLine:function(t){var e=t.getUniqueId();t.show(),this.visible[e]=t,delete this.hidden[e]},hideVisible:function(){for(var t in this.visible)this.hideLine(this.visible[t])},placeLine:function(t,e){var n,a,o;if(n=this.getStyle(t.uid,t.type)){for(o in this.visible)if(this.visible[o].getCustomData("hash")!==this.hash){a=this.visible[o];break}if(!a)for(o in this.hidden)if(this.hidden[o].getCustomData("hash")!==this.hash){this.showLine(a=this.hidden[o]);break}a||this.showLine(a=this.addLine()),a.setCustomData("hash",this.hash),this.visible[a.getUniqueId()]=a,a.setStyles(n),e&&e(a)}},getStyle:function(t,e){var n=this.relations[t],a=this.locations[t][e],o={};if(o.width=n.siblingRect?Math.max(n.siblingRect.width,n.elementRect.width):n.elementRect.width,o.top=this.inline?a+this.winTopScroll.y-this.rect.relativeY:this.rect.top+this.winTopScroll.y+a,o.top-this.winTopScroll.y<this.rect.top||o.top-this.winTopScroll.y>this.rect.bottom)return!1;for(var i in this.inline?o.left=n.elementRect.left-this.rect.relativeX:(0<n.elementRect.left?o.left=this.rect.left+n.elementRect.left:(o.width+=n.elementRect.left,o.left=this.rect.left),0<(n=o.left+o.width-(this.rect.left+this.winPane.width))&&(o.width-=n)),o.left+=this.winTopScroll.x,o)o[i]=CKEDITOR.tools.cssLength(o[i]);return o},addLine:function(){var t=CKEDITOR.dom.element.createFromHtml(this.lineTpl);return t.appendTo(this.container),t},prepare:function(t,e){this.relations=t,this.locations=e,this.hash=Math.random()},cleanup:function(){var t,e;for(e in this.visible)(t=this.visible[e]).getCustomData("hash")!==this.hash&&this.hideLine(t)},queryViewport:function(){this.winPane=this.win.getViewPaneSize(),this.winTopScroll=this.winTop.getScrollPosition(),this.winTopPane=this.winTop.getViewPaneSize(),this.rect=this.getClientRect(this.inline?this.editable:this.frame)},getClientRect:function(t){t=t.getClientRect();var e=this.container.getDocumentPosition(),n=this.container.getComputedStyle("position");return t.relativeX=t.relativeY=0,"static"!=n&&(t.relativeY=e.y,t.relativeX=e.x,t.top-=t.relativeY,t.bottom-=t.relativeY,t.left-=t.relativeX,t.right-=t.relativeX),t}};var r={left:1,right:1,center:1},s={absolute:1,fixed:1};CKEDITOR.plugins.lineutils={finder:t,locator:e,liner:n}}(),function(){function t(t){return t.getName&&!t.hasAttribute("data-cke-temp")}CKEDITOR.plugins.add("widgetselection",{init:function(t){if(CKEDITOR.env.webkit){var e=CKEDITOR.plugins.widgetselection;t.on("contentDom",(function(t){var n=(t=t.editor).editable();n.attachListener(n,"keydown",(function(t){t.data.getKeystroke()==CKEDITOR.CTRL+65&&CKEDITOR.tools.setTimeout((function(){e.addFillers(n)||e.removeFillers(n)}),0)}),null,null,-1),t.on("selectionCheck",(function(t){e.removeFillers(t.editor.editable())})),t.on("paste",(function(t){t.data.dataValue=e.cleanPasteData(t.data.dataValue)})),"selectall"in t.plugins&&e.addSelectAllIntegration(t)}))}}}),CKEDITOR.plugins.widgetselection={startFiller:null,endFiller:null,fillerAttribute:"data-cke-filler-webkit",fillerContent:"&nbsp;",fillerTagName:"div",addFillers:function(e){var n=e.editor;if(!this.isWholeContentSelected(e)&&0<e.getChildCount()){var a=e.getFirst(t),o=e.getLast(t);if(a&&a.type==CKEDITOR.NODE_ELEMENT&&!a.isEditable()&&(this.startFiller=this.createFiller(),e.append(this.startFiller,1)),o&&o.type==CKEDITOR.NODE_ELEMENT&&!o.isEditable()&&(this.endFiller=this.createFiller(!0),e.append(this.endFiller,0)),this.hasFiller(e))return(n=n.createRange()).selectNodeContents(e),n.select(),!0}return!1},removeFillers:function(t){if(this.hasFiller(t)&&!this.isWholeContentSelected(t)){var e=t.findOne(this.fillerTagName+"["+this.fillerAttribute+"=start]"),n=t.findOne(this.fillerTagName+"["+this.fillerAttribute+"=end]");this.startFiller&&e&&this.startFiller.equals(e)?this.removeFiller(this.startFiller,t):this.startFiller=e,this.endFiller&&n&&this.endFiller.equals(n)?this.removeFiller(this.endFiller,t):this.endFiller=n}},cleanPasteData:function(t){return t&&t.length&&(t=t.replace(this.createFillerRegex(),"").replace(this.createFillerRegex(!0),"")),t},isWholeContentSelected:function(t){var e=t.editor.getSelection().getRanges()[0];return!(!e||e&&e.collapsed||((e=e.clone()).enlarge(CKEDITOR.ENLARGE_ELEMENT),!(e&&t&&e.startContainer&&e.endContainer&&0===e.startOffset&&e.endOffset===t.getChildCount()&&e.startContainer.equals(t)&&e.endContainer.equals(t))))},hasFiller:function(t){return 0<t.find(this.fillerTagName+"["+this.fillerAttribute+"]").count()},createFiller:function(t){var e=new CKEDITOR.dom.element(this.fillerTagName);return e.setHtml(this.fillerContent),e.setAttribute(this.fillerAttribute,t?"end":"start"),e.setAttribute("data-cke-temp",1),e.setStyles({display:"block",width:0,height:0,padding:0,border:0,margin:0,position:"absolute",top:0,left:"-9999px",opacity:0,overflow:"hidden"}),e},removeFiller:function(t,e){if(t){var n,a,o=e.editor,i=e.editor.getSelection().getRanges()[0].startPath(),r=o.createRange();i.contains(t)&&(n=t.getHtml(),a=!0),i="start"==t.getAttribute(this.fillerAttribute),t.remove(),n&&0<n.length&&n!=this.fillerContent?(e.insertHtmlIntoRange(n,o.getSelection().getRanges()[0]),r.setStartAt(e.getChild(e.getChildCount()-1),CKEDITOR.POSITION_BEFORE_END),o.getSelection().selectRanges([r])):a&&(i?r.setStartAt(e.getFirst().getNext(),CKEDITOR.POSITION_AFTER_START):r.setEndAt(e.getLast().getPrevious(),CKEDITOR.POSITION_BEFORE_END),e.editor.getSelection().selectRanges([r]))}},createFillerRegex:function(t){var e=this.createFiller(t).getOuterHtml().replace(/style="[^"]*"/gi,'style="[^"]*"').replace(/>[^<]*</gi,">[^<]*<");return new RegExp((t?"":"^")+e+(t?"$":""))},addSelectAllIntegration:function(t){var e=this;t.editable().attachListener(t,"beforeCommandExec",(function(n){var a=t.editable();"selectAll"==n.data.name&&a&&e.addFillers(a)}),null,null,9999)}}}(),function(){function t(t){this.editor=t,this.registered={},this.instances={},this.selected=[],this.widgetHoldingFocusedEditable=this.focused=null,this._={nextId:0,upcasts:[],upcastCallbacks:[],filters:{}},function(t){var n,a,o=t.editor;o.on("toHtml",(function(a){var o,i=function(t){var n=[],a=t._.upcasts,o=t._.upcastCallbacks;return{toBeWrapped:n,iterator:function(t){var i,r,s,l,d;if("data-cke-widget-wrapper"in t.attributes)return(t=t.getFirst(e.isParserWidgetElement))&&n.push([t]),!1;if("data-widget"in t.attributes)return n.push([t]),!1;if(d=a.length){if(t.attributes["data-cke-widget-upcasted"])return!1;for(l=0,i=o.length;l<i;++l)if(!1===o[l](t))return;for(l=0;l<d;++l)if(s={},r=(i=a[l])[0](t,s))return r instanceof CKEDITOR.htmlParser.element&&(t=r),t.attributes["data-cke-widget-data"]=encodeURIComponent(JSON.stringify(s)),t.attributes["data-cke-widget-upcasted"]=1,n.push([t,i[1]]),!1}}}}(t);for(a.data.dataValue.forEach(i.iterator,CKEDITOR.NODE_ELEMENT,!0);o=i.toBeWrapped.pop();){var r=o[0],s=r.parent;s.type==CKEDITOR.NODE_ELEMENT&&s.attributes["data-cke-widget-wrapper"]&&s.replaceWith(r),t.wrapElement(o[0],o[1])}n=a.data.protectedWhitespaces?3==a.data.dataValue.children.length&&e.isParserWidgetWrapper(a.data.dataValue.children[1]):1==a.data.dataValue.children.length&&e.isParserWidgetWrapper(a.data.dataValue.children[0])}),null,null,8),o.on("dataReady",(function(){if(a)for(var n,i,r=o.editable().find(".cke_widget_wrapper"),s=0,l=r.count();s<l;++s)(i=(n=r.getItem(s)).getFirst(e.isDomWidgetElement)).type==CKEDITOR.NODE_ELEMENT&&i.data("widget")?(i.replace(n),t.wrapElement(i)):n.remove();a=0,t.destroyAll(!0),t.initOnAll()})),o.on("loadSnapshot",(function(e){/data-cke-widget/.test(e.data)&&(a=1),t.destroyAll(!0)}),null,null,9),o.on("paste",(function(t){(t=t.data).dataValue=t.dataValue.replace(q,f),t.range&&(t=e.getNestedEditable(o.editable(),t.range.startContainer))&&(t=CKEDITOR.filter.instances[t.data("cke-filter")])&&o.setActiveFilter(t)})),o.on("afterInsertHtml",(function(e){e.data.intoRange?t.checkWidgets({initOnlyNew:!0}):(o.fire("lockSnapshot"),t.checkWidgets({initOnlyNew:!0,focusInited:n}),o.fire("unlockSnapshot"))}))}(this),function(t){var n=t.editor,a={};n.on("toDataFormat",(function(n){var o=CKEDITOR.tools.getNextNumber(),i=[];n.data.downcastingSessionId=o,a[o]=i,n.data.dataValue.forEach((function(n){var a,o=n.attributes;if("data-cke-widget-white-space"in o){a=r(n);var l=s(n);a.parent.attributes["data-cke-white-space-first"]&&(a.value=a.value.replace(/^&nbsp;/g," ")),l.parent.attributes["data-cke-white-space-last"]&&(l.value=l.value.replace(/&nbsp;$/g," "))}if("data-cke-widget-id"in o)(o=t.instances[o["data-cke-widget-id"]])&&(a=n.getFirst(e.isParserWidgetElement),i.push({wrapper:n,element:a,widget:o,editables:{}}),a&&"1"!=a.attributes["data-cke-widget-keep-attr"]&&delete a.attributes["data-widget"]);else if("data-cke-widget-editable"in o)return 0<i.length&&(i[i.length-1].editables[o["data-cke-widget-editable"]]=n),!1}),CKEDITOR.NODE_ELEMENT,!0)}),null,null,8),n.on("toDataFormat",(function(t){if(t.data.downcastingSessionId)for(var e,n,o,i,r,s,l=a[t.data.downcastingSessionId];e=l.shift();){for(s in n=e.widget,o=e.element,i=n._.downcastFn&&n._.downcastFn.call(n,o),t.data.widgetsCopy&&n.getClipboardHtml&&(i=(i=CKEDITOR.htmlParser.fragment.fromHtml(n.getClipboardHtml())).children[0]),e.editables)delete(r=e.editables[s]).attributes.contenteditable,r.setHtml(n.editables[s].getData());i||(i=o),i?e.wrapper.replaceWith(i):e.wrapper.remove()}}),null,null,13),n.on("contentDomUnload",(function(){t.destroyAll(!0)}))}(this),this.on("checkWidgets",o),this.editor.on("contentDomInvalidated",this.checkWidgets,this),function(t){function n(t){return t?t.type==CKEDITOR.NODE_TEXT?n(t.getParent()):i.widgets.getByElement(t):null}function o(){t.fire("checkSelection")}var i=t.editor;i.on("selectionCheck",o),i.on("contentDom",(function(){i.editable().attachListener(i,"key",(function(){setTimeout(o,10)}))})),CKEDITOR.env.ie||t.on("checkSelection",(function(){var t=i.getSelection();if(t&&(t=t.getRanges()[0])&&!t.collapsed){var e=n(t.startContainer),a=n(t.endContainer);!e&&a?(t.setEndBefore(a.wrapper),t.select()):e&&!a&&(t.setStartAfter(e.wrapper),t.select())}})),t.on("checkSelection",t.checkSelection,t),i.on("selectionChange",(function(n){var a=(n=e.getNestedEditable(i.editable(),n.data.selection.getStartElement()))&&t.getByElement(n),o=t.widgetHoldingFocusedEditable;o?o===a&&o.focusedEditable.equals(n)||(h(t,o,null),a&&n&&h(t,a,n)):a&&n&&h(t,a,n)})),i.on("dataReady",(function(){p(t).commit()})),i.on("blur",(function(){var e;(e=t.focused)&&a(t,e),(e=t.widgetHoldingFocusedEditable)&&h(t,e,null)}))}(this),function(t){var n=t.editor;n.on("contentDom",(function(){var a,o,i=n.editable(),r=i.isInline()?i:n.document;i.attachListener(r,"mousedown",(function(i){var r=i.data.getTarget();a=r instanceof CKEDITOR.dom.element?t.getByElement(r):null,o=0,a&&(a.inline&&r.type==CKEDITOR.NODE_ELEMENT&&r.hasAttribute("data-cke-widget-drag-handler")?(o=1,t.focused!=a&&n.getSelection().removeAllRanges()):e.getNestedEditable(a.wrapper,r)?a=null:(i.data.preventDefault(),CKEDITOR.env.ie||a.focus()))})),i.attachListener(r,"mouseup",(function(){o&&a&&a.wrapper&&(o=0,a.focus())})),CKEDITOR.env.ie&&i.attachListener(r,"mouseup",(function(){setTimeout((function(){a&&a.wrapper&&i.contains(a.wrapper)&&(a.focus(),a=null)}))}))})),n.on("doubleclick",(function(n){var a=t.getByElement(n.data.element);if(a&&!e.getNestedEditable(a.wrapper,n.data.element))return a.fire("doubleclick",{element:n.data.element})}),null,null,1)}(this),function(t){t.editor.on("key",(function(e){var n,a=t.focused,o=t.widgetHoldingFocusedEditable;return a?n=a.fire("key",{keyCode:e.data.keyCode}):o&&(a=e.data.keyCode,e=o.focusedEditable,a==CKEDITOR.CTRL+65?(a=e.getBogus(),(o=o.editor.createRange()).selectNodeContents(e),a&&o.setEndAt(a,CKEDITOR.POSITION_BEFORE_START),o.select(),n=!1):8==a||46==a?(n=o.editor.getSelection().getRanges(),o=n[0],n=!(1==n.length&&o.collapsed&&o.checkBoundaryOfElement(e,CKEDITOR[8==a?"START":"END"]))):n=void 0),n}),null,null,1)}(this),function(t){var n=t.editor,a=CKEDITOR.plugins.lineutils;n.on("dragstart",(function(a){var o=a.data.target;e.isDomDragHandler(o)&&(o=t.getByElement(o),a.data.dataTransfer.setData("cke/widget-id",o.id),n.focus(),o.focus())})),n.on("drop",(function(e){var a=(i=e.data.dataTransfer).getData("cke/widget-id"),o=i.getTransferType(n),i=n.createRange(),r=function(t){return(t=t.getBoundaryNodes().startNode).type!==CKEDITOR.NODE_ELEMENT&&(t=t.getParent()),n.widgets.getByElement(t)}(e.data.dropRange);""!==a&&o===CKEDITOR.DATA_TRANSFER_CROSS_EDITORS?e.cancel():o==CKEDITOR.DATA_TRANSFER_INTERNAL&&(""===a&&0<n.widgets.selected.length?e.data.dataTransfer.setData("text/html",y(n)):(a=t.instances[a])&&(function(t,e){return!(!t||!e)&&(t.wrapper.equals(e.wrapper)||t.wrapper.contains(e.wrapper))}(a,r)?e.cancel():(i.setStartBefore(a.wrapper),i.setEndAfter(a.wrapper),e.data.dragRange=i,delete CKEDITOR.plugins.clipboard.dragStartContainerChildCount,delete CKEDITOR.plugins.clipboard.dragEndContainerChildCount,e.data.dataTransfer.setData("text/html",a.getClipboardHtml()),n.widgets.destroy(a,!0))))})),n.on("contentDom",(function(){var o=n.editable();CKEDITOR.tools.extend(t,{finder:new a.finder(n,{lookups:{default:function(n){if(!n.is(CKEDITOR.dtd.$listItem)&&n.is(CKEDITOR.dtd.$block)&&!e.isDomNestedEditable(n)&&!t._.draggedWidget.wrapper.contains(n)){var a=e.getNestedEditable(o,n);if(a){if(n=t._.draggedWidget,t.getByElement(a)==n)return;if(a=CKEDITOR.filter.instances[a.data("cke-filter")],n=n.requiredContent,a&&n&&!a.check(n))return}return CKEDITOR.LINEUTILS_BEFORE|CKEDITOR.LINEUTILS_AFTER}}}}),locator:new a.locator(n),liner:new a.liner(n,{lineStyle:{cursor:"move !important","border-top-color":"#666"},tipLeftStyle:{"border-left-color":"#666"},tipRightStyle:{"border-right-color":"#666"}})},!0)}))}(this),function(t){function e(e){1>t.selected.length||b(n,"cut"===e.name)}var n=t.editor;n.on("contentDom",(function(){var t=n.editable();t.attachListener(t,"copy",e),t.attachListener(t,"cut",e)}))}(this)}function e(t,n,a,o,i){var r=t.editor;CKEDITOR.tools.extend(this,o,{editor:r,id:n,inline:"span"==a.getParent().getName(),element:a,data:CKEDITOR.tools.extend({},"function"==typeof o.defaults?o.defaults():o.defaults),dataReady:!1,inited:!1,ready:!1,edit:e.prototype.edit,focusedEditable:null,definition:o,repository:t,draggable:!1!==o.draggable,_:{downcastFn:o.downcast&&"string"==typeof o.downcast?o.downcasts[o.downcast]:o.downcast}},!0),t.fire("instanceCreated",this),function(t,n){var a=t.editor.config.widget_keystrokeInsertLineBefore,o=t.editor.config.widget_keystrokeInsertLineAfter;(function(t){(t.wrapper=t.element.getParent()).setAttribute("data-cke-widget-id",t.id)})(t),I(t),function(t){var e,n,a=t.editables;if(t.editables={},t.editables)for(e in a)n=a[e],t.initEditable(e,"string"==typeof n?{selector:n}:n)}(t),D(t),function(t){if(t.draggable){var n,a=t.editor,o=t.wrapper.getLast(e.isDomDragHandlerContainer);o?n=o.findOne("img"):((o=new CKEDITOR.dom.element("span",a.document)).setAttributes({class:"cke_reset cke_widget_drag_handler_container",style:"background:rgba(220,220,220,0.5);background-image:url("+a.plugins.widget.path+"images/handle.png);display:none;"}),(n=new CKEDITOR.dom.element("img",a.document)).setAttributes({class:"cke_reset cke_widget_drag_handler","data-cke-widget-drag-handler":"1",src:CKEDITOR.tools.transparentImageData,width:15,title:a.lang.widget.move,height:15,role:"presentation"}),t.inline&&n.setAttribute("draggable","true"),o.append(n),t.wrapper.append(o)),t.wrapper.on("dragover",(function(t){t.data.preventDefault()})),t.wrapper.on("mouseenter",t.updateDragHandlerPosition,t),setTimeout((function(){t.on("data",t.updateDragHandlerPosition,t)}),50),!t.inline&&(n.on("mousedown",w,t),CKEDITOR.env.ie&&9>CKEDITOR.env.version)&&n.on("dragstart",(function(t){t.data.preventDefault(!0)})),t.dragHandlerContainer=o}}(t),function(t){var e=null;t.on("data",(function(){var t,n=this.data.classes;if(e!=n){for(t in e)n&&n[t]||this.removeClass(t);for(t in n)this.addClass(t);e=n}}))}(t),function(t){t.on("data",(function(){if(t.wrapper){var e=this.getLabel?this.getLabel():this.editor.lang.widget.label.replace(/%1/,this.pathName||this.element.getName());t.wrapper.setAttribute("role","region"),t.wrapper.setAttribute("aria-label",e)}}),null,null,9999)}(t),CKEDITOR.env.ie&&9>CKEDITOR.env.version&&t.wrapper.on("dragstart",(function(n){var a=n.data.getTarget();e.getNestedEditable(t,a)||t.inline&&e.isDomDragHandler(a)||n.data.preventDefault()})),t.wrapper.removeClass("cke_widget_new"),t.element.addClass("cke_widget_element"),t.on("key",(function(e){if((e=e.data.keyCode)==a)x(t,"before"),t.editor.fire("saveSnapshot");else if(e==o)x(t,"after"),t.editor.fire("saveSnapshot");else if(13==e)t.edit();else{if(e==CKEDITOR.CTRL+67||e==CKEDITOR.CTRL+88)return void b(t.editor,e==CKEDITOR.CTRL+88);if(e in k||CKEDITOR.CTRL&e||CKEDITOR.ALT&e)return}return!1}),null,null,999),t.on("doubleclick",(function(e){t.edit()&&e.cancel()})),n.data&&t.on("data",n.data),n.edit&&t.on("edit",n.edit)}(this,o),this.init&&this.init(),this.inited=!0,(t=this.element.data("cke-widget-data"))&&this.setData(JSON.parse(decodeURIComponent(t))),i&&this.setData(i),this.data.classes||this.setData("classes",this.getClasses()),this.dataReady=!0,O(this),this.fire("data",this.data),this.isInited()&&r.editable().contains(this.wrapper)&&(this.ready=!0,this.fire("ready"))}function n(t,e,n){CKEDITOR.dom.element.call(this,e.$),this.editor=t,this._={},e=this.filter=n.filter,CKEDITOR.dtd[this.getName()].p?(this.enterMode=e?e.getAllowedEnterMode(t.enterMode):t.enterMode,this.shiftEnterMode=e?e.getAllowedEnterMode(t.shiftEnterMode,!0):t.shiftEnterMode):this.enterMode=this.shiftEnterMode=CKEDITOR.ENTER_BR}function a(t,e){if(t.focused=null,e.isInited()){var n=e.editor.checkDirty();t.fire("widgetBlurred",{widget:e}),e.setFocused(!1),!n&&e.editor.resetDirty()}}function o(t){if(t=t.data,"wysiwyg"==this.editor.mode){var n,a,o,i,r=this.editor.editable(),s=this.instances;if(r){for(n in s)s[n].isReady()&&!r.contains(s[n].wrapper)&&this.destroy(s[n],!0);if(t&&t.initOnlyNew)s=this.initOnAll();else{var l=r.find(".cke_widget_wrapper");for(s=[],n=0,a=l.count();n<a;n++){if(o=l.getItem(n),i=!this.getByElement(o,!0)){t:{i=m;for(var d=o;d=d.getParent();)if(i(d)){i=!0;break t}i=!1}i=!i}i&&r.contains(o)&&(o.addClass("cke_widget_new"),s.push(this.initOn(o.getFirst(e.isDomWidgetElement))))}}t&&t.focusInited&&1==s.length&&s[0].focus()}}}function i(t){if(void 0!==t.attributes&&t.attributes["data-widget"]){var e=r(t),n=s(t),a=!1;e&&e.value&&e.value.match(/^\s/g)&&(e.parent.attributes["data-cke-white-space-first"]=1,e.value=e.value.replace(/^\s/g,"&nbsp;"),a=!0),n&&n.value&&n.value.match(/\s$/g)&&(n.parent.attributes["data-cke-white-space-last"]=1,n.value=n.value.replace(/\s$/g,"&nbsp;"),a=!0),a&&(t.attributes["data-cke-widget-white-space"]=1)}}function r(t){return t.find((function(t){return 3===t.type}),!0).shift()}function s(t){return t.find((function(t){return 3===t.type}),!0).pop()}function l(t,e,n){if(!n.allowedContent&&!n.disallowedContent)return null;var a=this._.filters[t];return a||(this._.filters[t]=a={}),(t=a[e])||(t=n.allowedContent?new CKEDITOR.filter(n.allowedContent):this.editor.filter.clone(),a[e]=t,n.disallowedContent&&t.disallow(n.disallowedContent)),t}function d(t,e){return{tabindex:-1,contenteditable:"false","data-cke-widget-wrapper":1,"data-cke-filter":"off",class:"cke_widget_wrapper cke_widget_new cke_widget_"+(t?"inline":"block")+(e?" cke_widget_"+e:"")}}function u(t,e,n){if(t.type==CKEDITOR.NODE_ELEMENT&&(a=CKEDITOR.dtd[t.name])&&!a[n.name]){var a=t.split(e),o=t.parent;return e=a.getIndex(),t.children.length||(--e,t.remove()),a.children.length||a.remove(),u(o,e,n)}t.add(n,e)}function c(t,e){return"boolean"==typeof t.inline?t.inline:!!CKEDITOR.dtd.$inline[e]}function m(t){return t.hasAttribute("data-cke-temp")}function h(t,e,n,a){var o=t.editor;o.fire("lockSnapshot"),n?(a=n.data("cke-widget-editable"),a=e.editables[a],t.widgetHoldingFocusedEditable=e,e.focusedEditable=a,n.addClass("cke_widget_editable_focused"),a.filter&&o.setActiveFilter(a.filter),o.setActiveEnterMode(a.enterMode,a.shiftEnterMode)):(a||e.focusedEditable.removeClass("cke_widget_editable_focused"),e.focusedEditable=null,t.widgetHoldingFocusedEditable=null,o.setActiveFilter(null),o.setActiveEnterMode(null,null)),o.fire("unlockSnapshot")}function f(t,e){return CKEDITOR.tools.trim(e)}function p(t){var e=t.selected,n=[],o=e.slice(0),i=null;return{select:function(t){return 0>CKEDITOR.tools.indexOf(e,t)&&n.push(t),0<=(t=CKEDITOR.tools.indexOf(o,t))&&o.splice(t,1),this},focus:function(t){return i=t,this},commit:function(){var r,s,l=t.focused!==i;for(t.editor.fire("lockSnapshot"),l&&(r=t.focused)&&a(t,r);r=o.pop();)e.splice(CKEDITOR.tools.indexOf(e,r),1),r.isInited()&&(s=r.editor.checkDirty(),r.setSelected(!1),!s&&r.editor.resetDirty());for(l&&i&&(s=t.editor.checkDirty(),t.focused=i,t.fire("widgetFocused",{widget:i}),i.setFocused(!0),!s&&t.editor.resetDirty());r=n.pop();)e.push(r),r.setSelected(!0);t.editor.fire("unlockSnapshot")}}}function g(t,e,n){var a=0;e=E(e);var o,i=t.data.classes||{};if(e){for(i=CKEDITOR.tools.clone(i);o=e.pop();)n?i[o]||(a=i[o]=1):i[o]&&(delete i[o],a=1);a&&t.setData("classes",i)}}function v(t){t.cancel()}function x(t,e){var n=function(t){return t==CKEDITOR.ENTER_BR?"br":t==CKEDITOR.ENTER_DIV?"div":"p"}(t.editor.config.enterMode),a=new CKEDITOR.dom.element(n);"br"!==n&&a.appendBogus(),"after"===e?a.insertAfter(t.wrapper):a.insertBefore(t.wrapper),function(e){var n=t.editor.createRange();n.setStart(e,0),t.editor.getSelection().selectRanges([n])}(a)}function b(t,e){var n,a,o,i=t.widgets.focused;K.hasCopyBin(t)||(a=new K(t,{beforeDestroy:function(){!e&&i&&i.focus(),o&&t.getSelection().selectBookmarks(o),n&&CKEDITOR.plugins.widgetselection.addFillers(t.editable())},afterDestroy:function(){e&&!t.readOnly&&(i?t.widgets.del(i):t.extractSelectedHtml(),t.fire("saveSnapshot"))}}),i||(n=CKEDITOR.env.webkit&&CKEDITOR.plugins.widgetselection.isWholeContentSelected(t.editable()),o=t.getSelection().createBookmarks(!0)),a.handle(y(t)))}function E(t){return(t=(t=t.getDefinition().attributes)&&t.class)?t.split(/\s+/):null}function T(){var t=CKEDITOR.document.getActive(),e=this.editor,n=e.editable();(n.isInline()?n:e.document.getWindow().getFrame()).equals(t)&&e.focusManager.focus(n)}function C(){CKEDITOR.env.gecko&&this.editor.unlockSelection(),CKEDITOR.env.webkit||(this.editor.forceNextSelectionCheck(),this.editor.selectionChange(1))}function y(t){var e=t.getSelectedHtml(!0);return t.widgets.focused?t.widgets.focused.getClipboardHtml():(t.once("toDataFormat",(function(t){t.data.widgetsCopy=!0}),null,null,-1),t.dataProcessor.toDataFormat(e))}function I(t,e){if(t.partSelectors||(t.partSelectors=t.parts),t.parts){var n,a,o={};for(a in t.partSelectors)e||!t.parts[a]||"string"==typeof t.parts[a]?(n=t.wrapper.findOne(t.partSelectors[a]),o[a]=n):o[a]=t.parts[a];t.parts=o}}function D(t){if(!0===t.mask)!function(t){var e=t.wrapper.findOne(".cke_widget_mask");e||((e=new CKEDITOR.dom.element("img",t.editor.document)).setAttributes({src:CKEDITOR.tools.transparentImageData,class:"cke_reset cke_widget_mask"}),t.wrapper.append(e)),t.mask=e}(t);else if(t.mask){var e,n,a=new CKEDITOR.tools.buffers.throttle(250,_,t),o=CKEDITOR.env.gecko?300:0;if(t.on("focus",(function(){a.input(),e=t.editor.on("change",a.input),n=t.on("blur",(function(){e.removeListener(),n.removeListener()}))})),t.editor.on("instanceReady",(function(){setTimeout((function(){a.input()}),o)})),t.editor.on("mode",(function(){setTimeout((function(){a.input()}),o)})),CKEDITOR.env.gecko){var i=t.element.find("img");CKEDITOR.tools.array.forEach(i.toArray(),(function(t){t.on("load",(function(){a.input()}))}))}for(var r in t.editables)t.editables[r].on("focus",(function(){t.editor.on("change",a.input),n&&n.removeListener()})),t.editables[r].on("blur",(function(){t.editor.removeListener("change",a.input)}));a.input()}}function _(){if(this.wrapper){this.maskPart=this.maskPart||this.mask;var t,e=this.parts[this.maskPart];if(e&&"string"!=typeof e){(t=this.wrapper.findOne(".cke_widget_partial_mask"))||((t=new CKEDITOR.dom.element("img",this.editor.document)).setAttributes({src:CKEDITOR.tools.transparentImageData,class:"cke_reset cke_widget_partial_mask"}),this.wrapper.append(t)),this.mask=t;var n=t.$,a=e.$,o=!(n.offsetTop==a.offsetTop&&n.offsetLeft==a.offsetLeft);(n.offsetWidth!=a.offsetWidth||n.offsetHeight!=a.offsetHeight||o)&&(n=e.getParent(),a=CKEDITOR.plugins.widget.isDomWidget(n),t.setStyles({top:e.$.offsetTop+(a?0:n.$.offsetTop)+"px",left:e.$.offsetLeft+(a?0:n.$.offsetLeft)+"px",width:e.$.offsetWidth+"px",height:e.$.offsetHeight+"px"}))}}}function w(t){function e(){var e;for(m.reset();e=d.pop();)e.removeListener();var n=u;e=t.sender;var a=this.repository.finder,o=this.repository.liner,i=this.editor,r=this.editor.editable();CKEDITOR.tools.isEmpty(o.visible)||(n=a.getRange(n[0]),this.focus(),i.fire("drop",{dropRange:n,target:n.startContainer})),r.removeClass("cke_widget_dragging"),o.hideVisible(),i.fire("dragend",{target:e})}if(CKEDITOR.tools.getMouseButton(t)===CKEDITOR.MOUSE_BUTTON_LEFT){var n,a,o=this.repository.finder,i=this.repository.locator,r=this.repository.liner,s=this.editor,l=s.editable(),d=[],u=[];this.repository._.draggedWidget=this;var c=o.greedySearch(),m=CKEDITOR.tools.eventsBuffer(50,(function(){n=i.locate(c),(u=i.sort(a,1)).length&&(r.prepare(c,n),r.placeLine(u[0]),r.cleanup())}));l.addClass("cke_widget_dragging"),d.push(l.on("mousemove",(function(t){a=t.data.$.clientY,m.input()}))),s.fire("dragstart",{target:t.sender}),d.push(s.document.once("mouseup",e,this)),l.isInline()||d.push(CKEDITOR.document.once("mouseup",e,this))}}function O(t){t.element.data("cke-widget-data",encodeURIComponent(JSON.stringify(t.data)))}function R(){function t(){}function n(t,e,n){return!(!n||!this.checkElement(t))&&(t=n.widgets.getByElement(t,!0))&&t.checkStyleActive(this)}function a(t){function e(t,e,n){for(var a=t.length,o=0;o<a;){if(e.call(n,t[o],o,t))return t[o];o++}}function n(t){function e(t,n){var a=CKEDITOR.tools.object.keys(t),o=CKEDITOR.tools.object.keys(n);if(a.length!==o.length)return!1;for(var i in t)if(("object"!=typeof t[i]||"object"!=typeof n[i]||!e(t[i],n[i]))&&t[i]!==n[i])return!1;return!0}return function(n){return e(t.getDefinition(),n.getDefinition())}}var a,i=t.widget;o[i]||(o[i]={});for(var r=0,s=t.group.length;r<s;r++)a=t.group[r],o[i][a]||(o[i][a]=[]),e(a=o[i][a],n(t))||a.push(t)}var o={};CKEDITOR.style.addCustomHandler({type:"widget",setup:function(t){this.widget=t.widget,(this.group="string"==typeof t.group?[t.group]:t.group)&&a(this)},apply:function(t){var e;t instanceof CKEDITOR.editor&&this.checkApplicable(t.elementPath(),t)&&(e=t.widgets.focused,this.group&&this.removeStylesFromSameGroup(t),e.applyStyle(this))},remove:function(t){t instanceof CKEDITOR.editor&&this.checkApplicable(t.elementPath(),t)&&t.widgets.focused.removeStyle(this)},removeStylesFromSameGroup:function(t){var e,n,a=!1;if(!(t instanceof CKEDITOR.editor))return!1;if(n=t.elementPath(),this.checkApplicable(n,t))for(var i=0,r=this.group.length;i<r;i++){e=o[this.widget][this.group[i]];for(var s=0;s<e.length;s++)e[s]!==this&&e[s].checkActive(n,t)&&(t.widgets.focused.removeStyle(e[s]),a=!0)}return a},checkActive:function(t,e){return this.checkElementMatch(t.lastElement,0,e)},checkApplicable:function(t,e){return e instanceof CKEDITOR.editor&&this.checkElement(t.lastElement)},checkElementMatch:n,checkElementRemovable:n,checkElement:function(t){return!!e.isDomWidgetWrapper(t)&&(t=t.getFirst(e.isDomWidgetElement))&&t.data("widget")==this.widget},buildPreview:function(t){return t||this._.definition.name},toAllowedContentRules:function(t){if(!t)return null;var e,n={};return(t=t.widgets.registered[this.widget])?t.styleableElements?(e=this.getClassesArray())?(n[t.styleableElements]={classes:e,propertiesOnly:!0},n):null:t.styleToAllowedContentRules?t.styleToAllowedContentRules(this):null:null},getClassesArray:function(){var t=this._.definition.attributes&&this._.definition.attributes.class;return t?CKEDITOR.tools.trim(t).split(/\s+/):null},applyToRange:t,removeFromRange:t,applyToObject:t})}CKEDITOR.plugins.add("widget",{requires:"lineutils,clipboard,widgetselection",onLoad:function(){void 0!==CKEDITOR.document.$.querySelectorAll&&(CKEDITOR.addCss('.cke_widget_wrapper{position:relative;outline:none}.cke_widget_inline{display:inline-block}.cke_widget_wrapper:hover>.cke_widget_element{outline:2px solid #ffd25c;cursor:default}.cke_widget_wrapper:hover .cke_widget_editable{outline:2px solid #ffd25c}.cke_widget_wrapper.cke_widget_focused>.cke_widget_element,.cke_widget_wrapper .cke_widget_editable.cke_widget_editable_focused{outline:2px solid #47a4f5}.cke_widget_editable{cursor:text}.cke_widget_drag_handler_container{position:absolute;width:15px;height:0;display:block;opacity:0.75;transition:height 0s 0.2s;line-height:0}.cke_widget_wrapper:hover>.cke_widget_drag_handler_container{height:15px;transition:none}.cke_widget_drag_handler_container:hover{opacity:1}.cke_editable[contenteditable="false"] .cke_widget_drag_handler_container{display:none;}img.cke_widget_drag_handler{cursor:move;width:15px;height:15px;display:inline-block}.cke_widget_mask{position:absolute;top:0;left:0;width:100%;height:100%;display:block}.cke_widget_partial_mask{position:absolute;display:block}.cke_editable.cke_widget_dragging, .cke_editable.cke_widget_dragging *{cursor:move !important}'),R())},beforeInit:function(e){void 0!==CKEDITOR.document.$.querySelectorAll&&(e.widgets=new t(e))},afterInit:function(t){if(void 0!==CKEDITOR.document.$.querySelectorAll){var e,n,a,o=t.widgets.registered;for(n in o)(a=(e=o[n]).button)&&t.ui.addButton&&t.ui.addButton(CKEDITOR.tools.capitalize(e.name,!0),{label:a,command:e.name,toolbar:"insert,10"});!function(t){t.contextMenu&&t.contextMenu.addListener((function(e){if(e=t.widgets.getByElement(e,!0))return e.fire("contextMenu",{})}))}(t),function(t){t&&t.addFilterRule((function(t){return t.replace(/\s*cke_widget_selected/g,"").replace(/\s*cke_widget_focused/g,"")}))}(t.undoManager)}}}),t.prototype={MIN_SELECTION_CHECK_INTERVAL:500,add:function(t,e){var n=this.editor;if((e=CKEDITOR.tools.prototypedCopy(e)).name=t,e._=e._||{},n.fire("widgetDefinition",e),e.template&&(e.template=new CKEDITOR.template(e.template)),function(t,e){t.addCommand(e.name,{exec:function(t,n){function a(){t.widgets.finalizeCreation(s)}if((i=t.widgets.focused)&&i.name==e.name)i.edit();else if(e.insert)e.insert({editor:t,commandData:n});else if(e.template){var o,i="function"==typeof e.defaults?e.defaults():e.defaults,r=(i=CKEDITOR.tools.object.merge(i||{},n&&n.startupData||{}),i=CKEDITOR.dom.element.createFromHtml(e.template.output(i),t.document),t.widgets.wrapElement(i,e.name)),s=new CKEDITOR.dom.documentFragment(r.getDocument());s.append(r),(o=t.widgets.initOn(i,e,n&&n.startupData))?(i=o.once("edit",(function(e){e.data.dialog?o.once("dialog",(function(e){var n,i;e=e.data,n=e.once("ok",a,null,null,20),i=e.once("cancel",(function(e){e.data&&!1===e.data.hide||t.widgets.destroy(o,!0)})),e.once("hide",(function(){n.removeListener(),i.removeListener()}))})):a()}),null,null,999),o.edit(),i.removeListener()):a()}},allowedContent:e.allowedContent,requiredContent:e.requiredContent,contentForms:e.contentForms,contentTransformations:e.contentTransformations})}(n,e),function(t,e){var n=e.upcast,a=e.upcastPriority||10;n&&function(e,n,a){var o=CKEDITOR.tools.getIndex(t._.upcasts,(function(t){return t[2]>a}));0>o&&(o=t._.upcasts.length),t._.upcasts.splice(o,0,[CKEDITOR.tools.bind(e,n),n.name,a])}("string"==typeof n?function(t,n){var a,o,i=e.upcast.split(",");for(o=0;o<i.length;o++)if((a=i[o])===t.name)return e.upcasts[a].call(this,t,n);return!1}:n,e,a)}(this,e),this.registered[t]=e,e.dialog&&n.plugins.dialog)var a=CKEDITOR.on("dialogDefinition",(function(t){var o=(t=t.data.definition).dialog;t.getMode||o.getName()!==e.dialog||(t.getMode=function(){var t=o.getModel(n);return t&&t instanceof CKEDITOR.plugins.widget&&t.ready?CKEDITOR.dialog.EDITING_MODE:CKEDITOR.dialog.CREATION_MODE}),a.removeListener()}));return e},addUpcastCallback:function(t){this._.upcastCallbacks.push(t)},checkSelection:function(){if(this.editor.getSelection()){var t,n=this.editor.getSelection(),a=n.getSelectedElement(),o=p(this);if(a&&(t=this.getByElement(a,!0)))return o.focus(t).select(t).commit();if(!(n=n.getRanges()[0])||n.collapsed)return o.commit();for((n=new CKEDITOR.dom.walker(n)).evaluator=e.isDomWidgetWrapper;a=n.next();)o.select(this.getByElement(a));o.commit()}},checkWidgets:function(t){this.fire("checkWidgets",CKEDITOR.tools.copy(t||{}))},del:function(t){if(this.focused===t){var e,n=t.editor,a=n.createRange();(e=a.moveToClosestEditablePosition(t.wrapper,!0))||(e=a.moveToClosestEditablePosition(t.wrapper,!1)),e&&n.getSelection().selectRanges([a])}t.wrapper.remove(),this.destroy(t,!0)},destroy:function(t,e){this.widgetHoldingFocusedEditable===t&&h(this,t,null,e),t.destroy(e),delete this.instances[t.id],this.fire("instanceDestroyed",t)},destroyAll:function(t,e){var n,a,o=this.instances;if(e&&!t){o=(a=e.find(".cke_widget_wrapper")).count();for(var i=0;i<o;++i)(n=this.getByElement(a.getItem(i),!0))&&this.destroy(n)}else for(a in o)n=o[a],this.destroy(n,t)},finalizeCreation:function(t){(t=t.getFirst())&&e.isDomWidgetWrapper(t)&&(this.editor.insertElement(t),(t=this.getByElement(t)).ready=!0,t.fire("ready"),t.focus())},getByElement:function(){function t(t){return t.is(e)&&t.data("cke-widget-id")}var e={div:1,span:1};return function(e,n){if(!e)return null;var a=t(e);if(!n&&!a){var o=this.editor.editable();do{e=e.getParent()}while(e&&!e.equals(o)&&!(a=t(e)))}return this.instances[a]||null}}(),initOn:function(t,n,a){if(n?"string"==typeof n&&(n=this.registered[n]):n=this.registered[t.data("widget")],!n)return null;var o=this.wrapElement(t,n.name);return o?o.hasClass("cke_widget_new")?(t=new e(this,this._.nextId++,t,n,a)).isInited()?this.instances[t.id]=t:null:this.getByElement(t):null},initOnAll:function(t){for(var n,a=[],o=(t=(t||this.editor.editable()).find(".cke_widget_new")).count();o--;)(n=this.initOn(t.getItem(o).getFirst(e.isDomWidgetElement)))&&a.push(n);return a},onWidget:function(t){var e=Array.prototype.slice.call(arguments);for(var n in e.shift(),this.instances){var a=this.instances[n];a.name==t&&a.on.apply(a,e)}this.on("instanceCreated",(function(n){(n=n.data).name==t&&n.on.apply(n,e)}))},parseElementClasses:function(t){if(!t)return null;t=CKEDITOR.tools.trim(t).split(/\s+/);for(var e,n={},a=0;e=t.pop();)-1==e.indexOf("cke_")&&(n[e]=a=1);return a?n:null},wrapElement:function(t,e){var n,a,o=null;if(t instanceof CKEDITOR.dom.element){if(e=e||t.data("widget"),!(n=this.registered[e]))return null;if((o=t.getParent())&&o.type==CKEDITOR.NODE_ELEMENT&&o.data("cke-widget-wrapper"))return o;t.hasAttribute("data-cke-widget-keep-attr")||t.data("cke-widget-keep-attr",t.data("widget")?1:0),t.data("widget",e),(a=c(n,t.getName()))&&i(t),(o=new CKEDITOR.dom.element(a?"span":"div",t.getDocument())).setAttributes(d(a,e)),o.data("cke-display-name",n.pathName?n.pathName:t.getName()),t.getParent(!0)&&o.replace(t),t.appendTo(o)}else if(t instanceof CKEDITOR.htmlParser.element){if(e=e||t.attributes["data-widget"],!(n=this.registered[e]))return null;if((o=t.parent)&&o.type==CKEDITOR.NODE_ELEMENT&&o.attributes["data-cke-widget-wrapper"])return o;var r;"data-cke-widget-keep-attr"in t.attributes||(t.attributes["data-cke-widget-keep-attr"]=t.attributes["data-widget"]?1:0),e&&(t.attributes["data-widget"]=e),(a=c(n,t.name))&&i(t),(o=new CKEDITOR.htmlParser.element(a?"span":"div",d(a,e))).attributes["data-cke-display-name"]=n.pathName?n.pathName:t.name,(n=t.parent)&&(r=t.getIndex(),t.remove()),o.add(t),n&&u(n,r,o)}return o},_tests_createEditableFilter:l},CKEDITOR.event.implementOn(t.prototype),e.prototype={addClass:function(t){this.element.addClass(t),this.wrapper.addClass(e.WRAPPER_CLASS_PREFIX+t)},applyStyle:function(t){g(this,t,1)},checkStyleActive:function(t){var e;if(!(t=E(t)))return!1;for(;e=t.pop();)if(!this.hasClass(e))return!1;return!0},destroy:function(t){if(this.fire("destroy"),this.editables)for(var e in this.editables)this.destroyEditable(e,t);t||("0"==this.element.data("cke-widget-keep-attr")&&this.element.removeAttribute("data-widget"),this.element.removeAttributes(["data-cke-widget-data","data-cke-widget-keep-attr"]),this.element.removeClass("cke_widget_element"),this.element.replace(this.wrapper)),this.wrapper=null},destroyEditable:function(t,e){var n=this.editables[t],a=!0;if(n.removeListener("focus",C),n.removeListener("blur",T),this.editor.focusManager.remove(n),n.filter){for(var o in this.repository.instances){var i=this.repository.instances[o];i.editables&&(i=i.editables[t])&&i!==n&&n.filter===i.filter&&(a=!1)}a&&(n.filter.destroy(),(a=this.repository._.filters[this.name])&&delete a[t])}e||(this.repository.destroyAll(!1,n),n.removeClass("cke_widget_editable"),n.removeClass("cke_widget_editable_focused"),n.removeAttributes(["contenteditable","data-cke-widget-editable","data-cke-enter-mode"])),delete this.editables[t]},edit:function(){var t={dialog:this.dialog},e=this;return!(!1===this.fire("edit",t)||!t.dialog||(this.editor.openDialog(t.dialog,(function(t){var n,a;!1!==e.fire("dialog",t)&&(n=t.on("show",(function(){t.setupContent(e)})),a=t.on("ok",(function(){var n,a=e.on("data",(function(t){n=1,t.cancel()}),null,null,0);e.editor.fire("saveSnapshot"),t.commitContent(e),a.removeListener(),n&&(e.fire("data",e.data),e.editor.fire("saveSnapshot"))})),t.once("hide",(function(){n.removeListener(),a.removeListener()})))}),e),0))},getClasses:function(){return this.repository.parseElementClasses(this.element.getAttribute("class"))},getClipboardHtml:function(){var t=this.editor.createRange();return t.setStartBefore(this.wrapper),t.setEndAfter(this.wrapper),this.editor.editable().getHtmlFromRange(t).getHtml()},hasClass:function(t){return this.element.hasClass(t)},initEditable:function(t,e){var a=this._findOneNotNested(e.selector);return!(!a||!a.is(CKEDITOR.dtd.$editable)||(a=new n(this.editor,a,{filter:l.call(this.repository,this.name,t,e)}),this.editables[t]=a,a.setAttributes({contenteditable:"true","data-cke-widget-editable":t,"data-cke-enter-mode":a.enterMode}),a.filter&&a.data("cke-filter",a.filter.id),a.addClass("cke_widget_editable"),a.removeClass("cke_widget_editable_focused"),e.pathName&&a.data("cke-display-name",e.pathName),this.editor.focusManager.add(a),a.on("focus",C,this),CKEDITOR.env.ie&&a.on("blur",T,this),a._.initialSetData=!0,a.setData(a.getHtml()),0))},_findOneNotNested:function(t){t=this.wrapper.find(t);for(var n,a,o=0;o<t.count();o++)if(a=(n=t.getItem(o)).getAscendant(e.isDomWidgetWrapper),this.wrapper.equals(a))return n;return null},isInited:function(){return!(!this.wrapper||!this.inited)},isReady:function(){return this.isInited()&&this.ready},focus:function(){var t=this.editor.getSelection();if(t){var e=this.editor.checkDirty();t.fake(this.wrapper),!e&&this.editor.resetDirty()}this.editor.focus()},refreshMask:function(){D(this)},refreshParts:function(t){I(this,void 0===t||t)},removeClass:function(t){this.element.removeClass(t),this.wrapper.removeClass(e.WRAPPER_CLASS_PREFIX+t)},removeStyle:function(t){g(this,t,0)},setData:function(t,e){var n=this.data,a=0;if("string"==typeof t)n[t]!==e&&(n[t]=e,a=1);else{var o=t;for(t in o)n[t]!==o[t]&&(a=1,n[t]=o[t])}return a&&this.dataReady&&(O(this),this.fire("data",n)),this},setFocused:function(t){return this.wrapper[t?"addClass":"removeClass"]("cke_widget_focused"),this.fire(t?"focus":"blur"),this},setSelected:function(t){return this.wrapper[t?"addClass":"removeClass"]("cke_widget_selected"),this.fire(t?"select":"deselect"),this},updateDragHandlerPosition:function(){var t=this.editor,e=this.element.$,n=this._.dragHandlerOffset;e={x:e.offsetLeft,y:e.offsetTop-15},n&&e.x==n.x&&e.y==n.y||(n=t.checkDirty(),t.fire("lockSnapshot"),this.dragHandlerContainer.setStyles({top:e.y+"px",left:e.x+"px"}),this.dragHandlerContainer.removeStyle("display"),t.fire("unlockSnapshot"),!n&&t.resetDirty(),this._.dragHandlerOffset=e)}},CKEDITOR.event.implementOn(e.prototype),e.getNestedEditable=function(t,n){return!n||n.equals(t)?null:e.isDomNestedEditable(n)?n:e.getNestedEditable(t,n.getParent())},e.isDomDragHandler=function(t){return t.type==CKEDITOR.NODE_ELEMENT&&t.hasAttribute("data-cke-widget-drag-handler")},e.isDomDragHandlerContainer=function(t){return t.type==CKEDITOR.NODE_ELEMENT&&t.hasClass("cke_widget_drag_handler_container")},e.isDomNestedEditable=function(t){return t.type==CKEDITOR.NODE_ELEMENT&&t.hasAttribute("data-cke-widget-editable")},e.isDomWidgetElement=function(t){return t.type==CKEDITOR.NODE_ELEMENT&&t.hasAttribute("data-widget")},e.isDomWidgetWrapper=function(t){return t.type==CKEDITOR.NODE_ELEMENT&&t.hasAttribute("data-cke-widget-wrapper")},e.isDomWidget=function(t){return!!t&&(this.isDomWidgetWrapper(t)||this.isDomWidgetElement(t))},e.isParserWidgetElement=function(t){return t.type==CKEDITOR.NODE_ELEMENT&&!!t.attributes["data-widget"]},e.isParserWidgetWrapper=function(t){return t.type==CKEDITOR.NODE_ELEMENT&&!!t.attributes["data-cke-widget-wrapper"]},e.WRAPPER_CLASS_PREFIX="cke_widget_wrapper_",n.prototype=CKEDITOR.tools.extend(CKEDITOR.tools.prototypedCopy(CKEDITOR.dom.element.prototype),{setData:function(t){this._.initialSetData||this.editor.widgets.destroyAll(!1,this),this._.initialSetData=!1,t=this.editor.dataProcessor.unprotectRealComments(t),t=this.editor.dataProcessor.unprotectSource(t),t=this.editor.dataProcessor.toHtml(t,{context:this.getName(),filter:this.filter,enterMode:this.enterMode}),this.setHtml(t),this.editor.widgets.initOnAll(this)},getData:function(){return this.editor.dataProcessor.toDataFormat(this.getHtml(),{context:this.getName(),filter:this.filter,enterMode:this.enterMode})}});var q=/^(?:<(?:div|span)(?: data-cke-temp="1")?(?: id="cke_copybin")?(?: data-cke-temp="1")?>)?(?:<(?:div|span)(?: style="[^"]+")?>)?<span [^>]*data-cke-copybin-start="1"[^>]*>.?<\/span>([\s\S]+)<span [^>]*data-cke-copybin-end="1"[^>]*>.?<\/span>(?:<\/(?:div|span)>)?(?:<\/(?:div|span)>)?$/i,k={37:1,38:1,39:1,40:1,8:1,46:1};k[CKEDITOR.SHIFT+121]=1;var K=CKEDITOR.tools.createClass({$:function(t,e){this._.createCopyBin(t,e),this._.createListeners(e)},_:{createCopyBin:function(t){var e=t.document,n=CKEDITOR.env.edge&&16<=CKEDITOR.env.version,a=!t.blockless&&!CKEDITOR.env.ie||n?"div":"span";n=e.createElement(a),(e=e.createElement(a)).setAttributes({id:"cke_copybin","data-cke-temp":"1"}),n.setStyles({position:"absolute",width:"1px",height:"1px",overflow:"hidden"}),n.setStyle("ltr"==t.config.contentsLangDirection?"left":"right","-5000px"),this.editor=t,this.copyBin=n,this.container=e},createListeners:function(t){t&&(t.beforeDestroy&&(this.beforeDestroy=t.beforeDestroy),t.afterDestroy&&(this.afterDestroy=t.afterDestroy))}},proto:{handle:function(t){var e,n,a,o=this.copyBin,i=this.editor,r=this.container,s=CKEDITOR.env.ie&&9>CKEDITOR.env.version,l=i.document.getDocumentElement().$,d=i.createRange(),u=this,c=CKEDITOR.env.mac&&CKEDITOR.env.webkit,m=c?100:0,h=window.requestAnimationFrame&&!c?requestAnimationFrame:setTimeout;return o.setHtml('<span data-cke-copybin-start="1">​</span>'+t+'<span data-cke-copybin-end="1">​</span>'),i.fire("lockSnapshot"),r.append(o),i.editable().append(r),e=i.on("selectionChange",v,null,null,0),n=i.widgets.on("checkSelection",v,null,null,0),s&&(a=l.scrollTop),d.selectNodeContents(o),d.select(),s&&(l.scrollTop=a),new CKEDITOR.tools.promise((function(t){h((function(){u.beforeDestroy&&u.beforeDestroy(),r.remove(),e.removeListener(),n.removeListener(),i.fire("unlockSnapshot"),u.afterDestroy&&u.afterDestroy(),t()}),m)}))}},statics:{hasCopyBin:function(t){return!!K.getCopyBin(t)},getCopyBin:function(t){return t.document.getById("cke_copybin")}}});CKEDITOR.plugins.widget=e,e.repository=t,e.nestedEditable=n}(),CKEDITOR.config.widget_keystrokeInsertLineBefore=CKEDITOR.SHIFT+CKEDITOR.ALT+13,CKEDITOR.config.widget_keystrokeInsertLineAfter=CKEDITOR.SHIFT+13,CKEDITOR.config.plugins="dialogui,dialog,notification,button,toolbar,clipboard,confighelper,entities,undo,lineutils,widgetselection,widget",CKEDITOR.config.skin="minimalist",function(){var t=function(t,e){var n=CKEDITOR.getUrl("plugins/"+e);t=t.split(",");for(var a=0;a<t.length;a++)CKEDITOR.skin.icons[t[a]]={path:n,offset:-t[++a],bgsize:t[++a]}};CKEDITOR.env.hidpi?t("about,0,,bold,24,,italic,48,,strike,72,,subscript,96,,superscript,120,,underline,144,,bidiltr,168,,bidirtl,192,,blockquote,216,,copy-rtl,240,,copy,264,,cut-rtl,288,,cut,312,,paste-rtl,336,,paste,360,,codesnippet,384,,bgcolor,408,,textcolor,432,,copyformatting,456,,creatediv,480,,docprops-rtl,504,,docprops,528,,easyimagealigncenter,552,,easyimagealignleft,576,,easyimagealignright,600,,easyimagealt,624,,easyimagefull,648,,easyimageside,672,,easyimageupload,696,,embed,720,,embedsemantic,744,,emojipanel,768,,find-rtl,792,,find,816,,replace,840,,button,864,,checkbox,888,,form,912,,hiddenfield,936,,imagebutton,960,,radio,984,,select-rtl,1008,,select,1032,,textarea-rtl,1056,,textarea,1080,,textfield-rtl,1104,,textfield,1128,,horizontalrule,1152,,iframe,1176,,image,1200,,indent-rtl,1224,,indent,1248,,outdent-rtl,1272,,outdent,1296,,justifyblock,1320,,justifycenter,1344,,justifyleft,1368,,justifyright,1392,,language,1416,,anchor-rtl,1440,,anchor,1464,,link,1488,,unlink,1512,,bulletedlist-rtl,1536,,bulletedlist,1560,,numberedlist-rtl,1584,,numberedlist,1608,,mathjax,1632,,maximize,1656,,newpage-rtl,1680,,newpage,1704,,pagebreak-rtl,1728,,pagebreak,1752,,pastefromword-rtl,1776,,pastefromword,1800,,pastetext-rtl,1824,,pastetext,1848,,placeholder,1872,,preview-rtl,1896,,preview,1920,,print,1944,,removeformat,1968,,save,1992,,selectall,2016,,showblocks-rtl,2040,,showblocks,2064,,smiley,2088,,source-rtl,2112,,source,2136,,sourcedialog-rtl,2160,,sourcedialog,2184,,specialchar,2208,,table,2232,,templates-rtl,2256,,templates,2280,,uicolor,2304,,redo-rtl,2328,,redo,2352,,undo-rtl,2376,,undo,2400,,simplebox,4848,auto","icons_hidpi.png"):t("about,0,auto,bold,24,auto,italic,48,auto,strike,72,auto,subscript,96,auto,superscript,120,auto,underline,144,auto,bidiltr,168,auto,bidirtl,192,auto,blockquote,216,auto,copy-rtl,240,auto,copy,264,auto,cut-rtl,288,auto,cut,312,auto,paste-rtl,336,auto,paste,360,auto,codesnippet,384,auto,bgcolor,408,auto,textcolor,432,auto,copyformatting,456,auto,creatediv,480,auto,docprops-rtl,504,auto,docprops,528,auto,easyimagealigncenter,552,auto,easyimagealignleft,576,auto,easyimagealignright,600,auto,easyimagealt,624,auto,easyimagefull,648,auto,easyimageside,672,auto,easyimageupload,696,auto,embed,720,auto,embedsemantic,744,auto,emojipanel,768,auto,find-rtl,792,auto,find,816,auto,replace,840,auto,button,864,auto,checkbox,888,auto,form,912,auto,hiddenfield,936,auto,imagebutton,960,auto,radio,984,auto,select-rtl,1008,auto,select,1032,auto,textarea-rtl,1056,auto,textarea,1080,auto,textfield-rtl,1104,auto,textfield,1128,auto,horizontalrule,1152,auto,iframe,1176,auto,image,1200,auto,indent-rtl,1224,auto,indent,1248,auto,outdent-rtl,1272,auto,outdent,1296,auto,justifyblock,1320,auto,justifycenter,1344,auto,justifyleft,1368,auto,justifyright,1392,auto,language,1416,auto,anchor-rtl,1440,auto,anchor,1464,auto,link,1488,auto,unlink,1512,auto,bulletedlist-rtl,1536,auto,bulletedlist,1560,auto,numberedlist-rtl,1584,auto,numberedlist,1608,auto,mathjax,1632,auto,maximize,1656,auto,newpage-rtl,1680,auto,newpage,1704,auto,pagebreak-rtl,1728,auto,pagebreak,1752,auto,pastefromword-rtl,1776,auto,pastefromword,1800,auto,pastetext-rtl,1824,auto,pastetext,1848,auto,placeholder,1872,auto,preview-rtl,1896,auto,preview,1920,auto,print,1944,auto,removeformat,1968,auto,save,1992,auto,selectall,2016,auto,showblocks-rtl,2040,auto,showblocks,2064,auto,smiley,2088,auto,source-rtl,2112,auto,source,2136,auto,sourcedialog-rtl,2160,auto,sourcedialog,2184,auto,specialchar,2208,auto,table,2232,auto,templates-rtl,2256,auto,templates,2280,auto,uicolor,2304,auto,redo-rtl,2328,auto,redo,2352,auto,undo-rtl,2376,auto,undo,2400,auto,simplebox,2424,auto","icons.png")}(),CKEDITOR.lang.languages={en:1}),t.exports=CKEDITOR},395:(t,e,n)=>{var a,o;a=[n(8449),n(1134),n(8324),n(561),n(3946),n(9333),n(5392),n(2295),n(3220)],void 0===(o=function(t,e,n,a,o,i,r,s,l){var d=n.assert,u=e.call,c=e.clickQuestion,m=o.union(e.options.options.plugins||[],["itemset"]);describe("The Advanced Itemset plugin",(function(){function t(t){e.init({plugins:m,javaRosa:{langs:["en"]},core:{onReady:function(){t()}},features:{advanced_itemsets:!0}})}before(t),it("adds a new instance node to the form when necessary",(function(){e.loadXML(s),e.getMug("question1/itemset").p.itemsetData={instance:{id:"somefixture",src:"jr://somefixture"},nodeset:"instance('somefixture')/some/items",labelRef:"label",valueRef:"value"};var t=u("createXML"),n=e.parseXML(t);d(n.find("instance[id=somefixture]").length,"somefixture instance not found:\n"+t)})),it("renames instance on add itemset with matching instance",(function(){e.loadXML(s),e.addQuestion("SelectDynamic","select2");var t=e.getMug("select2/itemset");t.p.itemsetData={instance:{id:"cases",src:"jr://instance/casedb"},nodeset:"instance('cases')/cases/case[@case_id > 2]",labelRef:"label",valueRef:"value"};var n=t.p.itemsetData;d.equal(n.instance.id,"casedb"),d.equal(n.instance.src,"jr://instance/casedb"),d.equal(n.nodeset,"instance('casedb')/cases/case[@case_id > 2]");var a=u("createXML"),o=e.parseXML(a);d(o.find("instance[id=casedb]").length,"casedb instance not found:\n"+a),d(0===o.find("instance[id=cases]").length,"cases instance should have been renamed/merged:\n"+a)})),describe("parsing and serializing",(function(){before(t),it("preserves XML with itemsets in <select>s",(function(){d(-1!==s.indexOf("select1")),e.loadXML(s),e.assertXmlEqual(u("createXML"),s)})),it("preserves XML with itemsets in <select1>s",(function(){var t=s.replace(/select1/g,"select");e.loadXML(t),e.assertXmlEqual(u("createXML"),t)}))})),describe("UI",(function(){before(t),it("preserves inner filters if you never change the data source",(function(){e.loadXML(l),c("question2/itemset"),a("[name=property-labelRef]").val("dummy").change(),e.assertXmlEqual(l.replace("case_name","dummy"),u("createXML"))})),it("includes filter when in advanced mode",(function(){e.loadXML(s),c("question1/itemset");var t=e.getMug("question1/itemset");t.p.filter="'blah' = /data/question2",a("button:contains(...)").click(),d(a("[name=query]").val().indexOf(t.p.filter)>1)})),it("changes filter when in advanced mode",(function(){e.loadXML(s),c("question1/itemset");var t=e.getMug("question1/itemset");t.p.filter="'blah' = /data/question2",a("button:contains(...)").click();var n=a("[name=query]").val();a("[name=query]").val(n.replace(/question2/,"no_question")).change(),a(".fd-data-source-save-button").click(),d.strictEqual(t.p.filter,"'blah' = /data/no_question")}))}))}))}.apply(e,a))||(t.exports=o)},3740:(t,e,n)=>{var a,o;a=[n(1134),n(8094),n(8324),n(561),n(3946),n(4321)],void 0===(o=function(t,e,n,a,o,i){var r=n.assert,s=[{id:"commcaresession",uri:"jr://instance/session",path:"/session/data",name:"Session",structure:{case_id:{reference:{hashtag:"#case/child",source:"casedb",subset:"child",subset_key:"@case_type",key:"@case_id"}}}},{id:"casedb",uri:"jr://instance/casedb",path:"/cases/case",name:"Cases",structure:{name:{}},subsets:[{id:"child",key:"@case_type",structure:{dob:{}}}]}];function l(e){var n=t.call("getData").core.form.fuse.search(e);return n.length?n[0]:null}function d(){return a(".atwho-view").filter((function(){return"block"===a(this).css("display")}))}function u(t){r.strictEqual(d().find("li").length,t)}describe("atwho",(function(){describe("without rich text",(function(){function e(e){var n=t.clickQuestion("one")[0],o=a("[name=property-relevantAttr]");o.focus(),o.val("/data/").keyup(),r.strictEqual(d().length,1);try{e(n)}catch(t){throw t}finally{n.fire("teardown-mug-properties")}r(!d().length)}before((function(e){t.init({javaRosa:{langs:["en"]},core:{form:i,onReady:function(){e()}},features:{rich_text:!1},plugins:["atwho","modeliteration"]})})),it("should truncate the display label",(function(){var t=l("one");r.strictEqual(t.displayLabel,"One"),t=l("long"),r.strictEqual(t.displayLabel,"This is going to be a rea&hellip;")})),it("should not show mugs without absolutePath",(function(){e((function(t){r(!d().find('li:contains("choice1")').length)}))})),it("should have each mug",(function(){e((function(t){u(3)}))})),it("should destroy the atwho container on mug removal",(function(){e((function(t){t.fire("teardown-mug-properties"),r(!d().length)}))})),it("should not show itself in the results",(function(){e((function(t){u(3)}))})),it("should show questions with /data/",(function(){e((function(t){o.map(d().find("li"),(function(t){var e=a.trim(a(t).text());r(e.startsWith("/data/"))}))}))}))})),describe("with rich text",(function(){var e;function n(n,o){var i=t.getMug("text3");e.setValue(n),e.input.editor.focus(),a("[name=property-defaultValue]").keyup(),r.strictEqual(d().length,1);try{o(i)}catch(t){throw t}finally{i.fire("teardown-mug-properties")}r(!d().length)}beforeEach((function(n){t.init({javaRosa:{langs:["en"]},core:{form:"",dataSourcesEndpoint:function(t){t(s)},onReady:function(){t.addQuestion("Text","dash-dash"),t.addQuestion("Text","text"),t.addQuestion("Text","text2"),t.addQuestion("Text","text3"),(e=t.getWidget("property-defaultValue")).input.promise.then((function(){n()}))}},plugins:["atwho","modeliteration","databrowser"]})})),it("should show questions with #form",(function(){n("#form",(function(t){var e=d().find("li"),n=o.map(e,(function(t){return a.trim(a(t).text()).replace(/\n[^]*$/,"")}));r.deepEqual(n,["#form/dash-dash","#form/text","#form/text2"])}))})),it("should show questions after a dash",(function(){n("#dash-dash",(function(t){var e=d().find("li"),n=o.map(e,(function(t){return a.trim(a(t).text()).replace(/\n[^]*$/,"")}));r.deepEqual(n,["#form/dash-dash"])}))})),it("should show case properties with #case",(function(){n("#case",(function(t){var e=d().find("li"),n=o.map(e,(function(t){return a.trim(a(t).text()).replace(/\n[^]*$/,"")}));r.deepEqual(n,["#case/child/dob"])}))})),it("should show case properties and form questions with #",(function(){n("#",(function(t){var e=d().find("li"),n=o.map(e,(function(t){return a.trim(a(t).text()).replace(/\n[^]*$/,"")}));r.deepEqual(n,["#case/child/dob","#form/dash-dash","#form/text","#form/text2"])}))}))}))}))}.apply(e,a))||(t.exports=o)},6414:(t,e,n)=>{var a,o;a=[n(8324),n(561),n(3946),n(1134)],void 0===(o=function(t,e,n,a){var o=t.assert;describe("The plugin manager",(function(){it("should ignore unknown plugins",(function(t){a.init({plugins:["plugin-will-not-be-found"],core:{onReady:function(){o(!this.isPluginEnabled("plugin-will-not-be-found"),"loaded unknown plugin"),t()}}})}))}))}.apply(e,a))||(t.exports=o)},3588:(t,e,n)=>{var a,o;a=[n(8324),n(561),n(3946),n(1134),n(4459),n(3876)],void 0===(o=function(t,e,n,a){var o=t.assert,i=[{id:"commcaresession",uri:"jr://instance/session",path:"/session",name:"Session",structure:{data:{merge:!0,structure:{case_id:{reference:{hashtag:"#case",source:"casedb",subset:"case",subset_key:"@case_type",key:"@case_id"}}}},context:{merge:!0,structure:{userid:{reference:{hashtag:"#user",source:"casedb",subset:"commcare-user",subset_key:"@case_type",subset_filter:!0,key:"hq_user_id"}}}}}},{id:"casedb",uri:"jr://instance/casedb",path:"/casedb/case",name:"Cases",structure:{name:{}},subsets:[{id:"case",name:"release",key:"@case_type",structure:{release_date:{},release_length:{},contact_number:{},format:{},genres:{},case_name:{},quantity:{},footnote:{}}},{id:"commcare-user",name:"user",key:"@case_type",structure:{role:{},footnote:{}}}]}];describe("Bulk form actions",(function(){describe("should make all applicable questions required",(function(){function t(t,e){it("question "+t+(e?" is marked as required":" is ignored"),(function(){var a=n[t];e?o(a.p.requiredAttr,"required is false"):o(!a.p.requiredAttr,"required is true")}))}var e,n={};before((function(){e=a.loadXML(""),n.Text=a.addQuestion("Text"),n.PhoneNumber=a.addQuestion("PhoneNumber"),n.HiddenValue=a.addQuestion("DataBindOnly"),n.Select=a.addQuestion("Select"),n.Choice=a.addQuestion("Choice"),n.Label=a.addQuestion("Trigger"),n.Group=a.addQuestion("Group","groupA"),n.TextInGroup=a.addQuestion.bind({prevId:"groupA"})("Text","text2"),n.DataBindOnlyInGroup=a.addQuestion.bind({prevId:"groupA"})("DataBindOnly","hidden2"),e.vellum.makeAllQuestionsRequired()})),t("Text",!0),t("PhoneNumber",!0),t("HiddenValue",!1),t("Select",!0),t("Choice",!1),t("Label",!1),t("Group",!1),t("TextInGroup",!0),t("DataBindOnlyInGroup",!1)})),describe("should set matching case properties as default values on applicable question types",(function(){var t={};function e(e,n,a){it("the default value for "+e+(n?" matches the expected case property":a?" matched the existing default value":" was not applicable"),(function(){var i=t[e];n?o(i.p.defaultValue==="#case/"+i.p.nodeID,"default value didn't match the case property"):a?o(i.p.defaultValue===a,"the default value changed"):o(!i.p.defaultValue,"the default value was set")}))}before((function(e){a.init({javaRosa:{langs:["en"]},core:{dataSourcesEndpoint:function(t){t(i)},onReady:function(){t.MatchingText=a.addQuestion("Text","release_date",{defaultValue:"existing default"}),t.MatchingHiddenValue=a.addQuestion("DataBindOnly","release_length"),t.MatchingPhoneNumber=a.addQuestion("PhoneNumber","contact_number"),t.MatchingSelect=a.addQuestion("Select","format"),t.ChoiceOfMatchingSelect=a.addQuestion("Choice","vinyl"),t.Text=a.addQuestion("Text","no_match_01",{defaultValue:"already set"}),t.HiddenValue=a.addQuestion("DataBindOnly","no_match_02",{defaultValue:"already set"}),t.Label=a.addQuestion("Trigger","no_match_03"),t.Group=a.addQuestion("Group","groupA"),t.MatchingTextInGroup=a.addQuestion.bind({prevId:"groupA"})("Text","quantity",{defaultValue:"existing default"}),t.MatchingHiddenValueInGroup=a.addQuestion.bind({prevId:"groupA"})("DataBindOnly","genres"),t.TextInGroup=a.addQuestion.bind({prevId:"groupA"})("Text","no_match_04",{defaultValue:"already set"}),t.HiddenValueInGroup=a.addQuestion.bind({prevId:"groupA"})("DataBindOnly","no_match_05",{defaultValue:"already set"}),t.userCaseProp=a.addQuestion("DataBindOnly","role"),t.similarCaseProp=a.addQuestion("DataBindOnly","footnote"),this.data.core.form.vellum.defaultMatchingQuestionsToCaseProperties(),e()}}})})),e("MatchingText",!0),e("MatchingHiddenValue",!0),e("MatchingPhoneNumber",!0),e("MatchingSelect",!0),e("ChoiceOfMatchingSelect",!1),e("Text",!1,"already set"),e("HiddenValue",!1,"already set"),e("Label",!1),e("Group",!1),e("MatchingTextInGroup",!0),e("MatchingHiddenValueInGroup",!0),e("TextInGroup",!1,"already set"),e("HiddenValueInGroup",!1,"already set"),it("user case properties are also matched with priority given to case properties",(function(){o(t.userCaseProp.p.defaultValue==="#user/"+t.userCaseProp.p.nodeID,"user case property was not set as default"),o(t.similarCaseProp.p.defaultValue==="#case/"+t.similarCaseProp.p.nodeID,"case property was not given priority over user case property")}))}))}))}.apply(e,a))||(t.exports=o)},4141:(t,e,n)=>{var a,o;a=[n(1134),n(8324),n(561),n(3946),n(3586)],void 0===(o=function(t,e,n,a,o){var i=e.assert;describe("The commander plugin",(function(){var e,r;before((function(n){t.init({javaRosa:{langs:["en"]},features:{rich_text:!1},core:{onReady:function(){e=this,r=o.getQuestionMap(e),n()}}})})),beforeEach((function(){t.loadXML()})),a.each([{cmd:"text",type:"Text"},{cmd:"text before",type:"Text",index:3},{cmd:"text after",type:"Text",index:3,select:"group"},{cmd:"text before #form/group",type:"Text",index:0},{cmd:"Text after #form/group",type:"Text",index:3},{cmd:"Text in #form/group",type:"Text",index:3,indent:"  "},{cmd:"Text before #form/group/select",type:"Text",index:1,indent:"  "},{cmd:"Text after #form/group/select",type:"Text",index:3,indent:"  "},{cmd:"choice",type:"Choice",index:3,indent:"    ",select:"group/select"},{cmd:"Choice in #form/group/select",type:"Choice",index:3,indent:"    "},{cmd:"Choice first in #form/group/select",type:"Choice",index:2,indent:"    "}],(function(a){it("should add a "+a.type+" question with '"+a.cmd+"'",(function(){t.paste([["id","type","labelItext:en-default"],["/group","Group","group"],["/group/select","Select","select"],["/group/select/item","Choice","item"],["/text","Text","text"]]),a.select&&t.clickQuestion(a.select);var r=o.doCommand(a.cmd,e);i.isOk(r,"question not added"),n("[name=property-nodeID]").val("new").change(),e.ensureCurrentMugIsSaved();var s=["group","  select","    item","text"];a.hasOwnProperty("index")?s.splice(a.index,0,(a.indent||"")+"new"):s.push("new"),t.assertJSTreeState.apply(null,s),i.equal(r.name,"add question"),i.equal(r.value.__className,a.type)}))})),a.each([{cmd:"text",type:"Text"},{cmd:"text before",type:"Text"},{cmd:"text after",type:"Text"},{cmd:"text in",type:"Text"},{cmd:"text first in",type:"Text"}],(function(a){it("should add a "+a.type+" question with '"+a.cmd+"' and empty tree",(function(){var r=o.doCommand(a.cmd,e);i.isOk(r,"question not added"),n("[name=property-nodeID]").val("new").change(),e.ensureCurrentMugIsSaved(),t.assertJSTreeState("new"),i.equal(r.name,"add question"),i.equal(r.value.__className,a.type)}))})),a.each(["#form/group","#form/group/select","#form/text"],(function(n){it("should select "+n,(function(){t.paste([["id","type","labelItext:en-default"],["/group","Group","group"],["/group/select","Select","select"],["/group/select/item","Choice","item"],["/text","Text","text"]]);var a=o.doCommand(n,e);i.isOk(a,"question not selected"),i.equal(a.name,"select question");var r=e.getCurrentlySelectedMug();i.equal(r.hashtagPath,n)}))})),a.each(["choice","choice in #form/group"],(function(t){it("should not execute bad command: "+t,(function(){var n=o.doCommand(t,e);i.isUndefined(n,"unexpected result: "+n)}))})),a.each([["txt",[]],["cho",["Choice","Multiple Choice","Multiple Choice Lookup Table"]],["choice ",["...after","...before","...first in","...in","Multiple Choice Lookup Table"]],["choice i",["...in","...first in"]],["Date and Time ",["...after","...before","...first in","...in"]]],(function(t){var n=t[0],s=t[1];it("should get completions for: "+n,(function(){var t=a.map(s,(function(t){return t.startsWith("...")?{name:t.slice(3),icon:void 0,full:/^.+ /.exec(n)[0]+t.slice(3)}:{name:t,icon:r[t.toLowerCase()].icon,full:t}})),l=o.getCompletions(n,e);i.deepEqual(l,t)}))})),a.each([["txt",void 0],["Choice ",["Choice",void 0,void 0]],["Choice in ",["Choice","in",void 0]],["choice in /data/blue",["choice","in","/data/blue"]],["text first in #form/group",["text","first in","#form/group"]],["#form/blue",["#form/blue"]]],(function(t){var n=t[0],a=t[1];it("should tokenize: "+n,(function(){var t=o.tokenize(n,e);i.deepEqual(t&&t.tokens,a)}))})),a.each(["text","choice"],(function(t){it("should have '"+t+"' in it's question map",(function(){i.hasAnyKeys(o.getQuestionMap(e),[t])}))})),it("should not have 'itemset' in it's question map",(function(){i.doesNotHaveAnyKeys(o.getQuestionMap(e),["itemset"])})),it("select after add bug",(function(){t.paste([["id","type","labelItext:en-default"],["/text","Text","text"]]);var a=o.doCommand("Text after",e),r=a&&a.value;i.equal(a&&a.name,"add question"),n("[name=itext-en-label]").val("text2").change(),i.equal(r.p.nodeID,void 0),a=o.doCommand("#form/text",e),i.equal(a&&a.name,"select question"),i.equal(r.p.nodeID,"text2"),a=o.doCommand("#form/text2",e),i.equal(a&&a.name,"select question")}))}))}.apply(e,a))||(t.exports=o)},4438:(t,e,n)=>{var a,o;a=[n(1134),n(8324),n(561),n(3946),n(37),n(5781),n(3266),n(4269)],o=function(t,e,n,a,o,i,r,s){var l=e.assert,d=t.call;describe("The CommCareConnect",(function(){before((function(e){t.init({javaRosa:{langs:["en"]},core:{onReady:function(){e()}}})})),describe("learn module",(function(){it("should load and save",(function(){t.loadXML(i);var e=t.getMug("module_1");l.equal(e.__className,"ConnectLearnModule"),l.equal(e.p.name,"module 1"),l.equal(e.p.description,"Module 1 is fun\nLearning is fun"),l.equal(e.p.time_estimate,"2"),l.equal(e.p.relevantAttr,"x = 2"),t.assertXmlEqual(d("createXML"),i)})),it("requires time_estimate to be an integer",(function(){var e=t.addQuestion("ConnectLearnModule","mug");e.p.time_estimate="foo",l.equal(e.spec.time_estimate.validationFunc(e),"Must be an integer")}))})),describe("assessment module",(function(){it("should load and save",(function(){t.loadXML(r);var e=t.getMug("test_assessment");l.equal(e.__className,"ConnectAssessment"),l.equal(e.p.user_score,"/data/score"),l.equal(e.p.relevantAttr,"x = 1"),t.assertXmlEqual(d("createXML"),r)}))})),describe("deliver unit",(function(){it("should load and save",(function(){t.loadXML(s);var e=t.getMug("unit_one");l.equal(e.__className,"ConnectDeliverUnit"),l.equal(e.p.name,"unit 1"),l.equal(e.p.entity_id,"instance('commcaresession')/session/data/value"),l.equal(e.p.entity_name,"/data/name"),l.equal(e.p.relevantAttr,"x = 1"),t.assertXmlEqual(d("createXML"),s)}))}))}))}.apply(e,a),void 0===o||(t.exports=o)},1932:(t,e,n)=>{var a,o;a=[n(1134),n(8324),n(561),n(3946),n(9208),n(6592),n(8545),n(3921),n(5891),n(4998)],void 0===(o=function(t,e,n,a,o,i,r,s,l,d){var u=e.assert,c=t.call;describe("The CommTrack module",(function(){before((function(e){t.init({javaRosa:{langs:["en"]},core:{onReady:function(){e()}}})})),it("should load a transfer block",(function(){t.loadXML(l);var e=t.getMug("transfer[@type='trans-1']");u.equal(e.p.sectionId,"stock"),u.equal(e.p.quantity,"/data/amount_received"),u.equal(e.p.entryId,"instance('commcaresession')/session/data/product_id"),u.equal(e.p.src,"instance('commcaresession')/session/data/case_id"),u.equal(e.p.dest,"instance('casedb')/casedb/case[@case_id=instance('commcaresession')/session/data/case_id]/index/parent"),u.equal(e.p.date,"now()"),u.equal(e.p.relevantAttr,"true()")})),it("should create a transfer block",(function(){t.loadXML(""),t.addQuestion("Int","amount_received");var e=t.addQuestion("Transfer","trans-1");e.p.sectionId="stock",e.p.quantity="/data/amount_received",e.p.entryId="instance('commcaresession')/session/data/product_id",e.p.src="instance('commcaresession')/session/data/case_id",e.p.dest="instance('casedb')/casedb/case[@case_id=instance('commcaresession')/session/data/case_id]/index/parent",e.p.relevantAttr="true()",e.form.addInstanceIfNotExists({id:"products",src:"jr://fixture/commtrack:products"}),e.form.addInstanceIfNotExists({id:"ledger",src:"jr://instance/ledgerdb"}),t.assertXmlEqual(c("createXML"),l,{normalize_xmlns:!0})})),it("should load a balance block",(function(){t.loadXML(i);var e=t.getMug("balance[@type='bal-0']");u.equal(e.p.sectionId,"stock"),u.equal(e.p.quantity,"/data/stock_amount"),u.equal(e.p.entityId,"instance('commcaresession')/session/data/case_id"),u.equal(e.p.entryId,"instance('commcaresession')/session/data/product_id"),u.equal(e.p.relevantAttr,"/data/stock_amount != 0")})),it("should create a balance block",(function(){t.loadXML(""),t.addQuestion("Int","stock_amount");var e=t.addQuestion("Balance","bal-0");e.p.sectionId="stock",e.p.quantity="/data/stock_amount",e.p.entityId="instance('commcaresession')/session/data/case_id",e.p.entryId="instance('commcaresession')/session/data/product_id",e.p.relevantAttr="/data/stock_amount != 0",e.form.addInstanceIfNotExists({id:"products",src:"jr://fixture/commtrack:products"}),e.form.addInstanceIfNotExists({id:"ledger",src:"jr://instance/ledgerdb"}),t.assertXmlEqual(c("createXML"),i,{normalize_xmlns:!0})})),it("transfer question should not be valid when src and dest are both empty",(function(){t.loadXML();var e=t.addQuestion("Transfer","t1");u.strictEqual(e.p.src,""),u.strictEqual(e.p.dest,""),e.validate(),u(!t.isTreeNodeValid(e),"Transfer question with empty src and dest should be invalid"),u(e.messages.get("src").length,"src should have messages"),u(e.messages.get("dest").length,"dest should have messages")})),it("new transfer question should not have validation errors",(function(){t.loadXML();var e=t.addQuestion("Transfer","t1");u.strictEqual(e.p.src,""),u.strictEqual(e.p.dest,""),u.deepEqual(t.getMessages(e),"")})),it("should show error icon in tree on load invalid transfer question",(function(){t.loadXML(s);var e=t.getMug("transfer[@type='trans']");u(!t.isTreeNodeValid(e),"tree node should not be valid")})),it("should create two transfer blocks with the same parent node",(function(){t.loadXML(),t.addQuestion("Transfer","t1").p.src="value",t.addQuestion("Transfer","t2").p.src="value";var e=t.call("createXML"),n=t.parseXML(e);u.equal(n.find("transfer").length,2,e),u.equal(n.find("bind[nodeset='/data/transfer[@type=\\'t1\\']/@src']").length,1,e),u.equal(n.find("bind[nodeset='/data/transfer[@type=\\'t2\\']/@src']").length,1,e)})),describe("transfer question",(function(){var e;before((function(){t.loadXML(),e=t.addQuestion("Transfer","t1")})),it("with missing src and dest should not be valid",(function(){e.p.src="",e.p.dest="",e.validate(),u.notDeepEqual(e.getErrors(),[],"Transfer with missing src should not be valid")})),it("with missing src should not be valid",(function(){e.p.src="",e.p.dest="something",e.validate(),u.notDeepEqual(e.getErrors(),[],"Transfer with missing src should not be valid")})),it("with missing dest should not be valid",(function(){e.p.src="something",e.p.dest="",e.validate(),u.notDeepEqual(e.getErrors(),[],"Transfer with missing dest should not be valid")})),it("with both src and dest should be valid",(function(){e.p.src="something",e.p.dest="something",e.validate(),u.deepEqual(e.getErrors(),[])}))})),it("dispense question should omit dest",(function(){t.loadXML(),t.addQuestion("Dispense","t1").p.src="something";var e=t.call("createXML"),n=t.parseXML(e);u.strictEqual(n.find("transfer[type='t1']").attr("src"),"","unexpected transfer src attribute\n"+e),u.isUndefined(n.find("transfer[type='t1']").attr("dest"),"unexpected transfer dest attribute\n"+e),u.equal(n.find("bind[nodeset='/data/transfer[@type=\\'t1\\']/@src']").length,1,"unexpected @src bind:\n"+e),u.equal(n.find("bind[nodeset='/data/transfer[@type=\\'t1\\']/@dest']").length,0,"unexpected @dest bind:\n"+e)})),it("receive question should omit src",(function(){t.loadXML(),t.addQuestion("Receive","t1").p.dest="something";var e=t.call("createXML"),n=t.parseXML(e);u.isUndefined(n.find("transfer[type='t1']").attr("src"),"unexpected transfer src attribute\n"+e),u.strictEqual(n.find("transfer[type='t1']").attr("dest"),"","unexpected transfer dest attribute\n"+e),u.equal(n.find("bind[nodeset='/data/transfer[@type=\\'t1\\']/@src']").length,0,"unexpected @src bind:\n"+e),u.equal(n.find("bind[nodeset='/data/transfer[@type=\\'t1\\']/@dest']").length,1,"unexpected @dest bind:\n"+e)})),it("transfer block with src and dest should load as Transfer question",(function(){t.loadXML(l);var e=t.getMug("transfer[@type='trans-1']");u.equal(e.__className,"Transfer")})),it("transfer block with dest only should load as Receive question",(function(){t.loadXML(l.replace(' src=""',"").replace(/<bind [^>]*@src[^>]*\/>/,""));var e=t.getMug("transfer[@type='trans-1']");u.equal(e.__className,"Receive")})),it("transfer block with src only should load as Dispense question",(function(){t.loadXML(l.replace(' dest=""',"").replace(/<bind [^>]*@dest[^>]*\/>/,""));var e=t.getMug("transfer[@type='trans-1']");u.equal(e.__className,"Dispense")})),it("should enable save button when a transfer's source or destination changes",(function(e){t.loadXML(l),t.saveButtonEnabled(!1),t.clickQuestion("transfer[@type='trans-1']");var a=n("[name=property-dest]").ckeditor().editor;t.getWidget("property-dest").input.promise.then((function(){a.on("change",(function(){u(t.saveButtonEnabled(),"save button is disabled"),e()})),a.fire("change")}))})),it("transfer quantity should update on reference rename",(function(){t.loadXML(l);var e=t.getMug("amount_received"),n=t.getMug("transfer[@type='trans-1']");e.p.nodeID="amount_received_x",u.equal(n.p.quantity,e.hashtagPath)})),it("transfer quantity should update multiple refs on reference rename",(function(){t.loadXML(l);var e=t.getMug("amount_received"),n=t.getMug("transfer[@type='trans-1']");u.equal(n.p.quantity,e.absolutePath),n.p.quantity=[e.absolutePath,e.absolutePath].join(" + "),e.p.nodeID="amount_rx",u.equal(n.p.quantity,[e.hashtagPath,e.hashtagPath].join(" + "))})),a.each(["Balance","Transfer","Dispense","Receive"],(function(e){it("should add ledger instance on add "+e+" question",(function(){t.loadXML(""),t.addQuestion(e,"question");var n=t.call("createXML"),a=t.parseXML(n);u.equal(a.find("instance[src='jr://instance/ledgerdb']").length,1,"wrong ledger instance count\n"+n)})),it("should remove ledger instance on delete "+e+" question",(function(){t.loadXML("");var n=t.addQuestion(e,"question");t.deleteQuestion(n.absolutePath);var a=t.call("createXML"),o=t.parseXML(a);u.equal(o.find("instance[src='jr://instance/ledgerdb']").length,0,"ledger instance should be removed\n"+a)}))})),a.each(["Balance","Transfer"],(function(e){it("should change "+e+" setvalues to binds on load+save",(function(){var n="Transfer"===e;t.loadXML(n?d:r),t.assertXmlEqual(c("createXML"),n?l:i,{normalize_xmlns:!0})})),it("should remove ledger instance on delete "+e+" loaded from XML",(function(){var n="Transfer"===e;t.loadXML(n?l:i);var a=t.getMug(n?"transfer[@type='trans-1']":"balance[@type='bal-0']");t.deleteQuestion(a.absolutePath);var o=t.call("createXML"),r=t.parseXML(o);u.equal(r.find("instance[src='jr://instance/ledgerdb']").length,0,"ledger instance should be removed\n"+o)})),it("should drop bind and setvalue nodes on delete "+e+" question",(function(){var a="Transfer"===e;t.loadXML(a?d:r);var o=t.getMug(a?"transfer[@type='trans-1']":"balance[@type='bal-0']");t.deleteQuestion(o.absolutePath);var i=t.call("createXML"),s=t.parseXML(i);u.equal(s.find("bind").filter((function(){return/^\/data\/(balance|transfer)\[/.test(n(this).attr("nodeset"))})).length,0,"bind nodes should be removed\n"+i),u.equal(s.find("setvalue").length,0,"setvalue nodes should be removed\n"+i)}))})),it("should not remove ledger instance on delete second Transfer question",(function(){t.loadXML(""),t.addQuestion("Transfer","trans");var e=t.addQuestion("Transfer","question");t.deleteQuestion(e.absolutePath);var n=t.call("createXML"),a=t.parseXML(n);u.equal(a.find("instance[src='jr://instance/ledgerdb']").length,1,"ledger instance should be removed\n"+n)})),it("should show 'Case' property for Balance",(function(){t.loadXML(""),t.addQuestion("Balance","bal"),u.equal(n("[name=property-entityId]").length,1)})),describe("should properly encode",(function(){var e={Transfer:l,Dispense:l.replace(' dest=""',"").replace(/<bind [^>]*@dest[^>]*\/>/,""),Receive:l.replace(' src=""',"").replace(/<bind [^>]*@src[^>]*\/>/,"")};a.each([{from:"Transfer",to:"Dispense"},{from:"Transfer",to:"Receive"},{from:"Dispense",to:"Transfer"},{from:"Dispense",to:"Receive"},{from:"Receive",to:"Transfer"},{from:"Receive",to:"Dispense"}],(function(n){it(n.from+" changed to "+n.to,(function(){var a=t.loadXML(e[n.from]),o=t.getMug("transfer[@type='trans-1']"),i="Transfer"===n.to||"Dispense"===n.to,r="Transfer"===n.to||"Receive"===n.to;if(u.equal(o.__className,n.from),c("changeMugType",o,n.to),i&&(o.p.src="instance('commcaresession')/session/data/case_id"),r){o.p.dest="instance('casedb')/casedb/case[@case_id=instance('commcaresession')/session/data/case_id]/index/parent";var s=a.instanceMetadata,l=s.length-1;"casedb"===s[l].attributes.id&&(s[l]=s.splice(l-1,1,s[l])[0])}var d=t.call("createXML");t.assertXmlEqual(d,e[n.to],{normalize_xmlns:!0}),t.loadXML(d),o=t.getMug("transfer[@type='trans-1']"),u.equal(o.__className,n.to)}))}))}))}))}.apply(e,a))||(t.exports=o)},448:(t,e,n)=>{var a,o;a=[n(8324),n(561),n(3946),n(1134),n(9248),n(2040),n(6792),n(2003),n(9079),n(9675),n(1437),n(3809)],void 0===(o=function(t,e,n,a,o,i,r,s,l,d,u,c){var m=t.assert,h=a.call,f=["Form Builder clip","version 1"];function p(t,e,o){n.isString(e)||(e=c.tabDelimit([f].concat(e))),a.assertEqual(t+"\n",e+"\n",o||"cut or copy mismatch")}function g(t,e,a){n.isString(t)||(t=c.tabDelimit([f].concat(t))),a&&window.console.log(t),m.deepEqual(u.paste(t),e||[])}describe("The copy-paste plugin",(function(){before((function(t){a.init({features:{custom_intents:!0,use_custom_repeat_button_text:!0},javaRosa:{langs:["en","hin"]},core:{onReady:function(){m(this.isPluginEnabled("copyPaste"),"copyPaste plugin should be enabled"),t()}}})})),n.each([{message:"a text question",xml:r,serial:c.tabDelimit([f,["id","type","labelItext:en-default","labelItext:hin-default","constraintMsgItext:en-default","constraintMsgItext:hin-default","constraintAttr","constraintMsgAttr","relevantAttr","requiredAttr"],["/txt","Text","English Text","Hindi Text","Nope","Nope","1 = 0","jr:itext('txt-constraintMsg')","x = y","true"]])},{message:"two text questions",xml:l,select:["text","choice"],serial:c.tabDelimit([f,["id","type","labelItext:en-default","labelItext:hin-default","labelItext"],["/text","Text","text with image","text with image","default-label"],["/choice","Select","Do you like it?","Do you like it?","null"],["/choice/true","Choice","Yes","Yes","null"],["/choice/false","Choice","No","No","null"]])},{message:"two choices with shared itext",xml:s,select:["box","fox"],serial:c.tabDelimit([f,["id","type","labelItext:en-default","labelItext:hin-default","labelItext"],["/box","Select","In a box?","In a box?","null"],["/box/yes","Choice","Yes","Yes","yes-label"],["/box/no","Choice","No","No","no-label"],["/fox","Select","With a fox?","With a fox?","null"],["/fox/yes","Choice","Yes","Yes","yes-label"],["/fox/no","Choice","No","No","no-label"]])},{message:"a question with many itext forms",xml:i,serial:c.tabDelimit([f,["id","type","labelItext:en-default","labelItext:hin-default","labelItext:en-audio","labelItext:hin-audio","labelItext:en-custom","labelItext:hin-custom","labelItext:en-image","labelItext:hin-image","labelItext:en-long","labelItext:hin-long","labelItext:en-short","labelItext:hin-short","labelItext:en-video","labelItext:hin-video","labelItext","constraintMsgItext:en-default","constraintMsgItext:hin-default","helpItext:en-default","helpItext:hin-default","helpItext:en-audio","helpItext:hin-audio","helpItext:en-image","helpItext:hin-image","helpItext:en-video","helpItext:hin-video","helpItext","hintItext:en-default","hintItext:hin-default","hintItext","constraintAttr","constraintMsgAttr","hintLabel"],["/text","Text","default","default","jr://file/commcare/audio/data/text.mp3","jr://file/commcare/audio/data/text.mp3","custom","custom","jr://file/commcare/image/data/text.png","jr://file/commcare/image/data/text.png","long","long","short","short","jr://file/commcare/video/data/text.3gp","jr://file/commcare/video/data/text.3gp","default-label","valid","valid","help","help","jr://file/commcare/audio/help/data/text.mp3","jr://file/commcare/audio/help/data/text.mp3","jr://file/commcare/image/help/data/text.png","jr://file/commcare/image/help/data/text.png","jr://file/commcare/video/help/data/text.3gp","jr://file/commcare/video/help/data/text.3gp","default-help","hint","hint","default-hint","1 = 0","jr:itext('text-constraintMsg')","hint label"]])}],(function(t){it("should copy "+t.message,(function(){a.loadXML(t.xml),t.select&&a.clickQuestion.apply(null,t.select),p(u.copy(),t.serial)})),it("should paste "+t.message,(function(){a.loadXML(""),m.deepEqual(u.paste(t.serial),[]),a.assertXmlEqual(h("createXML"),t.xml,{normalize_xmlns:!0})}))})),it("should copy two text questions in a group",(function(){a.loadXML(o),a.clickQuestion("group/text","group/choice"),p(u.copy(),[["id","type","labelItext:en-default","labelItext:hin-default","labelItext:en-image","labelItext:hin-image","labelItext"],["/group/text","Text","text with image","ひらがな","jr://file/commcare/image/data/en-text.png","jr://file/commcare/image/data/hin-text.png","text-label"],["/group/choice","Select","Do you like it?","Do you like it?","null","null","null"],["/group/choice/true","Choice","Yes","Yes","null","null","null"],["/group/choice/false","Choice","No","No","null","null","null"]])})),it("should paste two questions with the same id",(function(){a.loadXML(""),g([["id","type","labelItext:en-default","labelItext:hin-default"],["/text","Text","text1","text1"],["/text","Text","text2","text2"]]),a.selectAll(),p(u.copy(),[["id","type","labelItext:en-default","labelItext:hin-default"],["/text","Text","text1","text1"],["/copy-1-of-text","Text","text2","text2"]])})),it("should auto-rename pasted question with duplicate id",(function(){a.loadXML(""),g([["id","type","labelItext:en-default","labelItext:hin-default"],["/text","Text","text1","text1"]]),g([["id","type","labelItext:en-default","labelItext:hin-default"],["/text","Text","text2","text2"]]),a.selectAll(),p(u.copy(),[["id","type","labelItext:en-default","labelItext:hin-default"],["/text","Text","text1","text1"],["/copy-1-of-text","Text","text2","text2"]])})),it("should copy conflicted question id",(function(){a.loadXML(""),g([["id","type","labelItext:en-default","labelItext:hin-default"],["/text","Text","text1","text1"],["/other","Text","text2","text2"]]);var t=a.getMug("other");t.p.nodeID="text",m(t.messages.get("nodeID","mug-conflictedNodeId-warning"),"expected confict warning"),a.selectAll(),p(u.copy(),[["id","type","labelItext:en-default","labelItext:hin-default","conflictedNodeId"],["/text","Text","text1","text1","null"],["/copy-1-of-text","Text","text2","text2","text"]])})),it("should paste two questions with the same id (one in group)",(function(){a.loadXML(""),g([["id","type","labelItext:en-default","labelItext:hin-default"],["/text","Text","text","text"],["/group","Group","group","group"],["/group/text","Text","text","text"]]),a.selectAll(),p(u.copy(),[["id","type","labelItext:en-default","labelItext:hin-default"],["/text","Text","text","text"],["/group","Group","group","group"],["/group/text","Text","text","text"]])})),it("should paste three groups after text question",(function(){a.loadXML(""),g([["id","type","labelItext:en-default","labelItext:hin-default"],["/text","Text","text","text"]]),a.clickQuestion("text"),g([["id","type","labelItext:en-default","labelItext:hin-default"],["/group1","Group","group","group"],["/group2","Group","group","group"],["/group3","Group","group","group"]]),a.selectAll(),p(u.copy(),[["id","type","labelItext:en-default","labelItext:hin-default"],["/text","Text","text","text"],["/group1","Group","group","group"],["/group2","Group","group","group"],["/group3","Group","group","group"]])})),it("should paste three groups into group",(function(){a.loadXML(""),g([["id","type","labelItext:en-default","labelItext:hin-default"],["/group","Group","group","group"]]),a.clickQuestion("group"),g([["id","type","labelItext:en-default","labelItext:hin-default"],["/group1","Group","group","group"],["/group2","Group","group","group"],["/group3","Group","group","group"]]),a.selectAll(),p(u.copy(),[["id","type","labelItext:en-default","labelItext:hin-default"],["/group","Group","group","group"],["/group/group1","Group","group","group"],["/group/group2","Group","group","group"],["/group/group3","Group","group","group"]])})),it("should resolve pasted question with conflicting question ID",(function(){a.loadXML(""),g([["id","type","calculateAttr","conflictedNodeId"],["/radius","DataBindOnly",'"42"',"null"],["/copy-1-of-pi","DataBindOnly",'"3.1415"',"pi"],["/circumference","DataBindOnly","2 * #form/copy-1-of-pi * #form/radius","null"]]),a.selectAll(),p(u.copy(),[["id","type","calculateAttr"],["/radius","DataBindOnly",'"42"'],["/pi","DataBindOnly",'"3.1415"'],["/circumference","DataBindOnly","2 * #form/pi * #form/radius"]])})),it("should not paste item into tree root",(function(){a.loadXML(""),g([["id","type","labelItext:en-default","labelItext:hin-default"],["/select/item","Choice","item1","item1"]],["Cannot insert Choice into tree root"]),a.selectAll(),p(u.copy(),"")})),it("should not paste text into select",(function(){a.loadXML(""),g([["id","type","labelItext:en-default","labelItext:hin-default"],["/select","Select","select","select"],["/select/item1","Choice","item1","item1"]]),a.clickQuestion("select/item1"),g([["id","type","labelItext:en-default","labelItext:hin-default"],["/text","Text","text","text"]],["Cannot insert Text into Multiple Choice"]),a.selectAll(),p(u.copy(),[["id","type","labelItext:en-default","labelItext:hin-default"],["/select","Select","select","select"],["/select/item1","Choice","item1","item1"]])})),it("should paste question with empty id",(function(){a.loadXML(""),g([["id","type","labelItext:en-default","labelItext:hin-default"],["","Text","text","text"]]),a.selectAll(),p(u.copy(),[["id","type","labelItext:en-default","labelItext:hin-default"],["/question1","Text","text","text"]])})),it("should paste question with / id",(function(){a.loadXML(""),g([["id","type","labelItext:en-default","labelItext:hin-default"],["/","Text","text","text"]]),a.selectAll(),p(u.copy(),[["id","type","labelItext:en-default","labelItext:hin-default"],["/question2","Text","text","text"]])})),it("should not paste item into or after text",(function(){a.loadXML(""),g([["id","type","labelItext:en-default","labelItext:hin-default"],["/text","Text","text","text"]]),a.selectAll(),g([["id","type","labelItext:en-default","labelItext:hin-default"],["/select/item","Choice","item1","item1"]],["Cannot insert Choice into or after Text"]),a.selectAll(),p(u.copy(),[["id","type","labelItext:en-default","labelItext:hin-default"],["/text","Text","text","text"]])})),it("should not overwrite itext with auto-id",(function(){a.loadXML(""),g([["id","type","labelItext:en-default","labelItext:hin-default"],["/text","Text","auto","auto"]]),a.clickQuestion("text"),g([["id","type","labelItext:en-default","labelItext:hin-default","labelItext"],["/text2","Text","non","non","text-label"]]),a.selectAll(),p(u.copy(),[["id","type","labelItext:en-default","labelItext:hin-default","labelItext"],["/text","Text","auto","auto","null"],["/text2","Text","non","non","text-label"]]),h("createXML");var t=a.getMug("text"),e=a.getMug("text2");m.equal(t.p.labelItext.autoId,!0),m.equal(t.p.labelItext.id,"text-label"),m.equal(t.p.labelItext.get(),"auto"),m.equal(e.p.labelItext.autoId,!1),m.equal(e.p.labelItext.id,"text-label2"),m.equal(e.p.labelItext.get(),"non")})),it("should not fill empty itext forms",(function(){a.loadXML(""),g([["id","type","labelItext:en-default"],["/text1","Text","Label"],["/text2","Text",""],["/text3","Text","null"],["/text4","Text"]]),a.selectAll(),p(u.copy(),[["id","type","labelItext:en-default","labelItext:hin-default"],["/text1","Text","Label","Label"],["/text2","Text","null","null"],["/text3","Text","null","null"],["/text4","Text","null","null"]])})),it("should not fill empty default itext forms",(function(){a.loadXML(""),g([["id","type","labelItext:en-default","labelItext:hin-default"],["/text","Text","","Label"]]),a.selectAll(),p(u.copy(),[["id","type","labelItext:en-default","labelItext:hin-default"],["/text","Text","","Label"]])})),it("should not paste defaults into empty itext items",(function(){a.loadXML(""),g([["id","type","labelItext:en-default","labelItext:hin-default","constraintMsgItext:en-default","constraintMsgItext:hin-default","constraintAttr"],["/text1","Text","text1","text1","validate","validate","x = y"],["/text2","Text","text2","text2","null","null","null"]]),a.selectAll(),p(u.copy(),[["id","type","labelItext:en-default","labelItext:hin-default","constraintMsgItext:en-default","constraintMsgItext:hin-default","constraintAttr"],["/text1","Text","text1","text1","validate","validate","x = y"],["/text2","Text","text2","text2","null","null","null"]])})),it("should not paste empty itext media forms",(function(){a.loadXML(""),g([["id","type","labelItext:en-default","labelItext:hin-default","labelItext:en-image","labelItext:hin-image"],["/text1","Text","text1","text1","jr://...","jr://..."],["/text2","Text","text2","text2","null","null"]]),a.clickQuestion("text1");var t=e(".fd-mm-upload-container:visible");m(t.length,"text1 media uploader should be visible"),a.clickQuestion("text2"),t=e(".fd-mm-upload-container:visible"),m.equal(t.length,0,"text2 media uploader should be hidden"),a.selectAll(),p(u.copy(),[["id","type","labelItext:en-default","labelItext:hin-default","labelItext:en-image","labelItext:hin-image"],["/text1","Text","text1","text1","jr://...","jr://..."],["/text2","Text","text2","text2","null","null"]])})),it("should ignore extra cells in header row",(function(){a.loadXML(""),g(c.tabDelimit([f.concat(["",""]),["id","type","labelItext:en-default","labelItext"],["/text1","Text","text","text-id"]])),a.selectAll(),p(u.copy(),[["id","type","labelItext:en-default","labelItext:hin-default","labelItext"],["/text1","Text","text","text","text-id"]])})),it("should ignore empty itext ID",(function(){a.loadXML(""),g([["id","type","labelItext:en-default","labelItext"],["/text1","Text","text"],["/text2","Text"]]),a.selectAll(),p(u.copy(),[["id","type","labelItext:en-default","labelItext:hin-default"],["/text1","Text","text","text"],["/text2","Text","null","null"]])})),it("should remove questions on cut",(function(){a.loadXML(""),g([["id","type","labelItext:en-default","labelItext"],["/text1","Text","text","text-id"]]),a.selectAll(),p(u.cut(),[["id","type","labelItext:en-default","labelItext:hin-default","labelItext"],["/text1","Text","text","text","text-id"]]),a.selectAll(),p(u.cut(),"")})),it("should copy dynamic select with itemset data",(function(){a.loadXML(""),g([["id","type","labelItext:en-default","itemsetData"],["/select","SelectDynamic","select",'[{"instance":null,"nodeset":"/items","labelRef":"@name","valueRef":"@id"}]']]),a.selectAll(),p(u.copy(),[["id","type","labelItext:en-default","labelItext:hin-default","itemsetData"],["/select","SelectDynamic","select","select",'[{"instance":null,"nodeset":"/items","labelRef":"@name","valueRef":"@id"}]']])})),it("should not cut itemset (External Data)",(function(){a.loadXML(""),g([["id","type","labelItext:en-default","itemsetData"],["/select","SelectDynamic","select",'[{"instance":null,"nodeset":"/items","labelRef":"@name","valueRef":"@id"}]']]),a.clickQuestion("select/itemset"),p(u.cut(),""),m(a.getMug("select/itemset"),"itemset should not be cut")})),it("should copy dynamic select with itemset data and instance",(function(){var t=[["id","type","labelItext:en-default","labelItext:hin-default","instances","itemsetData"],["/select","SelectDynamic","select","select",'{"foo":{"src":"jr://foo"}}','[{"instance":{"id":"foo","src":"jr://foo"},"nodeset":"instance(\'foo\')/foo/items","labelRef":"@name","valueRef":"@id"}]']];a.loadXML(""),g(t),a.selectAll(),p(u.copy(),t)})),it("should copy dynamic select with itemset data and filter",(function(){var t=[["id","type","labelItext:en-default","labelItext:hin-default","filter","instances","itemsetData"],["/select","SelectDynamic","select","select","[\"type = instance('fum')/fum/@type\"]",'{"foo":{"src":"jr://foo"},"fum":{"src":"jr://fum"}}','[{"instance":{"id":"foo","src":"jr://foo"},"nodeset":"instance(\'foo\')/foo/items","labelRef":"@name","valueRef":"@id"}]']];a.loadXML(""),g(t),a.selectAll(),p(u.copy(),t)})),it("should show validation errors in tree after paste",(function(){a.loadXML(""),g([["id","type","calculateAttr"],["/two","DataBindOnly","2"],["/double_trouble","DataBindOnly","/data/two * /data/trouble"]]),m(a.isTreeNodeValid("two"),a.getMessages("two")),m(!a.isTreeNodeValid("double_trouble"),"double_trouble should not be valid")})),it("should show warning on paste missing multimedia",(function(){a.loadXML(""),g([["id","type","labelItext:en-audio"],["/text","Text","jr://file/commcare/audio/data/question1.mp3"]]);var t=a.getMug("text");m(t.messages.get("labelItext","missing-multimedia-warning"),"text should have missing-multimedia-warning")})),it("should copy questions in tree order",(function(){a.loadXML(""),g([["id","type","labelItext:en-default"],["/text1","Text","text1"],["/text2","Text","text2"],["/text3","Text","text3"],["/group","Group","group"],["/group/text1","Text","text1"],["/group/text2","Text","text2"],["/group/text3","Text","text3"]]),a.clickQuestion("text3","group/text2","group/text1","text1"),p(u.copy(),[["id","type","labelItext:en-default","labelItext:hin-default"],["/text1","Text","text1","text1"],["/text3","Text","text3","text3"],["/group/text1","Text","text1","text1"],["/group/text2","Text","text2","text2"]])})),it("should paste questions in tree order",(function(){a.loadXML(""),g([["id","type","labelItext:en-default","labelItext:hin-default"],["/question1","Text","question1","question1"],["/question2","Select","question2","question2"],["/question2/item1","Choice","item1","item1"],["/question2/item2","Choice","item2","item2"],["/question3","Int","question3","question3"],["/question4","Date","question4","question4"],["/question5","DataBindOnly","null","null"]]),a.clickQuestion("question1","question2","question3","question4","question5"),u.paste(u.copy()),a.selectAll(),p(u.copy(),[["id","type","labelItext:en-default","labelItext:hin-default"],["/question1","Text","question1","question1"],["/question2","Select","question2","question2"],["/question2/item1","Choice","item1","item1"],["/question2/item2","Choice","item2","item2"],["/question3","Int","question3","question3"],["/question4","Date","question4","question4"],["/question5","DataBindOnly","null","null"],["/copy-1-of-question1","Text","question1","question1"],["/copy-1-of-question2","Select","question2","question2"],["/copy-1-of-question2/item1","Choice","item1","item1"],["/copy-1-of-question2/item2","Choice","item2","item2"],["/copy-1-of-question3","Int","question3","question3"],["/copy-1-of-question4","Date","question4","question4"],["/copy-1-of-question5","DataBindOnly","null","null"]])})),it("should warn about discarded languages",(function(){a.loadXML(""),g([["id","type","labelItext:en-default","labelItext:es-default","labelItext:fr-default"],["/text","Text","english","spanish","french"]],["Discarded languages: es, fr"]),a.selectAll(),p(u.copy(),[["id","type","labelItext:en-default","labelItext:hin-default"],["/text","Text","english","english"]]),m(a.isTreeNodeValid("text"),a.getMessages("text"))})),it("should paste and copy a model iteration repeat group",(function(){var t=[["id","type","labelItext:en-default","labelItext:hin-default","addCaptionItext:en-default","addCaptionItext:hin-default","addEmptyCaptionItext:en-default","addEmptyCaptionItext:hin-default","dataSource","instances"],["/repeat/item","Repeat","repeat","repeat","add another","add another","add new","add new",'{"idsQuery":"instance(\'products\')/products/product/@id"}','{"products":{"src":"jr://commtrack:products"}}']];a.loadXML(""),g(t),a.selectAll(),p(u.copy(),t),m(a.isTreeNodeValid("repeat/item"),a.getMessages("repeat/item"))})),it("should paste (legacy format) and copy a model iteration repeat group",(function(){a.loadXML(""),g([["id","type","labelItext:en-default","labelItext:hin-default","dataSource"],["/repeat/item","Repeat","repeat","repeat",'{"instance":{"id":"products","src":"jr://commtrack:products"},"idsQuery":"instance(\'products\')/products/product/@id"}']]),a.selectAll(),p(u.copy(),[["id","type","labelItext:en-default","labelItext:hin-default","dataSource","instances"],["/repeat/item","Repeat","repeat","repeat",'{"idsQuery":"instance(\'products\')/products/product/@id"}','{"products":{"src":"jr://commtrack:products"}}']]),m(a.isTreeNodeValid("repeat/item"),a.getMessages("repeat/item"))})),it("should paste and copy an Android App Callout",(function(){a.loadXML(""),g([["id","type","labelItext:en-default","labelItext:hin-default","intentXmlns","androidIntentAppId","androidIntentExtra","androidIntentResponse","unknownAttributes"],["/app","AndroidIntent","app","app","commcare.org/xforms","app-id",JSON.stringify({key1:"val1",key2:"val2"}),JSON.stringify({key3:"val3"}),JSON.stringify({type:"robin"})]]),a.selectAll(),p(u.copy(),[["id","type","labelItext:en-default","labelItext:hin-default","androidIntentAppId","androidIntentExtra","androidIntentResponse","intentXmlns","unknownAttributes"],["/app","AndroidIntent","app","app","app-id",JSON.stringify({key1:"val1",key2:"val2"}),JSON.stringify({key3:"val3"}),"commcare.org/xforms",JSON.stringify({type:"robin"})]])})),it("should paste and copy an Android App Callout (old format)",(function(){a.loadXML(""),g([["id","type","labelItext:en-default","labelItext:hin-default","intent"],["/app","AndroidIntent","app","app",JSON.stringify({path:"app-id",xmlns:"commcare.org/xforms",extra:{key1:"val1",key2:"val2"},response:{key3:"val3"},unknownAttributes:{type:"robin"}})]]),a.selectAll(),p(u.copy(),[["id","type","labelItext:en-default","labelItext:hin-default","androidIntentAppId","androidIntentExtra","androidIntentResponse","intentXmlns","unknownAttributes"],["/app","AndroidIntent","app","app","app-id",JSON.stringify({key1:"val1",key2:"val2"}),JSON.stringify({key3:"val3"}),"commcare.org/xforms",JSON.stringify({type:"robin"})]])})),it("should paste and copy a Balance",(function(){a.loadXML(""),g([["id","type","date","entityId","entryId","quantity","sectionId"],["/bal","Balance","now()","case","product","qty","/balance-id"]]),a.loadXML(h("createXML")),a.selectAll(),p(u.copy(),[["id","type","date","entityId","entryId","quantity","rawDataAttributes","sectionId"],["/bal","Balance","now()","case","product","qty",'{"entity-id":"","date":""}',"/balance-id"]]);var t="balance[@type='bal']";m(a.isTreeNodeValid(t),a.getMessages(t))})),it("should paste and copy a Transfer",(function(){a.loadXML(""),g([["id","type","date","dest","entryId","quantity","sectionId","src"],["/tx","Transfer","now()","dst","product","qty","/balance","src"]]),a.loadXML(h("createXML")),a.selectAll(),p(u.copy(),[["id","type","date","dest","entryId","quantity","rawDataAttributes","sectionId","src"],["/tx","Transfer","now()","dst","product","qty",'{"date":"","src":"","dest":""}',"/balance","src"]]);var t="transfer[@type='tx']";m(a.isTreeNodeValid(t),a.getMessages(t))})),it("should not overwrite manually typed question ID with copy-N-of-...",(function(){a.loadXML(""),g([["id","type","labelItext:en-default"],["/text","Text","text"],["/text","Text","text"]]);var t=e("[name=property-nodeID]");t.val("other").change(),m.equal(t.val(),"other")})),it("should paste markdown correctly",(function(){a.loadXML(""),g([["id","type","labelItext:en-default","labelItext:hasMarkdown"],["/text","Text","*text*",!0],["/text2","Text","text2",!1]]),a.clickQuestion("text"),m(a.markdownVisible()),a.clickQuestion("text2"),m(!a.markdownVisible())})),it("should paste invalid xpaths correctly",(function(t){a.loadXML(""),g([["id","type","calculateAttr"],["/invalid","DataBindOnly","(42"],["/invalid2","DataBindOnly","#invalid/xpath (42"],["/invalid3","DataBindOnly","#invalid/xpath (#form/invalid"]]),a.clickQuestion("invalid"),a.clickQuestion("invalid2");var e=a.getMug("invalid"),n=a.getMug("invalid2"),o=a.getMug("invalid3");m.strictEqual(e.p.calculateAttr,"#invalid/xpath (42"),m.strictEqual(n.p.calculateAttr,"#invalid/xpath (42"),m.strictEqual(o.p.calculateAttr,"#invalid/xpath (#form/invalid");var i=a.getWidget("property-calculateAttr");i.input.promise.then((function(){m.strictEqual(i.getValue(),"(42"),a.selectAll(),p(u.copy(),[["id","type","calculateAttr"],["/invalid","DataBindOnly","#invalid/xpath (42"],["/invalid2","DataBindOnly","#invalid/xpath (42"],["/invalid3","DataBindOnly","#invalid/xpath (#form/invalid"]]),t()}))})),it("should paste valid xpaths correctly",(function(t){a.loadXML(""),g([["id","type","calculateAttr"],["/invalid","DataBindOnly","(42"],["/valid","DataBindOnly","#form/invalid"]]),a.clickQuestion("valid");var n=a.getMug("invalid"),o=a.getMug("valid");m.strictEqual(n.p.calculateAttr,"#invalid/xpath (42"),m.strictEqual(o.p.calculateAttr,"#form/invalid");var i=a.getWidget("property-calculateAttr");i.input.promise.then((function(){m.strictEqual(i.getValue(),"#form/invalid"),m.strictEqual(e("[name=property-calculateAttr]").find("span .label").data("value"),"#form/invalid"),a.selectAll(),p(u.copy(),[["id","type","calculateAttr"],["/invalid","DataBindOnly","#invalid/xpath (42"],["/valid","DataBindOnly","#form/invalid"]]),t()}))})),it("should not add calculate condition to text node on paste",(function(){a.loadXML(""),g([["id","type","calculateAttr"],["/group","Group","null"],["/group/hidden","DataBindOnly","1"],["/group/text","Text","null"]]);var t=a.getMug("group/text");m(!t.isVisible("calculateAttr"),"calculateAttr should not be visible")})),it("should maintain reference to pasted question",(function(){a.loadXML(""),g([["id","type","calculateAttr"],["/group","Group","null"],["/group/number","Int","null"],["/group/hidden","DataBindOnly","#form/group/number + 1"],["/text","Text","null"]]),g([["id","type","calculateAttr"],["/group","Group","null"],["/group/number","Int","null"],["/group/hidden","DataBindOnly","#form/group/number + 1"]]),a.selectAll(),p(u.copy(),[["id","type","calculateAttr"],["/group","Group","null"],["/group/number","Int","null"],["/group/hidden","DataBindOnly","#form/group/number + 1"],["/text","Text","null"],["/copy-1-of-group","Group","null"],["/copy-1-of-group/number","Int","null"],["/copy-1-of-group/hidden","DataBindOnly","#form/copy-1-of-group/number + 1"]])})),it("should maintain reference to question pasted in group",(function(){a.loadXML(""),g([["id","type","calculateAttr"],["/one","Int","null"],["/two","Int","null"],["/hidden","DataBindOnly","#form/one + #form/two + 1"],["/sub","Group","null"]]),g([["id","type","calculateAttr"],["/two","Int","null"],["/hidden","DataBindOnly","#form/one + #form/two + 1"]]),a.selectAll(),p(u.copy(),[["id","type","calculateAttr"],["/one","Int","null"],["/two","Int","null"],["/hidden","DataBindOnly","#form/one + #form/two + 1"],["/sub","Group","null"],["/sub/two","Int","null"],["/sub/hidden","DataBindOnly","#form/one + #form/sub/two + 1"]])})),it("should maintain reference to question referenced by itemset",(function(){a.loadXML(""),g([["id","type","labelItext:en-default","itemsetData"],["/items","DataBindOnly","null","null"],["/select","SelectDynamic","select",'[{"instance":null,"nodeset":"#form/items","labelRef":"@name","valueRef":"@id"}]'],["/sub","Group","null","null"]]),g([["id","type","labelItext:en-default","itemsetData"],["/items","DataBindOnly","null","null"],["/select","SelectDynamic","select",'[{"instance":null,"nodeset":"#form/items","labelRef":"@name","valueRef":"@id"}]']]),a.selectAll(),p(u.copy(),[["id","type","labelItext:en-default","labelItext:hin-default","itemsetData"],["/items","DataBindOnly","null","null","null"],["/select","SelectDynamic","select","select",'[{"instance":null,"nodeset":"#form/items","labelRef":"@name","valueRef":"@id"}]'],["/sub","Group","null","null","null"],["/sub/items","DataBindOnly","null","null","null"],["/sub/select","SelectDynamic","select","select",'[{"instance":null,"nodeset":"#form/sub/items","labelRef":"@name","valueRef":"@id"}]']])})),it("should maintain reference to question referenced by model iteration",(function(){a.loadXML(""),g([["id","type","labelItext:en-default","labelItext:hin-default","dataSource"],["/ids","DataBindOnly","null","null","null"],["/repeat/item","Repeat","repeat","repeat",'{"idsQuery":"#form/ids"}'],["/sub","Group","null","null","null"]]),g([["id","type","labelItext:en-default","labelItext:hin-default","dataSource"],["/ids","DataBindOnly","null","null","null"],["/repeat/item","Repeat","repeat","repeat",'{"idsQuery":"#form/ids"}']]),a.selectAll(),p(u.copy(),[["id","type","labelItext:en-default","labelItext:hin-default","dataSource"],["/ids","DataBindOnly","null","null","null"],["/repeat/item","Repeat","repeat","repeat",'{"idsQuery":"#form/ids"}'],["/sub","Group","null","null","null"],["/sub/ids","DataBindOnly","null","null","null"],["/sub/repeat/item","Repeat","repeat","repeat",'{"idsQuery":"#form/sub/ids"}']])})),it("should maintain reference in output value",(function(){a.loadXML(""),g([["id","type","labelItext:en-default","appearance"],["/name","Text","Name","null"],["/label","Trigger",'<output value="#form/name" />',"minimal"],["/sub","Group","null"]]),g([["id","type","labelItext:en-default","appearance"],["/name","Text","Name","null"],["/label","Trigger",'<output value="#form/name" />',"minimal"]]),a.selectAll(),p(u.copy(),[["id","type","labelItext:en-default","labelItext:hin-default","appearance"],["/name","Text","Name","Name","null"],["/label","Trigger",'<output value="#form/name" />','<output value="#form/name" />',"minimal"],["/sub","Group","null","null","null"],["/sub/name","Text","Name","Name","null"],["/sub/label","Trigger",'<output value="#form/sub/name" />','<output value="#form/sub/name" />',"minimal"]])})),describe("with instances without src",(function(){before((function(t){a.init({javaRosa:{langs:["en"]},core:{onReady:function(){m(this.isPluginEnabled("copyPaste"),"copyPaste plugin should be enabled"),t()}}})}));var t=[["id","type","labelItext:en-default","appearance","calculateAttr","instances"],["/score","Int","What was your score","null","null","null"],["/output","DataBindOnly","null","null","instance('scores')/score[@high > #form/score][@low < #form/score]",'{"scores":{"children":"<score low=\\"0.0\\" high=\\"500.0\\">You\'re really bad</score><score low=\\"500.0\\" high=\\"99999999.0\\">You\'re really good</score>"}}'],["/result","Trigger",'<output value="#form/output" />',"minimal","null","null"]];it("should properly paste",(function(){a.loadXML(""),g(t),a.assertXmlEqual(h("createXML"),d,{normalize_xmlns:!0})})),it("should properly copy",(function(){a.loadXML(d),a.selectAll(),p(u.copy(),t)}))})),describe("with multimedia",(function(){before((function(t){a.init({javaRosa:{langs:["en","hin"]},uploader:{objectMap:{"jr://file/commcare/audio/data/question1.mp3":!0}},core:{onReady:function(){m(this.isPluginEnabled("copyPaste"),"copyPaste plugin should be enabled"),t()}}})})),it("should not show warning on paste existing multimedia",(function(){a.loadXML(""),g([["id","type","labelItext:en-audio"],["/text","Text","jr://file/commcare/audio/data/question1.mp3"]]);var t=a.getMessages("text");m(!t,t)}))}))})),describe("The copy-paste string conversions should",(function(){function t(t,e){var n=JSON.stringify(t),a=JSON.stringify(e);it("stringify("+n+") -> "+a,(function(){m.deepEqual(u.stringify(t),e)})),it(" valuify("+a+") -> "+n,(function(){m.deepEqual(u.valuify(e),t)}))}t(null,"null"),t(!0,"true"),t(!1,"false"),t("null",'"null"'),t("true",'"true"'),t("false",'"false"'),t([],"[]"),t({},"{}"),t("",""),t("x","x"),t('"','"'),t("[\n]",'"[\\n]"'),t("{\n}",'"{\\n}"'),t('"\n"','"\\"\\n\\""'),t(0,"0"),t(1,"1"),t(350,"350"),t(.5,"0.5"),t(-1.2e-10,"-1.2e-10"),t("0",'"0"'),t("1",'"1"'),t("350",'"350"'),t("0.5",'"0.5"'),t("-1.2e-10",'"-1.2e-10"'),function(e){t(e,e)}(),t("{1} ","{1} "),t("{1} {2}",'"{1} {2}"'),t("[1] [2]",'"[1] [2]"'),t("01",'"01"')}))}.apply(e,a))||(t.exports=o)},3356:(t,e,n)=>{var a,o;a=[n(8324),n(561),n(3946),n(1134),n(8094),n(7239),n(1220),n(8203),n(55),n(6468),n(5023),n(893),n(3368),n(5771),n(3727)],void 0===(o=function(t,e,n,a,o,i,r,s,l,d,u,c,m,h,f){var p=t.assert,g=a.call,v=n(a.options.options.plugins||[]).without("itemset");describe("Vellum core",(function(){before((function(t){a.init({core:{onReady:function(){t()}},features:{rich_text:!1}})})),it("should display non-widget message",(function(){a.loadXML("");var n=a.addQuestion("Text","text"),o="Test non-widget message.";n.addMessage(null,{key:"testing-1-2-3",level:"error",message:o});var i=e(".fd-content-right").find(".messages");t.expect(a.getMessages(n)).to.include(o),t.expect(i.text()).to.include(o)})),it("should load form with save button in 'saved' state",(function(t){a.init({core:{form:i,onReady:function(){p.equal(this.data.core.saveButton.state,"saved"),t()}},features:{rich_text:!1}})})),it("should allow mug rename with itemset in form when the itemset plugin is disabled",(function(t){a.init({plugins:v,features:{rich_text:!1},core:{form:i,onReady:function(){var e=g("getMugByPath","/data/state"),n=e.form.getChildren(e)[0];p.equal(e.form.getAbsolutePath(n,!0),null),e.p.nodeID="stat",t()}}})})),it("should update child references on group rename",(function(){a.loadXML(d);var t=g("getMugByPath","/data/group"),e=g("getMugByPath","/data/group/question1"),n=g("getMugByPath","/data/question2");t.p.nodeID="g8",p.equal(e.form.getAbsolutePath(e),"/data/g8/question1"),p.strictEqual(n.p.relevantAttr,"#form/g8/question1 = 'valley girl' and #form/g8/question2 = 'dude'")})),it("should update question properties header on select mug with Question ID as display name",(function(){a.loadXML(""),a.paste([["id","type"],["/q1","Text"],["/q2","Text"]]),e(".fd-question-tree-display").val("_ids").change();var t=e(".fd-question-properties .fd-head h2");a.clickQuestion("q1"),p.equal(t.text(),"q1"),a.clickQuestion("q2"),p.equal(t.text(),"q2")})),it("should show warning icons on invalid questions",(function(){a.loadXML(u);var t=g("getMugByPath","/data/q0"),e=g("getMugByPath","/data/q1"),n=g("getMugByPath","/data/h1");p(a.isTreeNodeValid(t),"q0 is invalid: sanity check failed"),p(!a.isTreeNodeValid(e),"q1 should not be valid"),p(!a.isTreeNodeValid(n),"h1 should not be valid")})),it("should increment item value on insert new select item as child of select",(function(){a.loadXML(c),a.clickQuestion("question1");var t=a.addQuestion("Choice");p.equal(t.p.nodeID,"choice3")})),it("should increment item value on insert new select item after sibling item",(function(){a.loadXML(c),a.clickQuestion("question1/choice1");var t=a.addQuestion("Choice");p.equal(t.p.nodeID,"choice3")})),it("should add hidden value in repeat group",(function(){a.loadXML(""),a.addQuestion("Repeat","repeat"),a.addQuestion.bind({prevId:"repeat"})("Text","text"),a.addQuestion.bind({prevId:"repeat"})("DataBindOnly","hidden"),a.assertXmlEqual(g("createXML"),m,{normalize_xmlns:!0})})),it("should add question outside of collapsed group (ref group)",(function(){a.loadXML("");var t=a.addQuestion("Group","group");a.addQuestion("Text","text1"),a.collapseGroup(t),a.addQuestion.bind({prevId:"group"})("Text","text2"),a.expandGroup(t),a.assertJSTreeState("group","  text1","text2")})),it("should add question outside of collapsed group (ref inner question)",(function(){a.loadXML("");var t,e=a.addQuestion("Group","group"),n=a.addQuestion("Text","text1");a.clickQuestion("group/text1"),t=g("getCurrentlySelectedMug"),p.equal(t,n,"wrong selected mug: "+(t&&t.p.nodeID)),a.collapseGroup(e),a.addQuestion("Text","text2"),a.expandGroup(e),a.assertJSTreeState("group","  text1","text2")})),it("should not be able to add choice to collapsed select",(function(){a.loadXML("");var e=a.addQuestion("Select","select");a.addQuestion("Choice","choice1"),a.collapseGroup(e),t.expect((function(){a.addQuestion.bind({prevId:"select"})("Choice","choice2")})).to.throw(Error)})),it("should add text outside of collapsed select",(function(){a.loadXML("");var t=a.addQuestion("Select","select");a.addQuestion("Choice","choice1"),a.addQuestion("Choice","choice2"),a.collapseGroup(t),a.addQuestion.bind({prevId:"select"})("Text","text1"),a.expandGroup(t),a.assertJSTreeState("select","  choice1","  choice2","text1")})),it("should not change mugs on collapse",(function(){a.loadXML("");var t,e,n=a.addQuestion("Group","group");a.addQuestion("Group","group"),t=a.addQuestion("Text","text"),a.clickQuestion("group/group/text"),e=g("getCurrentlySelectedMug"),p.equal(e,t,"wrong selected mug: "+(e&&e.p.nodeID)),a.collapseGroup(n),e=g("getCurrentlySelectedMug"),p.equal(e,t,"wrong selected mug: "+(e&&e.p.nodeID))})),it("should not select group if external question is selected on collapse group",(function(){a.loadXML("");var t,e=a.addQuestion("Text","text1"),n=a.addQuestion("Group","group");a.clickQuestion("text1"),t=g("getCurrentlySelectedMug"),p.equal(t,e,"wrong selected mug: "+(t&&t.p.nodeID)),a.collapseGroup(n),t=g("getCurrentlySelectedMug"),p.equal(t,e,"wrong selected mug: "+(t&&t.p.nodeID))})),it("should load hidden value in repeat group",(function(){a.loadXML(m),a.assertJSTreeState("repeat","  text","  hidden")})),it("should load hidden values interspersed with other questions",(function(){a.loadXML(h),a.assertJSTreeState("hidden1","select1","  item1","  item2","hidden2","select2","  item1","  item2","hidden3","group","  hidden4","  text3","  hidden5","  text4","  hidden6","hidden7","text5","hidden8")})),it("should add hidden value at end of group",(function(){a.loadXML(f),a.addQuestion.bind({prevId:"hidden1"})("DataBindOnly","hiddenA"),a.addQuestion.bind({prevId:"group/hidden2"})("DataBindOnly","hiddenB"),a.assertJSTreeState("text1","text2","group","  text3","  text4","  hidden2","  hiddenB","text5","hidden1","hiddenA")})),it("should add hidden value among other questions",(function(){a.loadXML(f),a.addQuestion.bind({prevId:"text1"})("DataBindOnly","hiddenA"),a.addQuestion.bind({prevId:"group/text3"})("DataBindOnly","hiddenB"),a.assertJSTreeState("text1","hiddenA","text2","group","  text3","  hiddenB","  text4","  hidden2","text5","hidden1")})),it("should add question after selected question",(function(){a.loadXML(f),a.addQuestion.bind({prevId:"text1"})("Text","textA"),a.addQuestion.bind({prevId:"group/text3"})("Text","textB"),a.assertJSTreeState("text1","textA","text2","group","  text3","  textB","  text4","  hidden2","text5","hidden1")})),it("should add question after hidden value",(function(){a.loadXML(f),a.addQuestion.bind({prevId:"hidden1"})("Text","textA"),a.addQuestion.bind({prevId:"group/hidden2"})("Text","textB"),a.assertJSTreeState("text1","text2","group","  text3","  text4","  hidden2","  textB","text5","hidden1","textA")})),it("should add question after sole hidden value",(function(t){a.init({core:{onReady:function(){a.addQuestion("DataBindOnly","hidden"),a.addQuestion.bind({prevId:"hidden"})("Text","text"),a.assertJSTreeState("hidden","text"),t()}},features:{rich_text:!1}})})),it("should display welcome message whenever there are no questions",(function(){a.loadXML(""),a.addQuestion("Text","text1"),a.addQuestion("Text","text2"),a.deleteQuestion("/data/text1"),p(!e(".fd-default-panel").is(":visible")),p(e(".fd-question-changer").is(":visible")),a.deleteQuestion("/data/text2"),p(e(".fd-default-panel").is(":visible"))})),it("should use single quotes on drag/drop choice",(function(){a.loadXML(""),a.addQuestion("Select","select"),a.addQuestion("Choice","choice1");var t=a.addQuestion("DataBindOnly","mug"),n=e("[name=property-calculateAttr]"),o=e(".fd-question-tree").jstree(!0);p.equal(n.length,1),a.findNode(o,"choice1").data.handleDrop(n),p.equal(t.p.calculateAttr,"'choice1'")})),it("should drop /data/ reference when rich_text is false",(function(){a.loadXML(""),a.addQuestion("Text","text"),a.addQuestion("DataBindOnly","mug");var t=e("[name=property-calculateAttr]"),n=e(".fd-question-tree").jstree(!0);p.equal(t.length,1),a.findNode(n,"text").data.handleDrop(t),p.equal(t.val(),"/data/text")})),it("should notify activity url on form change",(function(t){var e,n=!1;p.equal(a.options.options.core.activityUrl,null),p.equal(a.options.options.core.activityTimeout,3e5),a.init({core:{activityTimeout:-1,activityUrl:function(){n=!0},onReady:function(){var a,o=Date.now();(e=this).onFormChange(),p.isAtLeast(this.data.core.activityTimestamp,o),a=Date.now(),e.onFormChange(),p(n),p.isAtLeast(e.data.core.activityTimestamp,a),p.isNotNull(e.opts().core.activityUrl),e.opts().core.activityUrl=null,t()}}})})),describe("with rich text disabled",(function(){var t;before((function(e){a.init({core:{onReady:function(){t=this,e()}},features:{rich_text:!1}})})),it("should display /data/ in the question tree",(function(){a.addQuestion("Text","text1");var n=a.addQuestion("Text","text2");p.strictEqual(t.getMugDisplayName(n),"text2"),e("[name=itext-en-label]").val('text2 <output value="#form/text2" />').change(),p.strictEqual(t.getMugDisplayName(n),'text2 &lt;output value="/data/text2" /&gt;')})),it("should not double-escape > & < chars in the question tree",(function(){a.paste([["id","type","labelItext:en-default"],["/html-label","Text","<h1>a > & < b</h1>"]]);var e=a.getMug("html-label");p.equal(t.getMugDisplayName(e),"&lt;h1&gt;a &gt; &amp; &lt; b&lt;/h1&gt;")})),it("should not escape & char in the question tree",(function(){a.paste([["id","type","labelItext:en-default"],["/html-label-second","Text","a&b"]]);var t=a.getMug("html-label-second");p.equal(t.p.labelItext.get(),"a&b")}))})),describe("with rich text enabled",(function(){var t;before((function(e){a.init({core:{onReady:function(){t=this,e()}},features:{rich_text:!0}})})),it("should not double-escape > & < chars in the question tree",(function(){a.paste([["id","type","labelItext:en-default"],["/html-label","Text","<h1>a > & < b</h1>"]]);var e=a.getMug("html-label");p.equal(t.getMugDisplayName(e),"&lt;h1&gt;a &gt; &amp; &lt; b&lt;/h1&gt;")})),it("should not escape & char in the question tree",(function(){a.paste([["id","type","labelItext:en-default"],["/html-label-other","Text","a&b > & < a"]]);var t=a.getMug("html-label-other");p.equal(t.p.labelItext.get(),"a&b > & < a")}))})),describe("XML diff display",(function(){it("should generate HTML disply of XML diff",(function(){var t=o.htmlXMLDiff(r,s);p.equal(t.trim(),l.trim())}))})),describe("save conflict resolution logic",(function(){var t,e,n,o=" line one\n line two\n line three\n line four\n line five\n",i=o.replace("two","2"),r={status:"conflict",xform:o},s=null;before((function(o){a.init({core:{onReady:function(){e=this.showOverwriteWarning,this.showOverwriteWarning=function(t,e,a){n(t,e,a)},t=this,o()},patchUrl:function(){return s="patch",r},saveUrl:function(t){return s="full",t.sha1?r:{xform:t.xform}}},features:{full_save_on_missing_conflict_xform:!1}})})),after((function(){t.showOverwriteWarning=e})),beforeEach((function(){n=void 0,t.data.core.saveButton.fire("change"),t.data.core.lastSavedXForm=o})),it("should re-enable save button before overwrite warning",(function(){n=function(t,n,r){p(a.saveButtonEnabled(),"save button is disabled"),p.equal(n,i),p.equal(r,o),e=!0};var e=!1;p(a.saveButtonEnabled(),"save button is disabled (sanity check)"),t.send(i,"patch"),p(e,"overwrite warning not triggered"),p.equal(s,"patch"),p.equal(t.data.core.lastSavedXForm,o)})),it("should send sha1 checksum on patch switched to full form post",(function(){n=function(t,n,r){p(a.saveButtonEnabled(),"save button is disabled"),p.equal(n,i),p.equal(r,o),e=!0};var e=!1,i="abc";p(a.saveButtonEnabled(),"save button is disabled (sanity check)"),t.send(i,null),p(e,"overwrite warning not triggered"),p.equal(s,"full"),p.equal(t.data.core.lastSavedXForm,o)})),it("should not send sha1 checksum with full form post",(function(){n=function(t,n,a){e=!0};var e=!1;p(a.saveButtonEnabled(),"save button is disabled (sanity check)"),t.send(i,"full"),p(!e,"should not prompt to overwrite on full save"),p(!a.saveButtonEnabled(),"save button should be disabled"),p.equal(s,"full"),p.equal(t.data.core.lastSavedXForm,i)}))})),describe("with duplicate ID should",(function(){var t,n;before((function(){t=a.loadXML(""),a.addQuestion("Text","same"),(n=a.addQuestion("Text","temp")).p.labelItext.set("same"),a.clickQuestion(n)})),beforeEach((function(){n.p.nodeID="same",p(t.vellum.ensureCurrentMugIsSaved(),"mug is not saved")})),it("show validation error",(function(){p(!a.isTreeNodeValid(n),"mug should not be valid")})),it("show placeholder on delete question ID",(function(){var o=e("[name=property-nodeID]");o.val("").change(),p.equal(n.p.nodeID,""),p.equal(o.attr("placeholder"),"copy-1-of-same"),p(a.isTreeNodeValid(n),a.getMessages(n)),p(t.vellum.ensureCurrentMugIsSaved(),"mug is not saved"),p.equal(n.p.nodeID,"copy-1-of-same")})),it("reset question ID on dismiss duplicate path error",(function(){var t=n.messages.get("nodeID","mug-conflictedNodeId-warning");p(t,"unexpected: validation error is missing"),n.dropMessage("nodeID","mug-conflictedNodeId-warning"),p(a.isTreeNodeValid(n),a.getMessages(n)),p.match(n.p.nodeID,/^copy-\d+-of-same$/),p(!n.p.conflictedNodeId,"conflictedNodeId should not be set; got "+n.p.conflictedNodeId)}))})),describe("type changer",(function(){function t(t,a,o){it("should "+(o?"show ":"not show ")+a+" in menu for "+t,(function(){var i=n[t],r=e.vellum.getQuestionTypeChanger(i).find("[data-qtype="+a+"]");p(r.length===(o?1:0),r.parent().html()||a+" not found in menu")}))}var e,n={};before((function(){e=a.loadXML(""),n.Text=a.addQuestion("Text"),n.Select=a.addQuestion("Select"),a.addQuestion("Choice"),n.SelectDynamic=a.addQuestion("SelectDynamic"),n.Transfer=a.addQuestion("Transfer"),n.Dispense=a.addQuestion("Dispense"),n.Receive=a.addQuestion("Receive")})),t("Text","Trigger",!0),t("Text","Choice"),t("Text","Group"),t("Text","DataBindOnly"),t("Text","Select",!0),t("Text","MSelect",!0),t("Text","SelectDynamic"),t("Text","MSelectDynamic"),t("Text","Transfer"),t("Select","MSelect",!0),t("Select","Text"),t("Select","SelectDynamic"),t("Select","MSelectDynamic"),t("SelectDynamic","MSelectDynamic",!0),t("SelectDynamic","Select"),t("SelectDynamic","MSelect"),t("Transfer","Text"),t("Transfer","Dispense",!0),t("Transfer","Receive",!0),t("Dispense","Transfer",!0),t("Dispense","Receive",!0),t("Receive","Transfer",!0),t("Receive","Dispense",!0)})),describe("drag+drop should",(function(){var t;before((function(){a.loadXML(f),a.addQuestion.bind({prevId:"text2"})("Repeat","repeat"),t={text1:g("getMugByPath","/data/text1"),text2:g("getMugByPath","/data/text2"),repeat:g("getMugByPath","/data/repeat"),group:g("getMugByPath","/data/group"),text3:g("getMugByPath","/data/group/text3"),text4:g("getMugByPath","/data/group/text4"),hidden2:g("getMugByPath","/data/group/hidden2"),text5:g("getMugByPath","/data/text5"),hidden1:g("getMugByPath","/data/hidden1")}})),n([["text1","before","text1",!0],["text1","inside","text1",!0],["text1","after","text1",!0],["text1","into","text1",!0],["text1","before","text2",!0],["text1","inside","text2",!0],["text1","after","text2",!0],["text1","before","repeat",!0],["text1","inside","repeat",!0],["text1","after","repeat",!0],["text1","first","group",!0],["text1","before","group",!0],["text1","inside","group",!0],["text1","after","group",!0],["text1","last","group",!0],["text1","into","group",!0],["text1","before","text3",!0],["text1","inside","text3",!0],["text1","after","text3",!0],["text1","before","text4",!0],["text1","inside","text4",!0],["text1","after","text4",!0],["text1","before","hidden2",!0],["text1","inside","hidden2",!0],["text1","after","hidden2",!0],["text1","into","hidden2",!0],["text1","before","text5",!0],["text1","inside","text5",!0],["text1","after","text5",!0],["text1","before","hidden1",!0],["text1","inside","hidden1",!0],["text1","after","hidden1",!0],["hidden1","before","text1",!0],["hidden1","inside","text1",!0],["hidden1","after","text1",!0],["hidden1","into","text1",!0],["hidden1","before","text2",!0],["hidden1","inside","text2",!0],["hidden1","after","text2",!0],["hidden1","first","repeat",!0],["hidden1","before","repeat",!0],["hidden1","inside","repeat",!0],["hidden1","after","repeat",!0],["hidden1","into","repeat",!0],["hidden1","last","repeat",!0],["hidden1","first","group",!0],["hidden1","before","group",!0],["hidden1","inside","group",!0],["hidden1","after","group",!0],["hidden1","into","group",!0],["hidden1","last","group",!0],["hidden1","before","text3",!0],["hidden1","inside","text3",!0],["hidden1","after","text3",!0],["hidden1","before","text4",!0],["hidden1","inside","text4",!0],["hidden1","after","text4",!0],["hidden1","before","hidden2",!0],["hidden1","inside","hidden2",!0],["hidden1","after","hidden2",!0],["hidden1","before","text5",!0],["hidden1","inside","text5",!0],["hidden1","after","text5",!0],["hidden1","before","hidden1",!0],["hidden1","inside","hidden1",!0],["hidden1","after","hidden1",!0],["hidden2","before","text1",!0],["hidden2","inside","text1",!0],["hidden2","after","text1",!0],["hidden2","before","text2",!0],["hidden2","inside","text2",!0],["hidden2","after","text2",!0],["hidden2","before","repeat",!0],["hidden2","inside","repeat",!0],["hidden2","after","repeat",!0],["hidden2","before","group",!0],["hidden2","inside","group",!0],["hidden2","after","group",!0],["hidden2","before","text3",!0],["hidden2","inside","text3",!0],["hidden2","after","text3",!0],["hidden2","before","text4",!0],["hidden2","inside","text4",!0],["hidden2","after","text4",!0],["hidden2","before","hidden2",!0],["hidden2","inside","hidden2",!0],["hidden2","after","hidden2",!0],["hidden2","before","text5",!0],["hidden2","inside","text5",!0],["hidden2","after","text5",!0],["hidden2","before","hidden1",!0],["hidden2","inside","hidden1",!0],["hidden2","after","hidden1",!0]]).each((function(e){var n=e[3],a=n?"allow move ":"prevent move ",o=e[0],i=e[2],r=e[1];it(a+o+" "+r+" "+i,(function(){var e=t[o],a=t[i],s=g("checkMove",e.ufid,e.__className,a.ufid,a.__className,r);p(n?s:!s,["move",o,r,i,"->",s].join(" "))}))})),n([[null,"first",null,"first"],[null,"last",null,"last"],["group","first","group","first"],["group","last","group","last"],["group","before","group","before"],["group","after","group","after"],["text1","before","text1","before"],["text1","after","text1","after"],[null,0,null,"first"],[null,1,"text1","after"],[null,2,"text2","after"],[null,3,"repeat","after"],[null,4,"group","after"],[null,5,"text5","after"],[null,6,"hidden1","after"],[null,7,null,"last"],[null,8,null,"last"],["repeat",0,"repeat","first"],["repeat",1,"repeat","last"],["repeat",2,"repeat","last"],["group",0,"group","first"],["group",1,"text3","after"],["group",2,"text4","after"],["group",3,"hidden2","after"],["group",4,"group","last"],["group",5,"group","last"]]).each((function(e){var n=e[0],a=e[1],o=e[2],i=e[3];it("produce relative position "+n+"["+a+"] => "+i+" "+o,(function(){var e=n?t[n]:null,r=o?t[o]:null,s=g("getRelativePosition",e,a),l=String(s.position),d=s.mug?s.mug.p.nodeID:String(s.mug);p(s.position===i&&s.mug===r,[a,n,"->",l,d].join(" "))}))}))}))}))}.apply(e,a))||(t.exports=o)},8399:(t,e,n)=>{var a,o;a=[n(8449),n(1134),n(8094),n(8324),n(561),n(3946),n(5304),n(6715),n(5743),n(3092),n(4385),n(2695),n(1942),n(5179),n(2066),n(5737)],void 0===(o=function(t,e,n,a,o,i,r,s,l,d,u,c,m,h,f,p){var g=a.assert,v=e.call,x=i.union(e.options.options.plugins||[],["databrowser"]),b=[{id:"commcaresession",uri:"jr://instance/session",path:"/session/data",name:"Session",structure:{case_id:{reference:{hashtag:"#case",source:"casedb",subset:"case",subset_key:"@case_type",key:"@case_id"}}}},{id:"casedb",uri:"jr://instance/casedb",path:"/cases/case",name:"Cases",structure:{name:{}},subsets:[{id:"parent",name:"parent (mother)",key:"@case_type",structure:{edd:{}}},{id:"case",name:"child",key:"@case_type",structure:{dob:{},invalid:{}},related:{parent:{hashtag:"#case/parent",subset:"parent",subset_key:"@case_type",key:"@case_id"}}}]}];describe("The data browser",(function(){var t,a="#case/dob";function E(t,e){var n=i.find(t.instanceMetadata,(function(t){return t.attributes.src===e}));return n?n.attributes.id:null}describe("when loaded before the form",(function(){before((function(n){e.init({plugins:x,javaRosa:{langs:["en"]},core:{dataSourcesEndpoint:function(t){t(b)},invalidCaseProperties:["invalid"],onReady:function(){r.initDataBrowser(this),t=this.$f.find(".fd-external-sources-tree").jstree(!0),n()}}})})),it("should add ref on drag/drop",(function(n){e.loadXML("");var i=e.addQuestion("DataBindOnly","mug"),r=o("[name=property-calculateAttr]"),l=b[0].uri,d=b[1].uri,u=r.ckeditor().editor;e.getWidget("property-calculateAttr").input.promise.then((function(){u.on("change",(function(){g.equal(i.p.calculateAttr,a),g.equal(E(i.form,l),"commcaresession"),g.equal(E(i.form,d),"casedb"),e.assertXmlEqual(v("createXML"),s,{normalize_xmlns:!0}),n()})),g.equal(E(i.form,l),null),g.equal(E(i.form,d),null),g.equal(r.length,1),e.findNode(t,"dob").data.handleDrop(r)}))})),it("should add parent ref on drag/drop",(function(n){e.loadXML("");var a=e.addQuestion("DataBindOnly","mug"),i=o("[name=property-calculateAttr]"),r=b[0].uri,s=b[1].uri,l=i.ckeditor().editor;e.getWidget("property-calculateAttr").input.promise.then((function(){l.on("change",(function(){g.equal(a.p.calculateAttr,"#case/parent/edd"),g.equal(E(a.form,r),"commcaresession"),g.equal(E(a.form,s),"casedb"),e.assertXmlEqual(v("createXML"),d,{normalize_xmlns:!0}),n()})),g.equal(E(a.form,r),null),g.equal(E(a.form,s),null),g.equal(i.length,1),e.findNode(t,"edd").data.handleDrop(i)}))})),it("should hashtagify refs when written",(function(){e.loadXML(l),e.assertXmlEqual(v("createXML"),s)})),it("is not overwritten by the forms preloaded tags",(function(){e.loadXML(h);var t=v("getData").core.form;g(t.isValidHashtag(a)),g.notStrictEqual(t.hashtagMap[a],null)})),it("should write externally referenced hashtags to form",(function(){e.loadXML(h),e.assertXmlEqual(v("createXML"),h,{normalize_xmlns:!0})})),it("should not write unknown referenced hashtags to form",(function(){e.loadXML(f);var t=o(v("createXML")).find("h\\:head, head").children("vellum\\:hashtags, hashtags"),n=JSON.parse(o.trim(t.text()));g.deepEqual(n,{"#case/dob":null})})),it("should add the casedb instance when referencing a case in a label",(function(n){e.loadXML("");var a=e.addQuestion("Text","mug"),r=o("[name=itext-en-label]"),s=b[0].uri,l=b[1].uri,d=r.ckeditor().editor;e.getWidget("itext-en-label").input.promise.then((function(){d.on("change",i.debounce((function(){g.equal(a.p.labelItext.get(),'<output value="#case/dob" /> '),g.equal(E(a.form,s),"commcaresession"),g.equal(E(a.form,l),"casedb"),e.assertXmlEqual(v("createXML"),u,{normalize_xmlns:!0}),n()}),20)),g.equal(E(a.form,s),null),g.equal(E(a.form,l),null),g.equal(r.length,1),e.findNode(t,"dob").data.handleDrop(r)}))})),it("should drag/drop xpath (not hashtag) when rich text is off",(function(){e.loadXML(m);var n=e.getMug("dob"),a=o("[name=property-calculateAttr]");g.equal(n.p.calculateAttr,""),e.findNode(t,"dob").data.handleDrop(a),g.equal(a.val(),"instance('casedb')/cases/case[@case_id = instance('commcaresession')/session/data/case_id]/dob"),g.equal(n.p.calculateAttr,"#case/dob")})),describe("with two languages",(function(){beforeEach((function(n){e.init({plugins:x,javaRosa:{langs:["en","hin"]},core:{dataSourcesEndpoint:function(t){t(b)},onReady:function(){r.initDataBrowser(this),t=this.$f.find(".fd-external-sources-tree").jstree(!0),n()}}})})),it("should add the casedb instance when referencing a case in a label of non default language",(function(n){e.loadXML("");var a=e.addQuestion("Text","mug");e.clickQuestion("mug");var r=o("[name=itext-hin-label]"),s=b[0].uri,l=b[1].uri,d=r.ckeditor().editor;e.getWidget("itext-hin-label").input.promise.then((function(){d.on("change",i.debounce((function(){g.equal(a.p.labelItext.get(),""),g.equal(a.p.labelItext.get(null,"hin"),'<output value="#case/dob" /> '),g.equal(E(a.form,s),"commcaresession"),g.equal(E(a.form,l),"casedb"),e.assertXmlEqual(v("createXML"),c,{normalize_xmlns:!0}),n()}),20)),g.equal(E(a.form,s),null),g.equal(E(a.form,l),null),g.equal(r.length,1),e.findNode(t,"dob").data.handleDrop(r)}))}))})),describe("when rich_text is off",(function(){before((function(n){e.init({plugins:x,javaRosa:{langs:["en"]},core:{dataSourcesEndpoint:function(t){t(b)},onReady:function(){r.initDataBrowser(this),t=this.$f.find(".fd-external-sources-tree").jstree(!0),n()}},features:{rich_text:!1}})})),it("should add ref on drag/drop",(function(){e.loadXML("");var n=e.addQuestion("DataBindOnly","mug"),a=o("[name=property-calculateAttr]"),i=b[0].uri,r=b[1].uri;g.equal(E(n.form,i),null),g.equal(E(n.form,r),null),g.equal(a.length,1),e.findNode(t,"dob").data.handleDrop(a),g.equal(n.p.calculateAttr,"instance('casedb')/cases/case[@case_id = instance('commcaresession')/session/data/case_id]/dob"),g.equal(E(n.form,i),"commcaresession"),g.equal(E(n.form,r),"casedb")})),it("should add parent ref on drag/drop",(function(){e.loadXML("");var n=e.addQuestion("DataBindOnly","mug"),a=o("[name=property-calculateAttr]"),i=b[0].uri,r=b[1].uri;g.equal(E(n.form,i),null),g.equal(E(n.form,r),null),g.equal(a.length,1),e.findNode(t,"edd").data.handleDrop(a),g.equal(n.p.calculateAttr,"instance('casedb')/cases/case[@case_id = instance('casedb')/cases/case[@case_id = instance('commcaresession')/session/data/case_id]/index/parent]/edd"),g.equal(E(n.form,i),"commcaresession"),g.equal(E(n.form,r),"casedb")}))})),it("shouldn't show invalid properties",(function(){g.isNull(e.findNode(t,"invalid"),"invalid shouldn't be in case tree")}))})),describe("when loaded after the form",(function(){var t,o,i,s={};n.eventuality(s),before((function(n){e.init({plugins:x,javaRosa:{langs:["en"]},core:{dataSourcesEndpoint:function(t){s.on("loadCaseData",(function(){t(b)}))},form:d,onReady:function(){t=this,i=e.addQuestion("DataBindOnly","blue"),(o=e.getWidget("property-calculateAttr")).input.promise.then(n)}}})})),it("should error for unknown properties",(function(n){o.setValue(a),o.handleChange(),g(!e.isTreeNodeValid(i),"expected validation error"),g.deepEqual(e.getMessages(i),"calculateAttr:\n  - Unknown question: #case/dob"),s.fire("loadCaseData"),function(e){r.initDataBrowser(t),e()}((function(){g(e.isTreeNodeValid(i),i.getErrors().join("\n")),n()}))}))})),describe("when loaded after the form with loaded xml",(function(){var t,i,s={};n.eventuality(s),beforeEach((function(n){e.init({plugins:x,javaRosa:{langs:["en"]},core:{dataSourcesEndpoint:function(t){s.on("loadCaseData",(function(){t(b)}))},form:h,onReady:function(){t=this,(i=e.getWidget("property-calculateAttr")).input.promise.then(n)}}})})),it("should not error for known properties",(function(){g.strictEqual(i.getValue(),a),g.lengthOf(i.getControl().find(".label-datanode-unknown"),0),s.fire("loadCaseData"),g.strictEqual(i.getValue(),a),g.lengthOf(i.getControl().find(".label-datanode-unknown"),0)})),it("overwrites the forms preloaded tags",(function(){var t=v("getData").core.form,e="instance('casedb')/cases/case[@case_id = instance('commcaresession')/session/data/case_id]/dob";g(t.isValidHashtag(a),"invalid before test"),g.equal(t.hashtagMap[a],e),t.hashtagMap[a]=null,s.fire("loadCaseData"),g(t.isValidHashtag(a),"not valid after loadCaseData"),g.equal(t.hashtagMap[a],e)})),it("should not write unknown referenced hashtags to form",(function(){e.loadXML(f),s.fire("loadCaseData");var t=o(v("createXML")).find("h\\:head, head").children("vellum\\:hashtags, hashtags"),n=JSON.parse(o.trim(t.text()));g.deepEqual(n,{"#case/dob":null})})),it("the parser and form should point to same hashtag dictionary",(function(n){var a=v("getData").core.form,o=a.hashtagMap,i=a.xpath;s.fire("loadCaseData"),function(e){r.initDataBrowser(t),e()}((function(){var t=v("getData").core.form,a=t.hashtagMap,r=t.xpath;g.notStrictEqual(a,o),g.strictEqual(r,i),e.addQuestion("Text","text");var s=i.parse("#form/text").toXPath();g.strictEqual(s,"/data/text"),n()}))})),it("should not cause null xpath",(function(){e.loadXML(p),s.fire("loadCaseData"),e.loadXML(p),e.assertXmlEqual(e.call("createXML"),p)}))})),describe("without rich text",(function(){before((function(n){e.init({features:{rich_text:!1},plugins:x,javaRosa:{langs:["en"]},core:{dataSourcesEndpoint:function(t){t(b)},invalidCaseProperties:["invalid"],onReady:function(){r.initDataBrowser(this),t=this.$f.find(".fd-external-sources-tree").jstree(!0),n()}}})})),it("should add ref on drag/drop",(function(){e.loadXML("");var n=e.addQuestion("Text","mug"),a=o("[name=itext-en-label]"),i=b[0].uri,r=b[1].uri;g.equal(E(n.form,i),null),g.equal(E(n.form,r),null),g.equal(a.length,1),e.findNode(t,"dob").data.handleDrop(a),g.equal(n.p.labelItext.get(),"<output value=\"instance('casedb')/cases/case[@case_id = instance('commcaresession')/session/data/case_id]/dob\" />"),g.equal(E(n.form,i),"commcaresession"),g.equal(E(n.form,r),"casedb")}))})),describe("with user properties",(function(){var n=[{id:"commcaresession",uri:"jr://instance/session",path:"/session",name:"Session",structure:{data:{merge:!0,structure:{case_id:{reference:{hashtag:"#case",source:"casedb",subset:"case",subset_key:"@case_type",key:"@case_id"}}}},context:{merge:!0,structure:{userid:{reference:{hashtag:"#user",source:"casedb",subset:"commcare-user",subset_key:"@case_type",subset_filter:!0,key:"hq_user_id"}}}}}},{id:"casedb",uri:"jr://instance/casedb",path:"/casedb/case",name:"Cases",structure:{name:{}},subsets:[{id:"case",name:"child",key:"@case_type",structure:{dob:{},invalid:{}}},{id:"commcare-user",name:"user",key:"@case_type",structure:{code_name:{},user_role:{}}}]}];before((function(a){e.init({plugins:x,javaRosa:{langs:["en"]},core:{dataSourcesEndpoint:function(t){t(n)},invalidCaseProperties:["invalid"],onReady:function(){r.initDataBrowser(this),t=this.$f.find(".fd-external-sources-tree").jstree(!0),a()}}})})),it("should drag/drop case property",(function(n){e.loadXML("");var a=e.addQuestion("DataBindOnly","mug"),i=o("[name=property-calculateAttr]"),r=i.ckeditor().editor;e.getWidget("property-calculateAttr").input.promise.then((function(){r.on("change",(function(){g.equal(a.p.calculateAttr,"#case/dob"),n()})),g(!a.p.calculateAttr,"unexpected: "+a.p.calculateAttr),e.findNode(t,"dob").data.handleDrop(i)}))})),it("should drag/drop case index",(function(n){e.loadXML("");var a=e.addQuestion("DataBindOnly","mug"),i=o("[name=property-calculateAttr]"),r=i.ckeditor().editor;e.getWidget("property-calculateAttr").input.promise.then((function(){r.on("change",(function(){g.equal(a.p.calculateAttr,"instance('commcaresession')/session/data/case_id"),n()})),g(!a.p.calculateAttr,"unexpected: "+a.p.calculateAttr),e.findNode(t,"child").data.handleDrop(i)}))})),it("should drag/drop user property",(function(n){var a=e.loadXML(""),i=e.addQuestion("DataBindOnly","mug"),r=o("[name=property-calculateAttr]"),s=r.ckeditor().editor;e.getWidget("property-calculateAttr").input.promise.then((function(){s.on("change",(function(){g.equal(i.p.calculateAttr,"#user/code_name"),g.equal(a.normalizeXPath("#user/code_name"),"instance('casedb')/casedb/case[@case_type = 'commcare-user'][hq_user_id = instance('commcaresession')/session/context/userid]/code_name"),n()})),g(!i.p.calculateAttr,"unexpected: "+i.p.calculateAttr),e.findNode(t,"code_name").data.handleDrop(r)}))}))}))}))}.apply(e,a))||(t.exports=o)},1389:(t,e,n)=>{var a,o;a=[n(8449),n(1134),n(8324),n(561),n(3946),n(9333),n(5737),n(224),n(6496)],void 0===(o=function(t,e,n,a,o,i,r,s,l){var d=n.assert,u=e.clickQuestion,c=o.union(e.options.options.plugins||[],["itemset"]),m=[{id:"some-fixture",uri:"jr://fixture/item-list:some-fixture",path:"/some-fixture_list/some-fixture",name:"some-fixture-name",structure:{"inner-attribute":{structure:{"extra-inner-attribute":{structure:{"@id":{},name:{}}}}},"@id":{},name:{}}},{id:"commcaresession",uri:"jr://instance/session",path:"/session",name:"Session",structure:{data:{merge:!0,structure:{case_id:{reference:{hashtag:"#case",source:"casedb",subset:"case",subset_key:"@case_type",key:"@case_id"}}}},context:{merge:!0,structure:{userid:{reference:{hashtag:"#user",source:"casedb",subset:"commcare-user",subset_key:"@case_type",subset_filter:!0,key:"hq_user_id"}}}}}},{id:"casedb",uri:"jr://instance/casedb",path:"/cases/case",name:"Cases",subsets:[{id:"case",name:"child",key:"@case_type",structure:{dob:{},parent:{},realName:{name:"anAlias"}},related:{parent:{hashtag:"#case/parent",subset:"parent",subset_key:"@case_type",key:"@case_id"}}},{id:"parent",name:"mother",key:"@case_type",structure:{edd:{}},related:{parent:{hashtag:"#case/grandparent",subset:"grandparent",subset_key:"@case_type",key:"@case_id"}}},{id:"grandparent",name:"household",key:"@case_type",structure:{address:{}}},{id:"commcare-user",name:"user",key:"@case_type",structure:{role:{}}}]}];describe("The data sources loader",(function(){var n;before((function(t){e.init({plugins:c,javaRosa:{langs:["en"]},core:{dataSourcesEndpoint:function(t){t(m)},onReady:function(){n=this,t()}},features:{rich_text:!1}})})),it("displays nested structures",(function(){e.loadXML(""),e.addQuestion("SelectDynamic","select1"),u("select1/itemset");var t=a("[name=property-itemsetData] option");d.equal(o.map(t,(function(t){return t.text})).join("\n"),["some-fixture-name","some-fixture-name - inner-attribute","some-fixture-name - inner-attribute - extra-inner-attribute"].join("\n"))})),describe("data nodes",(function(){var t;before((function(){t=function t(e){return o.object(o.map(e,(function(e){return e.recursive||(e.nodes=t(e.getNodes())),[e.name,e]})))}(n.datasources.getDataNodes())})),it("should merge structures when merge flag is set",(function(){d.deepEqual(o.keys(t),["child","user"]),d.equal(t.child.xpath,"instance('commcaresession')/session/data/case_id"),d.equal(t.user.xpath,"instance('commcaresession')/session/context/userid")})),it("should use reference.hashtag",(function(){d.equal(t.user.nodes.role.hashtag,"#user/role")})),it("should construct #case hashtag with reference.subset",(function(){d.equal(t.child.nodes.dob.hashtag,"#case/dob")})),it("should use aliases for hashtags",(function(){d.equal(t.child.nodes.anAlias.hashtag,"#case/anAlias")})),it("should reference an aliased property by its original id in its xpath",(function(){d.match(t.child.nodes.anAlias.xpath,/\/realName$/)})),it("should construct #case/parent hashtag with related subset",(function(){d.equal(t.child.nodes.mother.nodes.edd.hashtag,"#case/parent/edd")})),it("should construct #case/grandparent hashtag with related subset",(function(){var e=t.child.nodes.mother.nodes.household.nodes;d.equal(e.address.hashtag,"#case/grandparent/address")})),it("should use index path for related parent node",(function(){d.strictEqual(t.child.nodes.mother.hashtag,null),d.equal(t.child.nodes.mother.xpath,"instance('casedb')/cases/case[@case_id = instance('commcaresession')/session/data/case_id]/index/parent")})),it("should support property with same name as related index",(function(){d.equal(t.child.nodes.parent.hashtag,"#case/parent"),d.equal(t.child.nodes.parent.xpath,"instance('casedb')/cases/case[@case_id = instance('commcaresession')/session/data/case_id]/parent")}))})),describe("",(function(){before((function(t){e.init({plugins:c,javaRosa:{langs:["en"]},core:{dataSourcesEndpoint:function(t){t([])},onReady:function(){t()}},features:{rich_text:!1}})})),it("should not crash when no fixtures are passed",(function(){e.loadXML(""),e.addQuestion("SelectDynamic","select1"),u("select1/itemset")}))})),describe("async options loader",(function(){var n,o;before((function(t){e.init({plugins:c,javaRosa:{langs:["en"]},core:{dataSourcesEndpoint:function(t){o=t},onReady:function(){n=this,t()}},features:{rich_text:!1}})})),beforeEach((function(){n.datasources.reset(),o=null})),it("should indicate loading status for empty itemset",(function(){e.loadXML(""),e.addQuestion("SelectDynamic","select"),u("select/itemset");var t=a("[name=property-itemsetData] option");d.equal(t.first().text(),"Loading..."),d.equal(t.length,1,a("<div />").append(t).html())})),it("should replace loading indicator with async loaded options",(function(){e.loadXML(""),e.addQuestion("SelectDynamic","select"),u("select/itemset"),o([]);var t=a("[name=property-itemsetData] option");d.equal(t.first().text(),"Not Found"),d.equal(t.length,1,a("<div />").append(t).html())})),it("should show custom option when loading itemset with value",(function(){e.loadXML(""),e.paste([["id","type","itemsetData"],["select","SelectDynamic",'[{"instance":null,"nodeset":"/items","labelRef":"@name","valueRef":"@id"}]']]),u("select/itemset");var t=a("[name=property-itemsetData] option"),n=a(t[1]);d.equal(t.first().text(),"Loading..."),d.equal(n.text(),"Lookup table was not found in the project"),d.equal(n.parent().val(),'{"id":"","src":"","query":"/items"}'),d.equal(t.length,2,a("<div />").append(t).html())})),it("should select first option when empty and finished loading",(function(){e.loadXML(""),e.addQuestion("SelectDynamic","select"),o([{id:"bar",uri:"jr://fixture/foo",path:"/root",name:"outer",structure:{"@id":{},name:{},inner:{structure:{"@id":{},name:{}}}}}]),u("select/itemset");var t=a("[name=property-itemsetData]");d.equal(t.val(),'{"id":"bar","src":"jr://fixture/foo","query":"instance(\'bar\')/root"}'),d.equal(t.find("option:selected").text(),"outer"),d.equal(a("[name=property-valueRef]").val(),"@id"),d.equal(a("[name=property-labelRef]").val(),"name")})),it("should select correct option when not empty and finished loading",(function(){e.loadXML(""),e.paste([["id","type","itemsetData"],["select","SelectDynamic",'[{"instance":{"id":"bar","src":"jr://fixture/foo","query":"instance(\'bar\')/root/inner"},"nodeset":"instance(\'bar\')/root/inner","labelRef":"name","valueRef":"@id"}]']]),u("select/itemset"),o([{id:"bar",uri:"jr://fixture/foo",path:"/root",name:"outer",structure:{"@id":{},name:{},inner:{structure:{"@id":{},name:{}}}}}]);var t=a("[name=property-itemsetData]");d.equal(t.val(),'{"id":"bar","src":"jr://fixture/foo","query":"instance(\'bar\')/root/inner"}'),d.equal(t.find("option:selected").text(),"outer - inner")})),it("should not cause null xpath",(function(){e.loadXML(r),o(t.dataSources),e.assertXmlEqual(e.call("createXML"),r.replace(/ vellum:\w+=".*?"/g,"").replace(/<vellum:hashtag.*>/g,""))}))})),describe("when still loading",(function(){var t,n;before((function(a){e.init({plugins:c,javaRosa:{langs:["en"]},core:{dataSourcesEndpoint:function(t){n=t},onReady:function(){t=this,a()}}})})),beforeEach((function(){t.datasources.reset(),n=null})),it("should not lose output value xpath on save",(function(){var n=e.loadXML(s.replace(/<vellum:hashtagTransforms.*>/,""));d(!t.datasources.isReady(),"data sources should not be ready"),e.assertXmlEqual(e.call("createXML"),s),d(n.shouldInferHashtags,"form.shouldInferHashtags")})),it("should not infer hashtags when <vellum:hashtagTransforms> is present",(function(){var n=e.loadXML(s);d(!t.datasources.isReady(),"data sources should not be ready"),e.assertXmlEqual(e.call("createXML"),s),d(!n.shouldInferHashtags,"form.shouldInferHashtags should be false")})),it("should show error on load sources with previously-known case property",(function(){var a=e.loadXML(l),o=e.getMug("hid"),i=e.getMug("text");d(!t.datasources.isReady(),"data sources should not be ready"),d(e.isTreeNodeValid(o),e.getMessages(o)),d(e.isTreeNodeValid(i),e.getMessages(i)),d(!a.shouldInferHashtags,"form.shouldInferHashtags"),n(m),d(!e.isTreeNodeValid(o),"/data/hid should not be valid"),d(!e.isTreeNodeValid(i),"/data/text should not be valid")}))}))}))}.apply(e,a))||(t.exports=o)},7404:(t,e,n)=>{var a,o;a=[n(8324),n(561),n(3946),n(1134),n(7359),n(6838),n(4348),n(6889),n(5290)],void 0===(o=function(t,e,n,a,o,i,r,s,l){var d=t.assert,u=a.call;describe("Control elements with different data parents",(function(){before((function(t){a.init({javaRosa:{langs:["en"]},core:{onReady:function(){t()}}})})),it("should not allow repeat group children to have data parent outside of the repeat",(function(){a.loadXML("");var t=a.addQuestion("Repeat","repeat1"),e=a.addQuestion.bind({prevId:t.p.nodeID})("Text","text1"),n=a.addQuestion.bind({prevId:t.p.nodeID})("Text","text2");n.p.dataParent="#form",d(a.isTreeNodeValid(e),"text1 should be valid"),d(!a.isTreeNodeValid(n),"text2 should not be valid")})),it("should allow repeat group children to have data parent (in) the same repeat",(function(){a.loadXML("");var t=a.addQuestion("Repeat","repeat"),e=a.addQuestion.bind({prevId:"repeat"})("Group","group"),n=a.addQuestion.bind({prevId:"repeat/group"})("Text","text");n.p.dataParent=t.hashtagPath,d.equal(e,n.parentMug,"group should be control parent of text"),d(a.isTreeNodeValid(n),"text should be valid")})),it("should not allow nested repeat group children to have data parent in an outer repeat",(function(){a.loadXML("");var t=a.addQuestion("Repeat","repeat1"),e=a.addQuestion.bind({prevId:"repeat1"})("Repeat","repeat2"),n=a.addQuestion.bind({prevId:"repeat1/repeat2"})("Text","text");n.p.dataParent=t.hashtagPath,d.equal(e,n.parentMug,"repeat2 should be control parent of text"),d.match(a.getMessages(n),/Data parent of question in repeat group must be .... the same repeat group/)})),it("should not allow a data parent to be an input",(function(){a.loadXML("");var t=a.addQuestion("Text","text1"),e=a.addQuestion("Text","text2");e.p.dataParent="#form/text1",d(a.isTreeNodeValid(t),"text1 should be valid"),d(!a.isTreeNodeValid(e),"text2 should not be valid")})),it("should keep the same data parent after a move",(function(){a.loadXML("");var t=a.addQuestion("Text","text1"),e=a.addQuestion("Text","text2"),n=u("getData").core.form;a.addQuestion("Group","group1"),e.p.dataParent="#form/group1",n.moveMug(e,"before",t),d.equal(e.p.dataParent,"#form/group1")})),it("should update data tree after a change to data parent",(function(){a.loadXML("");var t=a.addQuestion("Text","text1"),e=a.addQuestion("Group","group1"),n=a.addQuestion.bind({prevId:t.p.nodeID})("Group","group2"),o=u("getData").core.form;t.p.dataParent="#form/group1",d.equal(t.p.dataParent,"#form/group1"),o.moveMug(e,"into",n),d.equal(t.p.dataParent,"#form/group2/group1")})),it("should clear the data parent when moving to a repeat group",(function(){a.loadXML("");var t=a.addQuestion("Text","text1");a.addQuestion("Group","group1");var e=a.addQuestion.bind({prevId:t.p.nodeID})("Repeat","repeat1"),n=u("getData").core.form;t.p.dataParent="#form/group1",n.moveMug(t,"into",e),d(a.isTreeNodeValid(t),t.getErrors().join("\n")),d.isUndefined(t.p.dataParent)})),it("should not clear the data parent when moving within a repeat group",(function(){var t=a.loadXML(""),e=a.addQuestion("Repeat","repeat1"),n=a.addQuestion.bind({prevId:"repeat1"})("Group","group1"),o=a.addQuestion.bind({prevId:"repeat1"})("Text","text1");o.p.dataParent="#form/repeat1",d.equal(o.parentMug,e,"repeat1 should be control parent of text"),t.moveMug(o,"into",n),d(a.isTreeNodeValid(o),o.getErrors().join("\n")),d.equal(o.p.dataParent,e.hashtagPath),d.equal(o.parentMug,n,"group should be control parent of text")})),it("should clear the data parent when moving into a nested repeat group",(function(){var t=a.loadXML(""),e=a.addQuestion("Repeat","repeat1");a.addQuestion.bind({prevId:"repeat1"})("Repeat","repeat2");var n=a.addQuestion.bind({prevId:"repeat1/repeat2"})("Group","group1"),o=a.addQuestion.bind({prevId:"repeat1"})("Text","text1");o.p.dataParent="#form/repeat1",d.equal(o.parentMug,e,"repeat1 should be control parent of text"),t.moveMug(o,"into",n),d(a.isTreeNodeValid(o),o.getErrors().join("\n")),d.isUndefined(o.p.dataParent),d.equal(o.parentMug,n,"group should be control parent of text")})),it("should have proper data parent after reloading the form",(function(){a.loadXML("");var t=a.addQuestion("Text","text1"),e=u("getData").core.form;a.addQuestion("Group","group1"),t.p.dataParent="#form/group1",a.loadXML(u("createXML")),d.equal(t.p.dataParent,"#form/group1"),a.assertTreeState(e.dataTree(),"group1","  text1")})),it("should update mug path mapping on set data parent",(function(){var t=a.loadXML(""),e=a.addQuestion("Text","text");a.addQuestion("Group","group"),e.p.dataParent="#form/group";var o=JSON.stringify(n.object(n.map(t.mugMap,(function(t,e){return e.startsWith("/")?[e,t.__className]:["",void 0]}))));d(a.getMug("/data/group/text"),'cannot find "#form/group/text" in '+o)})),it("should parse and write XML to have the same order",(function(){a.loadXML(o),a.assertXmlEqual(u("createXML"),o)})),it("should have proper data parent after being loaded from xml",(function(){a.loadXML(o);var t=a.getMug("/data/parent/different-child");d.equal(t.p.dataParent,"#form/parent"),a.assertJSTreeState("different-child","parent","  normal-child")})),it("should use the control parent when inserting after a mug with different data parent",(function(){a.loadXML("");var t=u("getData").core.form,e=a.addQuestion("Text","text1");a.addQuestion("Group","group"),a.addQuestion("Text","text2"),e.p.dataParent="#form/group",a.addQuestion.bind({prevId:e.absolutePath})("Text","text3"),a.assertTreeState(t.dataTree(),"text3","group","  text2","  text1"),a.assertJSTreeState("text1","text3","group","  text2")})),it("should properly load group before sibling/child",(function(){a.loadXML(i);var t=a.getMug("/data/text");d.equal(t.p.dataParent,"#form"),a.assertJSTreeState("group","  text"),a.assertXmlEqual(u("createXML"),i)})),it("should properly load mug after other mugs",(function(){a.loadXML(r);var t=a.getMug("/data/parent/child");d.equal(t.p.dataParent,"#form/parent"),a.assertJSTreeState("before-child","child","parent"),a.assertXmlEqual(u("createXML"),r)})),it("should properly load mug before other mugs",(function(){a.loadXML(s);var t=a.getMug("/data/parent/child");d.equal(t.p.dataParent,"#form/parent"),a.assertJSTreeState("child","after-child","parent"),a.assertXmlEqual(u("createXML"),s)})),it("should properly load mug in between other mugs",(function(){a.loadXML(l);var t=a.getMug("/data/parent/child");d.equal(t.p.dataParent,"#form/parent"),a.assertJSTreeState("before-child","child","after-child","parent"),a.assertXmlEqual(u("createXML"),l)})),it("should error on recursive data parent",(function(){a.loadXML("");var t=a.addQuestion("Text","mug");d.equal(t.absolutePath,"/data/mug"),t.p.dataParent="#form/mug",d.deepEqual(t.getErrors(),[gettext("{path} is not a valid data parent").replace("{path}","#form/mug")])}))}))}.apply(e,a))||(t.exports=o)},1184:(t,e,n)=>{var a,o;a=[n(3946),n(8324),n(8916),n(1134),n(3634)],void 0===(o=function(t,e,n,a,o){var i=e.assert;describe("The escaped hashtag parser",(function(){function e(t){var e=t.split("/");return e[e.length-1]}var a={"#form/text1":"/data/text1","#form/text2":"/data/text2"},o={hashtagMap:a,invertedHashtagMap:t.invert(a),hashtagNamespaces:{form:!0,case:!0}};describe("#transform()",(function(){[["`#case/type/prop`","#case/type/prop","prop"],["`#case/type/prop`- 1","#case/type/prop - 1","prop - 1"],["(`#case/type/prop`)","(#case/type/prop)","(prop)"],["(`#case/type/prop`","(#case/type/prop","(prop"],["`#case/type/prop` = `#case/type/prop2`","#case/type/prop = #case/type/prop2","prop = prop2"],["``","`","`"],["🍊you glad I didn't use 🍌`","🍊you glad I didn't use 🍌`","🍊you glad I didn't use 🍌`"],["`🍠","`🍠","`🍠"],["`#case/type/prop` = `","#case/type/prop = `","prop = `"],["`#case/type/prop` = ``","#case/type/prop = `","prop = `"],["`#case/prop1``#case/prop2` = ``","#case/prop1#case/prop2 = `","prop1prop2 = `"],["``#case/type/``prop` = ``","`#case/type/`prop = `","`#case/type/`prop = `"]].forEach((function(t){var a=t[0],o=t[1],r=t[2];it("default transform should parse "+a+" into "+o,(function(){i.strictEqual(n.transform(a),o)})),it("custom transform should parse "+a+" into "+r,(function(){i.strictEqual(n.transform(a,e),r)}))}))})),describe("#makeHashtagTransform() with #delimit()",(function(){var t=n.makeHashtagTransform(o),e=n.delimit;[["#form/text1","`#form/text1`"],["/data/text1","`#form/text1`"],["`#form/text1`","`#form/text1`"],["#form/text1 -1","`#form/text1` - 1"],["/data/text1 -1","`#form/text1` - 1"],["`#form/text1`-1","`#form/text1`-1"]].forEach((function(n){it("should parse "+n[0]+" into "+n[1],(function(){i.strictEqual(t(n[0],e),n[1])}))}))}))})),describe("The form's escaped hashtag parser with rich_text disabled",(function(){before((function(t){a.init({javaRosa:{langs:["en"]},core:{onReady:function(){t()}},features:{rich_text:!1}})})),it("reads invalid xpath with #invalid",(function(){a.loadXML(o);var t=a.getMug("text"),e=a.getMug("hidden");i.strictEqual(t.p.relevantAttr,"(/data/hidden"),i.strictEqual(e.p.calculateAttr,"#form/text")}))})),describe("The escaped hashtag",(function(){before((function(t){a.init({javaRosa:{langs:["en"]},core:{onReady:function(){t()}}})})),it("writes invalid xpath with #invalid",(function(){a.loadXML("");var t=a.addQuestion("Text","text"),e=a.addQuestion("DataBindOnly","hidden");t.p.relevantAttr="#invalid/xpath (`#form/hidden`",e.p.calculateAttr="#form/text",a.assertXmlEqual(a.call("createXML"),o,{normalize_xmlns:!0})}))}))}.apply(e,a))||(t.exports=o)},6186:(t,e,n)=>{var a,o;a=[n(8324),n(561),n(3946),n(1134),n(2660),n(2880),n(9593),n(4345),n(8077),n(9489),n(7217)],void 0===(o=function(t,e,n,a,o,i,r,s,l,d,u){var c=t.assert,m=a.call;describe("The exporter",(function(){beforeEach((function(t){a.init({core:{onReady:function(){t()}},features:{rich_text:!1,case_micro_image:!0,use_custom_repeat_button_text:!0}})})),it("should include question type in TSV",(function(){a.loadXML(o),c.equal(m("getData").core.form.getExportTSV(),i)})),it("should include item values in TSV",(function(){a.loadXML(r),c.equal(m("getData").core.form.getExportTSV(),s)})),it("should include video references in TSV",(function(){a.loadXML(d),c.equal(m("getData").core.form.getExportTSV(),u)})),it("should properly escape special characters",(function(){a.loadXML(l),c.equal(m("getData").core.form.getExportTSV(),'Question\tType\tText (en)\tText (hin)\tAudio (en)\tAudio (hin)\tImage (en)\tImage (hin)\tVideo (en)\tVideo (hin)\tVideo Inline (en)\tVideo Inline (hin)\tDisplay Condition\tValidation Condition\tValidation Message\tCalculate Condition\tRequired\tHint Text\tHelp Text\tComment\n/text\tText\t"""Text"\t"""Text"\t\t\t\t\t\t\t\t\t\t\t\t\tno\t\t\t')}))}))}.apply(e,a))||(t.exports=o)},3576:(t,e,n)=>{var a,o;a=[n(8324),n(561),n(3946),n(1134),n(4485)],void 0===(o=function(t,e,n,a,o){var i=t.assert;describe("The expression editor",(function(){var t;before((function(e){a.init({javaRosa:{langs:["en"]},core:{onReady:function(){t=this.data.core.form,e()}}})})),it("should trigger change event on join type changed",(function(){a.loadXML("");var t=e("<div>"),n=function(t){var e={mug:t,xpathType:"bool",value:'#form/text = "1" and #form/text = "yes"',changed:!1,change:function(){e.changed=!0}};return e}(a.addQuestion("Text","text"));o.showXPathEditor(t,n),t.find(".top-level-join-select").val("or").change(),i.equal(n.changed,!0,"expected changed flag to be set")})),describe("xpath validator",(function(){it("should not validate '#invalid/xpath ' prefix",(function(){var e=o.validateXPath(t,"#invalid/xpath if(`#form/text`");i.isNotOk(e[0],JSON.stringify(e)),i.include(e[1].message,"if(#form/text"),i.notInclude(e[1].message,"#invalid/xpath")}))}))}))}.apply(e,a))||(t.exports=o)},5993:(t,e,n)=>{var a,o;a=[n(1134),n(8324),n(561),n(3946),n(5392),n(7026),n(206),n(4526),n(1055),n(3295),n(688),n(9675),n(9755),n(7025),n(9521),n(3951),n(6973),n(3261)],void 0===(o=function(t,e,n,a,o,i,r,s,l,d,u,c,m,h,f,p,g,v){var x=e.assert,b=t.call;describe("The form component",(function(){function o(e,n,o,i){var r=a.isString(n)?n:n.createXML(),s=t.parseXML(r).find("model > instance[id='"+e+"']").attr("src");x.equal(s,o,i?i+"\n"+r:"")}before((function(e){t.init({javaRosa:{langs:["en"]},core:{onReady:function(){e()}}})})),it("should get and fix serialization errors for mugs with matching paths",(function(){var e=t.loadXML(""),n=t.addQuestion("Text","question"),a=t.addQuestion("Text","question");x.notEqual(n.absolutePath,a.absolutePath);var o=e.getSerializationWarnings();x.equal(o.length,1,"missing serialization error message"),x.equal(o[0].mug.ufid,a.ufid),e.fixSerializationWarnings(o),x.equal(n.p.nodeID,"question"),x.notEqual(n.absolutePath,a.absolutePath),o=e.getSerializationWarnings(),x.deepEqual(o,[],JSON.stringify(o))})),it("should retain expression meaning on rename matching path",(function(){var e=t.addQuestion("Text","blue"),n=t.addQuestion("Text","green"),a=t.addQuestion("DataBindOnly","black");a.p.calculateAttr="#form/blue + #form/green",n.p.nodeID="blue",x.notEqual(n.p.nodeID,"blue"),x(!t.isTreeNodeValid(n),"expected validation error"),e.p.nodeID="orange",x.equal(n.p.nodeID,"blue"),x.equal(a.p.calculateAttr,"#form/orange + #form/blue"),x(t.isTreeNodeValid(e),e.getErrors().join("\n")),x(t.isTreeNodeValid(n),n.getErrors().join("\n")),x(t.isTreeNodeValid(a),a.getErrors().join("\n"))})),it("should retain conflicted mug ID on move",(function(){var e=t.loadXML(""),n=t.addQuestion("DataBindOnly","hid"),a=t.addQuestion("Text","text"),o=t.addQuestion("Group","group");t.addQuestion("Text","text"),n.p.calculateAttr="#form/text + #form/group/text",e.moveMug(a,"into",o),x.notEqual(n.p.calculateAttr,"#form/text + #form/group/text"),x.notEqual(a.p.nodeID,"text"),x(!t.isTreeNodeValid(a),"expected #form/text error"),e.moveMug(a,"into",null),x.equal(a.p.nodeID,"text"),x.equal(n.p.calculateAttr,"#form/text + #form/group/text"),x(t.isTreeNodeValid(a),a.getErrors().join("\n"))})),describe("The form's ID generation",(function(){before((function(e){t.init({javaRosa:{langs:["en"]},core:{onReady:function(){e()}},features:{rich_text:!1}})})),it("should generate ID based on label",(function(){t.loadXML("");var e=b("addQuestion","Text");n("[name='itext-en-label']").val("What is your name?").change();var a=b("addQuestion","Text"),o=b("addQuestion","Text");n("[name='itext-en-label']").val("What is your name?").change();var i=b("addQuestion","Text");x.equal(e.p.nodeID,"what_is_your_name"),x.equal(a.p.nodeID,"question1"),x.equal(o.p.nodeID,"copy-1-of-what_is_your_name"),x.equal(i.p.nodeID,void 0)}))})),it("should show warnings for broken references on delete mug",(function(){t.loadXML(g);var e=b("getMugByPath","/data/blue"),n=b("getMugByPath","/data/green"),a=b("getMugByPath","/data/black");x(t.isTreeNodeValid(n),"sanity check failed: green is invalid"),x(t.isTreeNodeValid(a),"sanity check failed: black is invalid"),t.clickQuestion("blue"),e.form.removeMugsFromForm([e]),x(t.isTreeNodeValid(n),"green should be valid"),x(!t.isTreeNodeValid(a),"black should not be valid")})),it("should remove warnings when broken reference is fixed",(function(){t.loadXML(g);var e=b("getMugByPath","/data/blue"),n=b("getMugByPath","/data/black");e.form.removeMugsFromForm([e]),x(!t.isTreeNodeValid(n),"black should not be valid"),e=t.addQuestion("Text","blue"),x(t.isTreeNodeValid(n),t.getMessages(n))})),it("should remove warnings when broken mug is deleted",(function(){var e=t.loadXML(g),n=b("getMugByPath","/data/blue"),a=b("getMugByPath","/data/black");e.removeMugsFromForm([n]),x(e.hasBrokenReferences(),"form should have broken reference"),e.removeMugsFromForm([a]),x(!e.hasBrokenReferences(),"form should not have broken references")})),it("should show duplicate question ID warning inline",(function(){t.loadXML(""),t.addQuestion("Text","text");var e=t.addQuestion("Text","text").messages.get("nodeID");x.equal(e.length,1,e.join("\n"));var a=n("[name=property-nodeID]").closest(".widget").find(".messages").children();x.equal(a.length,e.length,a.text()),x.equal(a[0].text,e[0].message)})),it("should warn about top-level question named 'case'",(function(){t.loadXML("");var e=t.addQuestion("Text","case");x(e.messages.get("nodeID","mug-nodeID-reserved-name-warning"),"mug-nodeID-reserved-name-warning was expected but not present"),e.p.nodeID="the-case",x.equal(t.getMessages(e),"")})),it("should warn about question named 'Case' in group",(function(){t.loadXML(""),t.addQuestion("Group","group");var e=t.addQuestion("Text","Case");x(e.messages.get("nodeID","mug-nodeID-reserved-name-warning"),"mug-nodeID-reserved-name-warning was expected but not present"),e.p.nodeID="the-case",x.equal(t.getMessages(e),"")})),it("should warn about question named 'registration'",(function(){t.loadXML(""),t.addQuestion("Group","group");var e=t.addQuestion("Text","registration");x(e.messages.get("nodeID","mug-nodeID-reserved-name-warning"),"mug-nodeID-reserved-name-warning was expected but not present"),e.p.nodeID="the-case",x.equal(t.getMessages(e),"")})),it("should preserve internal references in copied group",(function(){t.loadXML(s);var e=b("getData").core.form,n=t.getMug("group");e.duplicateMug(n);var a=t.getMug("copy-1-of-group/green");x.equal(a.p.relevantAttr,"#form/copy-1-of-group/blue = 'red' and #form/red = 'blue'")})),it("should set non-standard form root node",(function(){t.loadXML(r);var e=b("getData").core.form,n=b("getMugByPath","/other/blue");x.equal(e.getBasePath(),"/other/"),x(null!==n,"mug not found: /other/blue"),x.equal(e.hashtagMap["#form"],"/other")})),it("should be able to move item from Select to MSelect",(function(){t.loadXML(v);var e=b("getData").core.form,n=t.addQuestion("Choice","choice1"),a=t.addQuestion("Choice","choice2");e.moveMug(n,"before",a)})),it("should update reference to hidden value in group",(function(){t.loadXML(l);var n=b("getMugByPath","/data/group"),a=b("getMugByPath","/data/group/label"),o=b("getMugByPath","/data/group/hidden");e.expect(a.p.relevantAttr).to.include("#form/group/hidden"),n.p.nodeID="x",x.equal(n.absolutePath,"/data/x"),x.equal(a.absolutePath,"/data/x/label"),x.equal(o.absolutePath,"/data/x/hidden"),e.expect(a.p.relevantAttr).to.include("#form/x/hidden")})),it("should update reference to moved hidden value in output tag",(function(){t.loadXML(l);var n=b("getData").core.form,a=b("getMugByPath","/data/group/label"),o=b("getMugByPath","/data/group/hidden");e.expect(a.p.relevantAttr).to.include("#form/group/hidden"),e.expect(a.p.labelItext.defaultValue()).to.include("#form/group/hidden"),n.moveMug(o,"first",null),x.equal(o.absolutePath,"/data/hidden"),e.expect(a.p.relevantAttr).to.include("#form/hidden"),e.expect(a.p.labelItext.defaultValue()).to.include("#form/hidden")})),it("should update repeat group reference",(function(){t.loadXML("");var e=t.addQuestion("Text","text"),n=t.addQuestion("Repeat","repeat");n.p.repeat_count="#form/text",x.equal(n.p.repeat_count,"#form/text"),e.p.nodeID="text2",x.equal(n.p.repeat_count,"#form/text2")})),it("should show warnings for duplicate choice value",(function(){t.loadXML(""),t.addQuestion("Select","select");var e=t.addQuestion("Choice","choice1"),n=t.addQuestion("Choice","choice2");x(t.isTreeNodeValid(e),e.getErrors().join("\n")),x(t.isTreeNodeValid(n),n.getErrors().join("\n")),n.p.nodeID="choice1",x(t.isTreeNodeValid(e),"choice1 should be valid"),x(!t.isTreeNodeValid(n),"choice2 should be invalid")})),it("should preserve order of the control tree",(function(){t.loadXML(m),t.assertJSTreeState("question1","question4","question2","  question3","question5","question6")})),it("should merge data-only-nodes with control nodes",(function(){t.loadXML(d),t.assertJSTreeState("question1","question5","question2","  question3","question6","question4")})),it("should delete nested groups",(function(){var e=t.loadXML(p),n=t.clickQuestion("group1","group1/group2");e.removeMugsFromForm(n),t.assertJSTreeState("")})),it("should delete nested groups v2",(function(){var e=t.loadXML(p),n=t.clickQuestion("group1","group1/group2/group3");e.removeMugsFromForm(n),t.assertJSTreeState("")})),it("should not drop referenced instance on delete dynamic select",(function(){var e=t.loadXML("");t.paste([["id","type","labelItext:en-default","calculateAttr","itemsetData"],["/hidden","DataBindOnly","null","instance('some-fixture')/some-fixture_list/some-fixture/@id","null"],["/select","SelectDynamic","select","null",'[{"instance":{"id":"some-fixture","src":"jr://fixture/item-list:some-fixture"},"nodeset":"instance(\'some-fixture\')/some-fixture_list/some-fixture","labelRef":"name","valueRef":"@id"}]']]),t.deleteQuestion("select"),o("some-fixture",e,"jr://fixture/item-list:some-fixture","some-fixture instance not found")})),it("should drop instance on delete last reference",(function(){var e=t.loadXML("");t.paste([["id","type","calculateAttr","instances"],["/hidden","DataBindOnly","instance('some-fixture')/some-fixture_list/some-fixture/@id",'{"some-fixture":"jr://fixture/item-list:some-fixture"}']]),o("some-fixture",e,"jr://fixture/item-list:some-fixture"),t.deleteQuestion("hidden"),o("some-fixture",e,void 0,"some-fixture instance not found")})),it("should maintain instance on delete and re-add last reference",(function(){var e=t.loadXML("");t.paste([["id","type","calculateAttr","instances"],["/hidden","DataBindOnly","instance('some-fixture')/some-fixture_list/some-fixture/@id",'{"some-fixture":"jr://fixture/item-list:some-fixture"}']]),t.deleteQuestion("hidden"),o("some-fixture",e,void 0),t.addQuestion("DataBindOnly","hid").p.calculateAttr="instance('some-fixture')/some-fixture_list/some-fixture/@id",o("some-fixture",e,"jr://fixture/item-list:some-fixture","some-fixture instance not found")})),it("should not delete instance from itemsets with nested filters",(function(){o("groups",t.loadXML(u),"jr://fixture/user-groups","groups instance not found")})),it("should not delete manual instances when it's reference is updated",(function(){t.loadXML(c),t.clickQuestion("output"),n("[name=property-calculateAttr]").change(),t.assertXmlEqual(b("createXML"),c)})),it("should warn on delete question",(function(){t.loadXML(""),t.paste([["id","type","labelItext:en-default"],["/q1","Text",'<output value="#form/q2" /> <output value="#form/q3" />'],["/q2","DataBindOnly","null"],["/q3","DataBindOnly","null"]]);var e=t.getMug("q1");x(t.isTreeNodeValid(e),e.getErrors().join("\n")),t.deleteQuestion("q2"),x(!t.isTreeNodeValid(e),"q1 should not be valid")})),it("should warn about changing question ID",(function(){t.loadXML(v).warnWhenChanged=!0;var e=t.getMug("question1");x.equal(t.getMessages(e),""),e.p.nodeID="new-question-id",x(e.messages.get("nodeID","mug-nodeID-changed-warning"),"mug-nodeID-changed-warning was expected"),e.p.nodeID="question1",x.equal(t.getMessages(e),"")})),it("should not warn about changing question ID",(function(){t.loadXML(v).warnWhenChanged=!1;var e=t.getMug("question1");x.equal(t.getMessages(e),""),e.p.nodeID="new-question-id",x(e.messages.get("nodeID",""),"mug-nodeID-changed-warning was not expected")})),it("should skip warning about changing question ID",(function(){t.loadXML(v).warnWhenChanged=!0;var e=t.getMug("question1");x.equal(t.getMessages(e),""),e.p.nodeID="new-question-id",x(e.messages.get("nodeID","mug-nodeID-changed-warning"),"mug-nodeID-changed-warning was expected"),e.showChangedMsg=!1,x(e.messages.get("nodeID",""),"mug-nodeID-changed-warning was not expected")})),it("should load choice with missing value",(function(){t.loadXML(h);var e=t.getMug("choice/");x.equal(e.p.nodeID,""),x(e.messages.get("nodeID","mug-nodeID-error"),"mug-nodeID-error was expected")})),describe("with async data sources",(function(){var e,n;before((function(a){t.init({javaRosa:{langs:["en"]},core:{dataSourcesEndpoint:function(t){n=t},onReady:function(){e=this,a()}}})})),beforeEach((function(){e.datasources.reset(),n=null})),it("should not set case hashtags flag before data sources are loaded",(function(){var e=t.loadXML("");x.isNotOk(e.hasCaseHashtags),n(t.options.dataSources),x.isOk(e.hasCaseHashtags)})),it("should update fuse when data sources are loaded",(function(){var e=t.loadXML("");e.fire("form-load-finished"),x.deepEqual(e.fuse.list(),[]),n(t.options.dataSources),x.notDeepEqual(e.fuse.list(),[])}))})),describe("with rich text disabled",(function(){before((function(e){t.init({javaRosa:{langs:["en"]},core:{onReady:function(){e()}},features:{rich_text:!1}})})),it("should update case hashtags on enabling rich text",(function(){var e=t.loadXML("");t.addQuestion("Text","text"),x(e.isValidHashtag("#form/text"),"not valid: #form/text"),e.setAttr("richText",!0),x(e.isValidHashtag("#case/dob"),"not valid: #case/dob"),x(e.isValidHashtag("#form/text"),"not valid: #form/text")})),it("should update fuse on enabling rich text",(function(){var e=t.loadXML("");e.fire("form-load-finished"),x.deepEqual(e.fuse.list(),[]),e.setAttr("richText",!0),x.notDeepEqual(e.fuse.list(),[])}))})),describe("naming logic",(function(){before((function(e){t.init({javaRosa:{langs:["en"]},core:{formName:null,onReady:function(){e()}}})})),it("should use default name for empty form",(function(){var e=t.loadXML(""),a=t.parseXML(b("createXML"));x.equal(e.formName,"New Form"),x.equal(n(a[0].getElementsByTagName("h:title")).text(),"New Form","title"),x.equal(a.find("data").attr("name"),"New Form","data")})),it("should use default name when no other name is specified",(function(){var e=t.loadXML(a.template(f)({title:"",dataName:""}),null,/^Form does not have a Name!/),o=t.parseXML(b("createXML"));x.equal(e.formName,"New Form"),x.equal(n(o[0].getElementsByTagName("h:title")).text(),"New Form","title"),x.equal(o.find("data").attr("name"),"New Form","data")})),it('should prefer <data name="..."> over <title>',(function(){var e=t.loadXML(a.template(f)({title:"<h:title>Title</h:title>",dataName:'name="Data Name"'})),o=t.parseXML(b("createXML"));x.equal(e.formName,"Data Name"),x.equal(n(o[0].getElementsByTagName("h:title")).text(),"Data Name","title"),x.equal(o.find("data").attr("name"),"Data Name","data")})),it('should use <title> if <data name="..."> is absent',(function(){var e=t.loadXML(a.template(f)({title:"<h:title>Title</h:title>",dataName:""})),o=t.parseXML(b("createXML"));x.equal(e.formName,"Title"),x.equal(n(o[0].getElementsByTagName("h:title")).text(),"Title","title"),x.equal(o.find("data").attr("name"),"Title","data")})),describe("with core.formName option",(function(){before((function(e){t.init({javaRosa:{langs:["en"]},core:{formName:"Optional Name",onReady:function(){e()}}})})),it("should override all other names",(function(){var e=t.loadXML(a.template(f)({title:"<h:title>Title</h:title>",dataName:'name="Data Name"'})),o=t.parseXML(b("createXML"));x.equal(e.formName,"Optional Name"),x.equal(n(o[0].getElementsByTagName("h:title")).text(),"Optional Name","title"),x.equal(o.find("data").attr("name"),"Optional Name","data")}))}))})),describe("instance tracker",(function(){var n,i,r="calculateAttr";before((function(){n=t.loadXML(""),i=t.addQuestion("DataBindOnly","hid"),r="calculateAttr",n.addInstanceIfNotExists({id:"old",src:"old://"},i,"relevantAttr"),n.addInstanceIfNotExists({id:"blank"},i,"relevantAttr"),n.updateKnownInstances({known:"known://"})})),a.each([[{id:"new0",src:null},"new0",void 0],[{id:"new1",src:"new://1"},"new1","src"],[{id:"new2",src:"old://"},"old","src"],[{id:"old",src:null},"old","old://"],[{id:"old",src:"new://3"},"old-1","src"],[{id:"old",src:"old://"},"old","src"],[{id:"any",src:"old://"},"old","src"],[{id:"known",src:void 0},"known","known://"],[{id:"blank",src:"blank://"},"blank","src"],[{id:null,src:"new://5"},"data-1","src"]],(function(t){var s=t[0],l=t[1],d="src"===t[2]?s.src:t[2];it("should add instance "+JSON.stringify(s)+" -> "+l+": "+d,(function(){o(l,n,"old"===l?d:void 0);var t=n.addInstanceIfNotExists(s,i,r);a.isRegExp(l)?e.expect(t).to.match(l):x.equal(t,l),o(l,n,d,l+" instance not found"),n.dropAllInstanceReferences(i,r),o(l,n,"old"===l||"blank"===l?d:void 0,l+" instance should be removed")}))}))})),describe("hashtag logic",(function(){var e,n={};before((function(){e=t.loadXML("")})),n["instance('casedb')/cases/case[@case_id = instance('commcaresession')/session/data/case_id]/dob"]="xpath",a.each(a.extend({"":null,"#":null,"#form":null,"/data":null,"/data/":null,"/data/prop":"xpath","#case":null,"#case/prop":"has xpath","#case/parent":"has xpath","#case/parent/prop":"has xpath","#case/grandparent":"has xpath","#case/grandparent/prop":"has xpath","#case/nope/not":null,"#user":null,"#user/prop":"has xpath"},n),(function(t,n){function o(e){return t[e]?"":"not "}t=a.object(a.map((t||"").split(" "),(function(t){return[t,!0]}))),it("should "+o("has")+"recognize "+n+" as having hashtag prefix",(function(){x.equal(e.hasValidHashtagPrefix(n),!!t.has)})),it("should "+o("xpath")+"parse "+n+" to valid xpath",(function(){try{e.xpath.parse(n).toXPath(),x(t.xpath,"valid?! "+n)}catch(e){x(!t.xpath,"not valid: "+n+"\nerror: "+e)}}))}))})),describe("updateInstanceQuery",(function(){it("should not replace ids if name closes with a 2",(function(){const e="instance('oldId)/session/data/case_id",n=t.loadXML("").updateInstanceQuery(e,"newId","oldId");x.equal(n,e)})),it("should replace ids if old instance Id is provided",(function(){const e=t.loadXML("").updateInstanceQuery("instance('oldId')/session/data/case_id","newId","oldId");x.equal(e,"instance('newId')/session/data/case_id")})),it("should replace ids if there is leading white space",(function(){const e=t.loadXML("").updateInstanceQuery("word instance('oldId')/session/data/case_id","newId","oldId");x.equal(e,"word instance('newId')/session/data/case_id")})),it("should replace ids if there is no old",(function(){const e=t.loadXML("").updateInstanceQuery("instance('oldId')/session/data/case_id","newId");x.equal(e,"instance('newId')/session/data/case_id")}))}))}))}.apply(e,a))||(t.exports=o)},5606:(t,e,n)=>{var a,o;a=[n(1134),n(8324),n(561),n(1148),n(7370),n(6099),n(2104),n(6213),n(6777),n(7520),n(9700),n(378),n(4505),n(6885),n(3320),n(6458),n(5721),n(2533),n(4082),n(3879),n(9896),n(8408)],void 0===(o=function(t,e,n,a,o,i,r,s,l,d,u,c,m,h,f,p,g,v,x,b,E,T){var C=t.assertXmlEqual,y=t.call;describe("The Ignore-But-Retain plugin",(function(){before((function(e){t.init({javaRosa:{langs:["en"]},core:{onReady:function(){e()}}})}));var e=function(e,n){t.loadXML(e),C(y("createXML"),e),y("getData").ignore.ignoredNodes=[],C(y("createXML"),n)};it("ignores data, bind, body, and setvalue nodes with various edge cases (see XML)",(function(){e(o,i)})),it("can insert ignored element into empty parent",(function(){t.loadXML(l),C(y("createXML"),l)})),it("does not insert multiple copies of ignored nodes",(function(){t.loadXML(p),C(y("createXML"),p)})),it("can ignore elements in <head>",(function(){t.loadXML(d),C(y("createXML"),d)})),it("preserves position when first tag in <HEAD> is ignored",(function(){t.loadXML(h),C(y("createXML"),h)})),it("handles multiple ignore nodes in a row",(function(){e(f,f)})),it("handles an ignore node's reference node being renamed",(function(){t.loadXML(T),y("getMugByPath","/data/question9").p.nodeID="question9a",C(y("createXML"),b)})),it("handles a node being renamed that's referenced in an ignore node's XML",(function(){t.loadXML(x),y("getMugByPath","/data/question1").p.nodeID="foobar",C(y("createXML"),v)})),it("keeps relative position on delete sibling of ignored element",(function(){t.loadXML(s),t.deleteQuestion("delete-me"),C(y("createXML"),r)})),it("should not duplicate nested ignored nodes",(function(){t.loadXML(g),C(y("createXML"),g)})),it("should preserve data node children",(function(){t.loadXML(a),C(y("createXML"),a)})),it("should ignore binds and controls associated with ignored data node",(function(){t.loadXML(m),t.assertJSTreeState("question"),C(y("createXML"),m)})),it("should ignore bind nodes with extra path elements",(function(){t.loadXML(u),t.assertJSTreeState("question","question2"),C(y("createXML"),u)})),it("should ignore control node",(function(){t.loadXML(c),t.assertJSTreeState("question","ignored--1"),C(y("createXML"),c)})),it("should load form with unknown/un-ignored element",(function(){t.loadXML(E),C(y("createXML"),E)}))}))}.apply(e,a))||(t.exports=o)},3251:(t,e,n)=>{var a,o;a=[n(8324),n(1134),n(561),n(3012)],void 0===(o=function(t,e,n,a){var o=t.assert,i=e.clickQuestion,r=e.call,s=e.getInput;function l(t){e.init({javaRosa:{langs:["en"]},core:{onReady:function(){r("loadXFormOrError",a,t)}}})}describe("The Lock plugin",(function(){function t(t,e){return r("isPropertyLocked",t,e)}function n(t){return r("isMugPathMoveable",t)}function i(t){return r("isMugRemoveable",r("getMugByPath",t),t)}function s(t){return r("isMugTypeChangeable",r("getMugByPath",t),t)}before(l),it("preserves XML with vellum:lock attributes",(function(){e.assertXmlEqual(a,r("createXML"))})),it("disallows renaming a locked node",(function(){o(t("#form/node_locked","nodeID")),o(t("#form/value_locked","nodeID")),o.isFalse(t("#form/none_locked","nodeID")),o.isFalse(t("#form/normal","nodeID"))})),it("disallows moving a locked node to a different parent",(function(){o.isFalse(n("#form/node_locked")),o.isFalse(n("#form/value_locked")),o(n("#form/none_locked")),o(n("#form/normal"))})),it("disallows deleting a locked node",(function(){o.isFalse(i("#form/node_locked")),o.isFalse(i("#form/value_locked")),o(i("#form/none_locked")),o(i("#form/normal"))})),it("disallows changing the type only of a 'value' locked node",(function(){o.isFalse(s("#form/value_locked")),o(s("#form/node_locked")),o(s("#form/none_locked")),o(s("#form/normal"))})),it("allows changing only the Itext IDs of a 'value' locked node",(function(){o.isFalse(t("#form/value_locked","constraintMsgItext")),o(t("#form/value_locked","constraintAttr"))})),it("allows changing any property of a non-locked node",(function(){o.isFalse(t("#form/node_locked")),o.isFalse(t("#form/none_locked")),o.isFalse(t("#form/normal"))}))})),describe("The question locking functionality in the core and UI",(function(){before(l),describe("The edit locking",(function(){function t(t){i(t?"normal":"value_locked");var e=n(".btn.current-question");o(1===e.length),e.click();var a=e.closest(".question-type-changer");o.equal(!!a.find("li:not(.dropdown-header)").length,t)}function e(t){i(t?"value_locked":"normal");var e=s("relevantAttr").parents(".form-group").find("button.fd-edit-button");o.equal(1,e.length),o.equal(t,e.prop("disabled"))}it("shows the delete button for deleteable questions",(function(){i("normal"),o(1===n("button:contains(Delete)").length)})),it("hides the delete button for non-deletable questions",(function(){i("node_locked"),o(0===n("button:contains(Delete)").length)})),it("shows the type changer for type-changeable questions",(function(){t(!0)})),it("hides the type changer for non-type-changeable questions",(function(){t(!1)})),it("disables the checkbox (only) for a locked boolean property",(function(){i("value_locked"),o(s("requiredAttr").prop("disabled")),i("normal");var t=s("requiredAttr");o.isFalse(t.prop("disabled"))})),it("disables the text input (only) for a locked text property",(function(){i("normal"),o.isFalse(s("nodeID").prop("disabled")),i("value_locked"),o(s("nodeID").prop("disabled"))})),it("enables the edit button for non-locked logic properties",(function(){e(!1)})),it("disables the edit button for locked logic properties",(function(){e(!0)}))}))}))}.apply(e,a))||(t.exports=o)},3606:(t,e,n)=>{var a,o;a=[n(1134),n(8324),n(3946),n(561),n(5465),n(705),n(6487),n(1891),n(9948),n(562)],void 0===(o=function(t,e,n,a,o,i,r,s,l,d){var u=e.assert,c=t.call,m=[{icon:"fa-solid fa-location-dot",name:"Area Mapper",id:"com.richard.lu.areamapper",extra:{ext:"value"},response:{r1:"x",r2:"y",r3:"z",r4:""}},{icon:"fa fa-barcode",name:"Barcode Scanner",id:"com.google.zxing.client.android.SCAN",extra:{},response:{}},{icon:"icon-vellum-android-intent",name:"Breath Counter",id:"org.commcare.respiratory.BREATHCOUNT"},{icon:"icon-vellum-android-intent",name:"Fingerprint Scanner",id:"com.simprints.id.REGISTER",mime:"text/plain"}];describe("The intent manager plugin",(function(){before((function(e){t.init({javaRosa:{langs:["en"]},core:{onReady:function(){e()}},features:{custom_intents:!0,templated_intents:!0}})})),it("should preserve unknown attributes of intent tag",(function(){t.loadXML(r),t.assertXmlEqual(t.call("createXML"),r)})),it("should preserve intent tags with no mug",(function(){t.loadXML(s),t.assertXmlEqual(t.call("createXML"),s)})),it("should assign new document template path on upload",(function(){t.loadXML("");var e=t.addQuestion("PrintIntent","print"),n=t.getMediaUploader(a(".fd-mm-upload-trigger")),o=/jr:\/\/file\/commcare\/text\/print-\w+\.html/;n.upload("temp.html");var i=e.p.docTemplate;u.match(i,o),n.upload("file.html"),u.match(e.p.docTemplate,o),u.notEqual(e.p.docTemplate,i,"new upload should create a new path")})),it("should error when question ids are not unique across intents that share a template",(function(){t.loadXML("");var e=t.addQuestion("AndroidIntent","intent");t.addQuestion("Group","group");var n=t.addQuestion("AndroidIntent","intent");t.addQuestion("Group","group");var a=t.addQuestion("AndroidIntent","otherIntent");u.equal(e.messages.get("nodeID").length,1,"Original intent should error"),u.equal(n.messages.get("nodeID").length,1,"Same template, same ID should error"),u.equal(a.messages.get("nodeID").length,0,"Different ID should be fine")})),describe("with multiple response pairs with matching keys",(function(){var e,n;before((function(){t.loadXML(""),t.addQuestion("AndroidIntent","intent").p.androidIntentResponse={name:["/data/node1","/data/node2"]},e=t.call("createXML"),n=t.parseXML(e)})),it("should show all pairs in UI",(function(){t.clickQuestion("intent"),u.equal(a(".fd-kv-key[value=name]").length,2),u.deepEqual(a(".fd-kv-key[value=name]").map((function(t,e){return a(e).parent().parent().find(".fd-kv-val").val()})).toArray(),["/data/node1","/data/node2"])})),it("should write multiple response nodes in XML",(function(){var t=n.find("response[key=name]");u.equal(t.length,2,e),u.deepEqual(t.map((function(t,e){return a(e).attr("ref")})).toArray(),["/data/node1","/data/node2"],e)})),it("should load generated XML",(function(){t.loadXML(e),u.deepEqual(t.getMug("intent").p.androidIntentResponse,{name:["/data/node1","/data/node2"]})}))})),describe("printing mug",(function(){before((function(){t.loadXML(l)})),it("should parse as a printing question",(function(){u.strictEqual(t.getMug("/data/print_data").__className,"PrintIntent")})),it("should write the same as parse",(function(){t.assertXmlEqual(c("createXML"),l)})),it("should correctly parse filename",(function(){u.strictEqual(t.getMug("/data/print_data").p.docTemplate,"jr://file/commcare/doc/data/print_data.doc")}))})),describe("template selector",(function(){var e;before((function(n){t.init({intents:{templates:m},features:{custom_intents:!1},core:{onReady:function(){e=t.addQuestion("AndroidIntent","intent"),t.clickQuestion("intent"),n()}}})})),it("should select the first template by default",(function(){u.equal(a("[name=property-androidIntentAppId]").val(),"com.richard.lu.areamapper")})),it("should not show validation error on question add",(function(){u.strictEqual(e.spec.androidIntentAppId.validationFunc(e),"pass")})),it("should write the mime/type if supplied",(function(){a("[name=property-androidIntentAppId]").val("com.simprints.id.REGISTER").change();var e=t.call("createXML"),n=t.parseXML(e).find("h\\:head, head").children("odkx\\:intent, intent").attr("type");u.strictEqual(n,"text/plain")})),n.each(m,(function(t){it("should have "+t.name+" template",(function(){a("[name=property-androidIntentAppId]").val(t.id).change(),u.strictEqual(e.p.androidIntentAppId,t.id)}))}))})),describe("custom intents",(function(){var e,o;before((function(n){t.init({intents:{templates:m},features:{templated_intents:!0,custom_intents:!0},core:{onReady:function(){e=t.addQuestion("AndroidIntent","intent"),t.clickQuestion("intent"),o=m.length,n()}}})})),it("should always have one custom option",(function(){var t=a('[name=property-androidIntentAppId] option:contains("Custom")');u.lengthOf(t,1,"incorrect number of custom options")})),it("should change text to not readonly when custom is selected",(function(){a("[name=property-androidIntentAppId]").prop("selectedIndex",0).change(),u(a("[name=property-androidIntentAppId-text]").attr("readonly")),a("[name=property-androidIntentAppId]").prop("selectedIndex",o).change(),u(!a("[name=property-androidIntentAppId-text]").attr("readonly"))})),it("should change text to readonly when custom is not selected",(function(){a("[name=property-androidIntentAppId]").prop("selectedIndex",o).change(),u(!a("[name=property-androidIntentAppId-text]").attr("readonly")),a("[name=property-androidIntentAppId]").prop("selectedIndex",0).change(),u(a("[name=property-androidIntentAppId-text]").attr("readonly"))})),it("should update the custom option when text is changed",(function(){a("[name=property-androidIntentAppId]").prop("selectedIndex",o).change(),a("[name=property-androidIntentAppId-text]").val("fake.intent").change();var t=a("[name=property-androidIntentAppId]").find("option").filter((function(){return"Custom"===a(this).text()})).val();u.strictEqual("fake.intent",t)})),n.each(m,(function(t){it("should change text box for "+t.name+" template",(function(){a("[name=property-androidIntentAppId]").val(t.id).change(),u.strictEqual(e.p.androidIntentAppId,t.id),u.strictEqual(a("[name=property-androidIntentAppId-text]").val(),t.id),u(a("[name=property-androidIntentAppId-text]").attr("readonly"))}))})),describe("on load",(function(){before((function(){t.loadXML(d)})),it("should display the correct intent",(function(){t.clickQuestion("not_breath_count"),u.strictEqual(a("[name=property-androidIntentAppId-text]").val(),"android.intent.action.VIEW")}))}))})),describe("no intents",(function(){before((function(e){t.init({intents:{templates:m},features:{custom_intents:!1,templated_intents:!1},core:{onReady:function(){e()}}})})),it("shows error on form load",(function(){t.loadXML(d);var e=t.getMug("not_breath_count");u.notStrictEqual(e.spec.androidIntentAppId.validationFunc(e),"pass")}))}))}))}.apply(e,a))||(t.exports=o)},1926:(t,e,n)=>{var a,o;a=[n(8449),n(1134),n(8324),n(561),n(3946),n(5382),n(9333),n(5392),n(2295),n(7508),n(3027),n(3220),n(2444),n(7999),n(8368),n(6272),n(8311)],void 0===(o=function(t,e,n,a,o,i,r,s,l,d,u,c,m,h,f,p,g){var v=n.assert,x=e.call,b=e.clickQuestion,E=o.union(e.options.options.plugins||[],["itemset"]);describe("The Dynamic Itemset plugin",(function(){function t(t){e.init({plugins:E,javaRosa:{langs:["en"]},core:{onReady:function(){n=this,t()}},features:{lookup_tables:!0,advanced_itemsets:!1}})}var n;before(t),beforeEach((function(){n.datasources.reset()})),it("adds a new instance to the form",(function(){e.loadXML(l),e.getMug("question1/itemset").p.itemsetData={instance:{id:"somefixture",src:"jr://somefixture"},nodeset:"instance('somefixture')/some/items",labelRef:"label",valueRef:"value"};var t=x("createXML"),n=e.parseXML(t);v(n.find("instance[id=somefixture]").length,"somefixture instance not found:\n"+t)})),it("changes instance when nodeset changes",(function(){var t=e.loadXML(l),n=e.getMug("question1/itemset");t.updateKnownInstances({foo:"jr://foo"}),n.p.itemsetData={nodeset:"instance('foo')/some/items",labelRef:"label",valueRef:"value"};var a=x("createXML"),o=e.parseXML(a);v(o.find("instance[id=foo]").length,"foo instance not found:\n"+a),v.equal(o.find("instance[id=casedb]").length,0,"somefixture instance not found:\n"+a)})),it("renames instance on add itemset with matching instance",(function(){e.loadXML(l),e.addQuestion("SelectDynamic","select2");var t=e.getMug("select2/itemset");t.p.itemsetData={instance:{id:"cases",src:"jr://instance/casedb"},nodeset:"instance('cases')/cases/case[@case_id > 2]",labelRef:"label",valueRef:"value"};var n=t.p.itemsetData;v.equal(n.instance.id,"casedb"),v.equal(n.instance.src,"jr://instance/casedb"),v.equal(n.nodeset,"instance('casedb')/cases/case[@case_id > 2]");var a=x("createXML"),o=e.parseXML(a);v(o.find("instance[id=casedb]").length,"casedb instance not found:\n"+a),v(0===o.find("instance[id=cases]").length,"cases instance should have been renamed/merged:\n"+a)})),it("should select first lookup table for new itemset",(function(){e.loadXML(""),e.addQuestion("SelectDynamic","select"),e.clickQuestion("select/itemset");var t=e.getMug("select/itemset");t.validate(),v.equal(e.getMessages(t),"")})),it("should populate itemset nodeset and refs on add single select",(function(){e.loadXML(""),e.addQuestion("SelectDynamic","select");var t=x("createXML"),n=e.parseXML(t).find("itemset");v.equal(n.attr("nodeset"),"instance('some-fixture')/some-fixture_list/some-fixture"),v(n.find("label").attr("ref"),"name"),v(n.find("value").attr("ref"),"@id")})),it("should add sort element when sort field has a value",(function(){e.loadXML(""),e.addQuestion("SelectDynamic","select"),b("select/itemset");var t=e.getMug("select/itemset");a("[name=property-sortRef]").val("@id").change(),v.equal(t.p.sortRef,"@id");var n=x("createXML"),o=e.parseXML(n).find("itemset");v.equal(o.find("sort").attr("ref"),"@id")})),it("should load dynamic select with sort element",(function(){e.loadXML(m);var t=e.getMug("select/itemset");v.equal(t.p.sortRef,"inner-attribute"),b("select/itemset"),v.equal(a("[name=property-sortRef]").val(),"inner-attribute"),e.assertXmlEqual(x("createXML"),m,{normalize_xmlns:!0})})),it("should load dynamic select without errors",(function(){e.loadXML(l);var t=e.getMug("question1/itemset");t.validate(),v.equal(e.getMessages(t),"")})),it("should not trigger change on click itemset",(function(){e.loadXML(l),e.saveButtonEnabled(!1),b("question1/itemset"),v(!e.saveButtonEnabled(),"save button should not be enabled")})),it("should save the hashtag format correctly",(function(){e.loadXML(""),e.addQuestion("Text","state"),e.addQuestion("SelectDynamic","district"),e.clickQuestion("district/itemset");var t=e.getMug("district/itemset");t.p.itemsetData={instance:t.p.itemsetData.instance,nodeset:t.p.itemsetData.nodeset+"[name = /data/state]",labelRef:"name",valueRef:"@id"},e.assertXmlEqual(x("createXML"),g,{normalize_xmlns:!0})})),it("should include filter usage in logic manager",(function(){var t=e.loadXML(g);v.deepEqual(t.findUsages(),{"#form/state":{"#form/district":"Filter"}})})),it("should update sortRef on paste dynamic select with sorted itemset",(function(){e.loadXML(""),e.paste([["id","type","labelItext:en-default","instances","itemsetData"],["/select","SelectDynamic","select",'{"foo":{"src":"jr://foo"}}','[{"instance":{"id":"foo","src":"jr://foo"},"nodeset":"instance(\'foo\')/foo/items","labelRef":"@name","valueRef":"@id","sortRef":"name"}]']]),v.equal(e.getMug("select/itemset").p.sortRef,"name")})),describe("without access to lookup tables",(function(){before((function(t){e.init({plugins:E,javaRosa:{langs:["en"]},core:{onReady:function(){t()}},features:{lookup_tables:!1,advanced_itemsets:!1,rich_text:!1}})})),it("should display an error on an itemset",(function(){e.loadXML(l);var t=e.getMug("question1/itemset");v.notStrictEqual(t.spec.itemsetData.validationFunc(t),"pass")}))})),describe("parsing and serializing",(function(){before(t),it("preserves XML with itemsets in <select>s",(function(){v(-1!==l.indexOf("select1")),e.loadXML(l),e.assertXmlEqual(x("createXML"),l)})),it("preserves XML with itemsets in <select1>s",(function(){var t=l.replace(/select1/g,"select");e.loadXML(t),e.assertXmlEqual(x("createXML"),t)})),it("preserves XML with a constraint",(function(){e.loadXML(d),e.assertXmlEqual(x("createXML"),d)})),it("preserves XML with an appearance",(function(){e.loadXML(u),e.assertXmlEqual(x("createXML"),u)}))})),describe("UI",(function(){it("preserves inner filters if you never change the data source",(function(){e.loadXML(c),b("question2/itemset"),a("[name=property-labelRef]").val("dummy").change(),e.assertXmlEqual(c.replace("case_name","dummy"),x("createXML"))})),it("correctly parses filter with reference to case property",(function(){e.loadXML(p);var t=e.getMug("lookup/itemset");v.equal(t.p.filter,"name = #case/dob")})),it("uses a dropdown when the nodeset is known",(function(){e.loadXML(h),b("question2/itemset"),v(a("[name=property-itemsetData]").is("select"))})),describe("with a /data/ fixture",(function(){it("doesn't warn on no src",(function(){e.loadXML(f);var t=e.getMug("/data/itemset/itemset");v.strictEqual(t.spec.itemsetData.validationFunc(t),"pass")}))})),describe("with a custom fixture",(function(){it("should not warn on unrecognized values and labels",(function(){e.loadXML(h);var t=e.getMug("/data/question2/itemset");v.strictEqual(t.spec.itemsetData.validationFunc(t),"pass"),t.p.itemsetData.instance.src="blah",v.strictEqual(t.spec.itemsetData.validationFunc(t),"pass")}))})),describe("with recognized fixture",(function(){it("should warn on unrecognized values and labels",(function(){e.loadXML(h);var t=e.getMug("/data/question2/itemset");v.strictEqual(t.spec.itemsetData.validationFunc(t),"pass"),b("question2/itemset"),a("[name=property-valueRef]").val("blah").change(),v.notStrictEqual(t.spec.valueRef.validationFunc(t),"pass")})),it("should not warn on values with a filter attached",(function(){e.loadXML(h);var t=e.getMug("/data/question2/itemset");v.strictEqual(t.spec.itemsetData.validationFunc(t),"pass"),b("question2/itemset");var n=a("[name=property-valueRef]");n.val(n.val()+"[filter]").change(),v.strictEqual(t.spec.valueRef.validationFunc(t),"pass")})),it("should not warn on labels with a filter attached",(function(){e.loadXML(h);var t=e.getMug("/data/question2/itemset");v.strictEqual(t.spec.itemsetData.validationFunc(t),"pass"),b("question2/itemset");var n=a("[name=property-labelRef]");n.val(n.val()+"[filter]").change(),v.strictEqual(t.spec.labelRef.validationFunc(t),"pass")})),it("should not warn on inner filters",(function(){e.loadXML(h);var t=e.getMug("/data/question2/itemset");v.strictEqual(t.spec.itemsetData.validationFunc(t),"pass"),b("question2/itemset"),a("[name=property-labelRef]").val("inner-attribute[filter1]/extra-inner-attribute[filter2]").change(),v.strictEqual(t.spec.labelRef.validationFunc(t),"pass")}))}))}))})),describe("The Dynamic Itemset plugin with no fixtures",(function(){var t,n=[{id:"ignored",uri:"jr://not-a-fixture"}];before((function(a){e.init({plugins:E,javaRosa:{langs:["en"]},core:{dataSourcesEndpoint:function(t){t(n)},onReady:function(){t=this,a()}},features:{lookup_tables:!0}})})),beforeEach((function(){t.datasources.reset()})),it("should be able to configure Lookup Table Data",(function(){e.addQuestion("SelectDynamic","select"),e.clickQuestion("select/itemset"),v.equal(a("[name=property-itemsetData]").length,1)}))}))}.apply(e,a))||(t.exports=o)},3760:(t,e,n)=>{var a,o;a=[n(8324),n(561),n(3946),n(1134),n(6294),n(3876),n(8094),n(6344),n(9271),n(292),n(8077),n(2756),n(1316),n(4523),n(5960),n(4494),n(6265),n(4017),n(9028),n(855),n(3854),n(7138),n(840),n(302),n(5745),n(7532),n(2477),n(8984),n(7587),n(8211),n(5557)],void 0===(o=function(t,e,n,a,o,i,r,s,l,d,u,c,m,h,f,p,g,v,x,b,E,T,C,y,I,D,_,w,O,R,q){var k=t.assert,K=a.call;describe("The javaRosa plugin with multiple languages",(function(){before((function(t){a.init({javaRosa:{langs:["en","hin"]},core:{onReady:function(){t()}},features:{rich_text:!1}})})),it("should assign new media path on media upload",(function(){a.loadXML("");var t=a.addQuestion("Text","text").p.labelItext,n=/jr:\/\/file\/commcare\/image\/data\/text-\w+\.gif/;e(".itext-block-label-add-form-image").click();var o=a.getMediaUploader(e(".fd-mm-upload-trigger:first"));o.upload("old.gif");var i=t.get("image");k.match(i,n),o.upload("new.gif"),k.match(t.get("image"),n),k.notEqual(t.get("image"),i,"new upload should create a new path")})),it("should remove MM widget on click delete",(function(){a.loadXML(""),a.addQuestion("Text","text"),e(".itext-block-label-add-form-image").click();var t=e("div.widget[data-hqmediapath]:visible"),n=e(".delete-itext-block-label-group-image");k.equal(t.length,2,"widget not found"),k(n.length,"delete button not found"),n.click(),k.equal(e("div.widget[data-hqmediapath]").length,0,"widget not deleted")})),it("should not error on choice on add new language",(function(){a.loadXML(E);var t=a.getMug("select/choice");k.equal(a.getMessages(t),"")})),describe("and non default language is first in options",(function(){before((function(t){a.init({features:{rich_text:!1},javaRosa:{langs:["hin","en"]},core:{onReady:function(){t()}}})})),it("should change default to first language on save",(function(){a.loadXML(R);var t=a.parseXML(K("createXML"));k(void 0===t.find("translation[lang=en]").attr("default"),"English should not be the default language"),k(""===t.find("translation[lang=hin]").attr("default"),"Hindi should be the default language")}))})),describe("with rich text enabled",(function(){before((function(t){a.init({javaRosa:{langs:["en","hin"]},core:{onReady:function(){t()}}})})),it("should update output refs when question ids change",(function(t){a.loadXML(""),a.addQuestion("Text","question1"),a.addQuestion("Text","question2");var n=a.getWidget("itext-en-label");n.input.promise.then((function(){var o='<output value="/data/question1" /> a <output value="/data/question1"/> b <output value="/data/question1"></output> c <output value="/data/question1" ></output> d <output value="if(/data/question1 = \'\', \'\', format-date(date(/data/question1), \'%a%b%c\'))" />';n.setItextValue(o),n.setValue(o);var i=a.getWidget("itext-hin-label");i.input.promise.then((function(){i.setValue('<output value="/data/question1"></output>'),a.clickQuestion("question1"),e("[name=property-nodeID]").val("first_question").change(),a.assertXmlEqual(K("createXML"),O,{normalize_xmlns:!0}),t()}))}))})),it("should escape HTML before setting Itext value",(function(){a.loadXML(""),a.addQuestion("Text","question1");var t=a.getWidget("itext-en-label");t.setItextValue('<img src="x" onerror="alert(\'XSSinbrokenimg\')"/>');var e=t.getItextItem(),n=a.call("getData").javaRosa.Itext.defaultLanguage;k.strictEqual(e.getForm(t.form).getValue(n),'&lt;img src="x" onerror="alert(\'XSSinbrokenimg\')"&gt;')})),describe("should preserve output tags when setting Itext value",(function(){n.each([["<output />",'<output value="#form/question1" />','<output value="#form/question1" />'],["<output></output>",'<output value="#form/question1" ></output>','<output value="#form/question1" />'],["<output /><img /><output></output>",'<output value="#form/question1" /><img src="x" onerror="alert(\'XSSinbrokenimg\')"/><output value="#form/question1" ></output>','<output value="#form/question1" />&lt;img src="x" onerror="alert(\'XSSinbrokenimg\')"&gt;<output value="#form/question1" />']],(function(t){it("for: "+t[0],(function(){a.loadXML(""),a.addQuestion("Text","question1");var e=a.getWidget("itext-en-label"),n=t[1];e.setItextValue(n);var o=e.getItextItem(),i=a.call("getData").javaRosa.Itext.defaultLanguage;k.strictEqual(o.getForm(e.form).getValue(i),t[2])}))}))})),it("should only update exact output ref matches when question ids change",(function(t){a.loadXML(""),a.addQuestion("Text","question1"),a.addQuestion("Text","question2");var n=a.getWidget("itext-en-label");n.input.promise.then((function(){var o='<output value="/data/question1" /> <output value="/data/question11" /> <output value="/data/question1/b" /> <output value="/data/question1b" /> ';n.setItextValue(o),n.setValue(o);var i=a.getWidget("itext-hin-label");i.input.promise.then((function(){i.setValue("question2"),a.clickQuestion("question1"),e("[name=property-nodeID]").val("first_question").change(),a.assertXmlEqual(K("createXML"),m,{normalize_xmlns:!0}),t()}))}))})),it("should rename itext item ID after move",(function(){a.loadXML(""),a.addQuestion("Select","ns"),a.addQuestion("Choice","choice1"),a.addQuestion("Choice","choice2"),a.addQuestion("Select","ew"),a.addQuestion("Choice","choice1"),a.addQuestion("Choice","choice2");var t=a.getMug("ns/choice1"),e=a.getMug("ew/choice1");t.p.nodeID="north",e.p.nodeID="south",t.form.moveMug(e,"after",t),a.assertXmlEqual(a.call("createXML"),g,{normalize_xmlns:!0})})),it("should rename group's child itext item IDs after move group",(function(){a.loadXML("");var t=a.addQuestion("Group","green"),e=a.addQuestion("Group","blue");a.addQuestion("Text","text"),e.form.moveMug(e,"before",t),a.assertXmlEqual(a.call("createXML"),v,{normalize_xmlns:!0})})),it("should not erase invalid outputs",(function(t){a.loadXML(""),a.addQuestion("Text","question1");var e=a.getWidget("itext-en-label");e.input.promise.then((function(){var n='<output value="concat(1, 2" />';e.setItextValue(n),e.setValue(n),a.clickQuestion("question1"),(e=a.getWidget("itext-en-label")).input.promise.then((function(){k.strictEqual(e.getValue(),n),a.assertXmlEqual(K("createXML"),q,{normalize_xmlns:!0}),t()}))}))})),it("should not error on save question with markdown and missing language",(function(){a.loadXML(T);var t=a.parseXML(K("createXML")).find("translation[lang=hin]>text#select-help>value[form=markdown]");k.equal(t.html(),"**help**")}))})),describe("and one has is right to left",(function(){before((function(t){a.init({javaRosa:{langs:["en","heb"]},core:{onReady:function(){a.addQuestion("Text"),t()}},features:{rich_text:!1}})})),it("should have rtl attribute",(function(){k.isUndefined(e("[name=itext-en-label]").attr("dir")),k.strictEqual(e("[name=itext-heb-label]").attr("dir"),"rtl")})),it("should have rtl attribute on markdown preview",(function(){var t=e("[name=itext-en-label]"),n=e("[name=itext-heb-label]"),a=t.closest(".form-group").parent().find(".markdown-output"),o=n.closest(".form-group").parent().find(".markdown-output");t.val("* markdown"),k.isUndefined(a.attr("dir")),k.strictEqual(o.attr("dir"),"rtl")}))})),it("should not show itext errors when there is text in any language",(function(t){a.loadXML(y),e("textarea[name=itext-en-constraintMsg]").val("").change(),a.saveAndReload((function(){var n=e(".alert-block");k.equal(n.length,0,n.text()),t()}))})),it("should show warning on load for with unknown language",(function(){a.loadXML(w,null,/You have languages in your form/);var t=e(".alert-block"),n=t.text();k.equal(t.length,1,n),k(n.indexOf("You have languages in your form that are not specified")>-1,n),k(n.indexOf("page: es")>-1,n)})),it("should preserve itext values on load + save",(function(){a.loadXML(""),a.addQuestion("Text","question1"),n.each(["image","audio","video","video-inline"],(function(t){e(".btn.itext-block-label-add-form-"+t).click(),e(".btn.itext-block-constraintMsg-add-form-"+t).click(),e(".btn.itext-block-help-add-form-"+t).click()})),e(".btn:contains(long)").click(),e(".btn:contains(short)").click(),e(".btn:contains(custom)").click(),e(".fd-modal-generic-container").find("input").val("custom"),e(".fd-modal-generic-container").find(".btn:contains(Add)").click(),e("[name='itext-en-label']").val("question1 en label").change(),e("[name='itext-hin-label']").val("question1 hin label").change(),e("[name='itext-en-constraintMsg']").val("question1 en validation").change(),e("[name='itext-hin-constraintMsg']").val("question1 hin validation").change(),e("[name='itext-en-hint']").val("question1 en hint").change(),e("[name='itext-hin-hint']").val("question1 hin hint").change(),e("[name='itext-en-help']").val("question1 en help").change(),e("[name='itext-hin-help']").val("question1 hin help").change(),e("[name='itext-en-label-long']").val("question1 en long").change(),e("[name='itext-hin-label-long']").val("question1 hin long").change(),e("[name='itext-en-label-short']").val("question1 en short").change(),e("[name='itext-hin-label-short']").val("question1 hin short").change(),e("[name='itext-en-label-custom']").val("question1 en custom").change(),e("[name='itext-hin-label-custom']").val("question1 hin custom").change(),a.assertXmlEqual(K("createXML"),I,{normalize_xmlns:!0})})),it("should prefer alert over constraintMsg",(function(){a.loadXML(D),a.assertXmlEqual(K("createXML"),I,{normalize_xmlns:!0})})),it("should convert constraintMsg to alert",(function(){a.loadXML(_),a.assertXmlEqual(K("createXML"),I,{normalize_xmlns:!0})})),it("should correctly set alert's auto id",(function(){a.loadXML(D);var t=a.getMug("question1");k(t.p.constraintMsgItext.autoId)})),it("itext widget should change as default language value changes when equal",(function(){a.loadXML(y),a.addQuestion("Text","temp"),a.clickQuestion("question1");var t=e("[name='itext-en-label']"),n=e("[name='itext-hin-label']");t.val("English").change(),k.equal(t.val(),"English"),k.equal(n.val(),"English"),a.clickQuestion("temp"),a.clickQuestion("question1"),t=e("[name='itext-en-label']"),n=e("[name='itext-hin-label']"),k.equal(t.val(),"English"),k.equal(n.val(),"English")})),it("itext widget should be blank when empty",(function(){a.loadXML(y),a.addQuestion("Text","temp"),a.clickQuestion("question1");var t=e("[name='itext-en-label']"),n=e("[name='itext-hin-label']");t.val("").change(),k.equal(t.val(),""),k.equal(n.val(),""),a.clickQuestion("temp"),a.clickQuestion("question1"),t=e("[name='itext-en-label']"),n=e("[name='itext-hin-label']"),k.equal(t.val(),""),k.equal(n.val(),"")})),it("non-labelItext widget should allow non default language to be blank",(function(){a.loadXML(p),a.clickQuestion("text");var t=e("[name='itext-en-constraintMsg']"),n=e("[name='itext-hin-constraintMsg']");n.val("").change(),k.equal(t.val(),"English"),k.equal(n.val(),""),t.val("").change(),k.equal(t.val(),""),k.equal(n.val(),"")})),it("should display correct language for question that was collapsed when language changed",(function(){a.loadXML("");var t=a.addQuestion("Group","group");a.addQuestion("Text","question2"),a.clickQuestion("group/question2"),e("[name='itext-en-label']").val("english").change(),e("[name='itext-hin-label']").val("hindi").change(),a.collapseGroup(t),k.equal(e(".fd-question-tree .jstree-anchor").length,1),e(".fd-question-tree-display").val("hin").change(),a.expandGroup(t),k.equal(e(".fd-question-tree .jstree-anchor:last").text(),"hindi")})),it("itext widget should not overwrite label with question id",(function(){a.loadXML("");var t=a.addQuestion("Text");a.addQuestion("Text"),a.clickQuestion("question1"),e("[name='itext-en-label']").val("English").change(),t.p.nodeID="newid",a.clickQuestion("question2"),a.clickQuestion("newid");var n=e("[name='itext-en-label']"),o=e("[name='itext-hin-label']");k.equal(n.val(),"English"),k.equal(o.val(),"English")})),it("tree should note when default language is being displayed instead of selected language",(function(){a.loadXML(""),a.addQuestion("Text","question1"),a.clickQuestion("question1"),e("[name='itext-en-label']").val("english").change();var t=".fd-question-tree .jstree-anchor";k.equal(e(t).text(),"english"),e(".fd-question-tree-display").val("hin").change(),k.equal(e(t).text(),"english [en]"),e("[name='itext-hin-label']").val("hindi").change(),k.equal(e(t).text(),"hindi")})),it("should not fire lost of events for every mug on change label",(function(){var t=a.loadXML(""),n={q1:0,q2:0};t.on("question-label-text-change",(function(t){n[t.mug.p.nodeID]++})),a.paste([["id","type"],["/q1","Text"],["/q2","Text"]]),a.clickQuestion("q2"),e("[name='itext-en-label']").val("english").change(),k.deepEqual(n,{q1:0,q2:1})})),it("non-labelItext widget should contain value on load",(function(){a.loadXML(p),a.clickQuestion("text"),k.equal(e("[name='itext-en-constraintMsg']").val(),"English"),k.equal(e("[name='itext-hin-constraintMsg']").val(),"Hindi")})),it("should enable save button on itext label change",(function(){a.loadXML(d),a.saveButtonEnabled(!1),a.clickQuestion("question1"),k(!a.saveButtonEnabled(),"click should not cause change"),e("[name='itext-en-label']").val("new").change(),k(a.saveButtonEnabled(),"save button is disabled")})),it("should enable save button on itext constraintMsg change",(function(){a.loadXML(d),a.saveButtonEnabled(!1),a.clickQuestion("question1"),k(!a.saveButtonEnabled(),"click should not cause change"),e("[name='itext-hin-constraintMsg']").val("new").change(),k(a.saveButtonEnabled(),"save button is disabled")})),it("should escape inequality operators in output ref",(function(){a.loadXML(h);var t=a.getMug("product");k.equal(t.p.labelItext.get(),"<output value=\"if(1 < 2 or 2 > 3 or 3 <= 3 or 4 >= 5, 'product', 'other')\" />"),a.assertXmlEqual(K("createXML"),h,{normalize_xmlns:!0})})),it("should only update exact output ref matches when question ids change (word boundary)",(function(){a.loadXML(""),a.addQuestion("Text","load-one");var t=a.addQuestion("Trigger","label"),e=a.addQuestion("Text","text2");t.p.labelItext.set('<output value="/data/load-one" />'),t.validate("labelItext"),e.p.nodeID="load",e.p.nodeID="load-two",k.equal(t.p.labelItext.get(),'<output value="/data/load-one" />')})),it("itext changes do not bleed back after copy",(function(t){a.loadXML("");var e=a.addQuestion("Text","question");e.form.duplicateMug(e).p.labelItext.set("q2"),a.saveAndReload((function(){var e=K("getMugByPath","/data/question");k.equal(e.p.labelItext.defaultValue(),""),t()}))})),it("itext changes do not bleed back from copy of copy",(function(t){a.loadXML("");var e=a.addQuestion("Text","question"),n=e.form.duplicateMug(e);e.form.duplicateMug(n).p.labelItext.set("copy"),a.saveAndReload((function(){var e=K("getMugByPath","/data/question"),n=K("getMugByPath","/data/copy-1-of-question"),a=K("getMugByPath","/data/copy-2-of-question");k.equal(e.p.labelItext.defaultValue(),""),k.equal(n.p.labelItext.defaultValue(),""),k.equal(a.p.labelItext.defaultValue(),"copy"),t()}))})),it("drag question into label makes output ref in correct position",(function(){a.loadXML("");var t=a.addQuestion("Text","question1"),n=a.addQuestion("Text","question2"),o=e("[name='itext-en-label']");o.val("test string").change(),r.setCaretPosition(o[0],4),K("handleDropFinish",o,t.absolutePath,t);var i=n.p.labelItext.get("default","en");k.equal(i,'test<output value="#form/question1" /> string'),k.equal(o.val(),'test<output value="/data/question1" /> string')})),it("output ref deleted with single backspace",(function(){a.loadXML("");var t=a.addQuestion("Text","question1"),n=e("[name='itext-en-label']");n.val('question1 <output value="/data/question2" /> end').change(),r.setCaretPosition(n[0],44),n.trigger({type:"keydown",which:8,ctrlKey:!1}),n.change();var o=t.p.labelItext.get("default","en");k.equal(o,"question1  end")})),it("output ref deleted with single delete keypress",(function(){a.loadXML("");var t=a.addQuestion("Text","question1"),n=e("[name='itext-en-label']");n.val('question1 <output value="/data/question2" /> end').change(),r.setCaretPosition(n[0],10),n.trigger({type:"keydown",which:46,ctrlKey:!1}),n.change();var o=t.p.labelItext.get("default","en");k.equal(o,"question1  end")})),it("should update output ref on group rename",(function(){a.loadXML(l);var t=a.call("getMugByPath","/data/question2"),e=a.call("getMugByPath","/data/question1").p.labelItext;k(e.get().indexOf('"#form/question2/question3"')>0,'"#form/question2/question3" not in '+e.get()),t.p.nodeID="group",k(e.get("default","en").indexOf('"#form/group/question3"')>0,'"#form/group/question3" not in '+e.get("default","en")),k(e.get("default","hin").indexOf('"#form/group/question3"')>0,'"#form/group/question3" not in '+e.get("default","hin"))})),it("should add warning on add Audio output ref to itext",(function(){a.loadXML("");var n=a.addQuestion("Audio","audio"),o=a.addQuestion("Text","text"),i=e("[name='itext-en-label']");K("handleDropFinish",i,n.absolutePath,n),t.expect(a.getMessages(o)).to.include("Audio Capture nodes cannot be used in an output value")})),it("should bulk update multi-line translation",(function(){var t=a.loadXML(d),e=a.call("getData").javaRosa.Itext;i.parseXLSItext(t,'label\tdefault-en\tdefault-hin\nquestion1-label\t"First ""line\nSecond"" line\nThird line"\tHindu trans\n',e);var n=a.getMug("question1");k.equal(n.p.labelItext.get("default","en"),'First "line\nSecond" line\nThird line'),k.equal(n.p.labelItext.get("default","hin"),"Hindu trans")})),it("should not get stuck on bulk update non-existent questions",(function(){var t=a.loadXML(""),e=a.call("getData").javaRosa.Itext;i.parseXLSItext(t,"label\tdefault-en\tdefault-hin\nquestion1-label\tlabel\tHindu trans\n",e),k(!a.getMug("question1"),"question1 should not exist")})),it("should generate bulk multi-line translation with user-friendly newlines",(function(){var t=a.loadXML(c),e=a.call("getData").javaRosa.Itext;k.equal(i.generateItextXLS(t,e),'label\tdefault_en\tdefault_hin\taudio_en\taudio_hin\timage_en\timage_hin\tvideo_en\tvideo_hin\tvideo-inline_en\tvideo-inline_hin\nquestion1-label\t"First ""line\nSecond"" line\nThird line"\tHindu trans\t\t\t\t\t\t\t\t')})),it("should escape all languages when generating bulk translations",(function(){var t=a.loadXML(u),e=a.call("getData").javaRosa.Itext;k.equal(i.generateItextXLS(t,e),'label\tdefault_en\tdefault_hin\taudio_en\taudio_hin\timage_en\timage_hin\tvideo_en\tvideo_hin\tvideo-inline_en\tvideo-inline_hin\ntext-label\t"""Text"\t"""Text"\t\t\t\t\t\t\t\t')})),it("bulk translation tool should not create empty itext forms",(function(){var t=a.loadXML(d),e=a.call("getData").javaRosa.Itext;i.parseXLSItext(t,'label\tdefault-en\tdefault-hin\taudio-en\taudio-hin\nquestion1-label\t"First ""line\nSecond"" line\nThird line"\t\t\t\n',e);var n=a.getMug("question1");k.equal(n.p.labelItext.get("default","en"),'First "line\nSecond" line\nThird line'),k.equal(n.p.labelItext.get("default","hin"),""),k(!n.p.labelItext.hasForm("audio"),"unexpected form: audio")})),it("bulk translation tool should enable the save button on update",(function(){var t=a.loadXML(d);a.saveButtonEnabled(!1);var e=a.call("getData").javaRosa.Itext;i.parseXLSItext(t,'label\tdefault-en\tdefault-hin\taudio-en\taudio-hin\nquestion1-label\t"First ""line\nSecond"" line\nThird line"\t\t\t\n',e),k(a.saveButtonEnabled(),"save button not enabled")})),it("should highlight label after tab",(function(){a.loadXML(w,null,/You have languages in your form/),a.clickQuestion("question1");var t=e("[name='itext-en-label']"),n=e("[name='itext-hin-label']"),o=e.Event("keyup");o.which=9,t.val("test string").change(),t.trigger(o),n.val("hin test string").change(),n.trigger(o),k.equal(t[0].selectionStart,0),k.equal(t[0].selectionEnd,11),k.equal(n[0].selectionStart,0),k.equal(n[0].selectionEnd,15)})),it("should not highlight label on focus",(function(){a.loadXML(w,null,/You have languages in your form/),a.clickQuestion("question1");var t=e("[name='itext-en-label']"),n=e("[name='itext-hin-label']");t.val("test string").change(),t.focus(),n.val("hin test string").change(),n.focus(),k.equal(t[0].selectionStart,t[0].selectionEnd),k.equal(n[0].selectionStart,n[0].selectionEnd)})),it("should not create duplicate <help> node on select",(function(){a.loadXML(b);var t=K("createXML"),e=a.parseXML(t);k.strictEqual(e.find("help").length,1,"wrong <help> node count\n"+t)})),it("should not auto-update itext ID when multiple questions point to auto-ish-id",(function(){a.loadXML(x),a.getMug("north").p.nodeID="west";var t=K("createXML"),e=a.parseXML(t);k.strictEqual(e.find("text#north-label").length,2,"wrong <text> node count\n"+t)})),it("should unlink auto itext id from other questions with shared itext",(function(){a.loadXML(x),k.equal(e(x).find("text#south-label").length,0,"wrong <text#south> node count\n"+x),a.clickQuestion("south"),e("[name='property-labelItext']").closest(".form-group").find("input[type=checkbox]").prop("checked",!0).change(),e("[name='itext-en-label']").val("south").change(),k.equal(a.getMug("north").p.labelItext.get(),"north"),k.equal(a.getMug("south").p.labelItext.get(),"south");var t=K("createXML"),n=a.parseXML(t);k.equal(n.find("text#north-label").length,2,"wrong <text#north> node count\n"+t),k.equal(n.find("text#south-label").length,2,"wrong <text#south> node count\n"+t)})),n.each(["hint","help","constraintMsg"],(function(t){it("should not serialize empty "+t+" itext item with non-empty id and autoId = true",(function(){a.loadXML("");var e=a.addQuestion("Text").p[t+"Itext"];e.id=t,e.autoId=!0;var n=K("createXML"),o=a.parseXML(n);"constraintMsg"===t?k.strictEqual(o.find("[jr\\:"+t+"]").length,0,"wrong "+t+" count\n"+n):k.strictEqual(o.find(t).length,0,"wrong <"+t+"> node count\n"+n)}))})),it("should not allow apostrophes in item labels",(function(){a.loadXML(""),a.addQuestion("Select","select"),a.addQuestion("Choice","choice1"),a.clickQuestion("select/choice1"),e("[name='property-nodeID']").val("blah ' blah").change(),k.strictEqual(e("[name='property-labelItext']").val(),"select-blah___blah-label")})),it("should not allow > in item labels",(function(){a.loadXML(""),a.addQuestion("Select","select"),a.addQuestion("Choice","choice1"),a.clickQuestion("select/choice1"),e("[name='property-nodeID']").val("blah > blah").change(),k.strictEqual(e("[name='property-labelItext']").val(),"select-blah___blah-label")})),it("should not change with node id when blank",(function(){a.loadXML(""),a.addQuestion("Text","text"),a.clickQuestion("text"),e("[name=itext-en-label]").val("").change(),e("[name=itext-hin-label]").val("").change(),e("[name=property-nodeID]").val("nodeid").change(),k.strictEqual(e("[name=itext-en-label]").val(),""),k.strictEqual(e("[name=itext-hin-label]").val(),"")}))})),describe("The javaRosaplugin with one language",(function(){before((function(t){a.init({javaRosa:{langs:["en"]},core:{onReady:function(){t()}}})})),it("should allow a value to be blank",(function(){a.loadXML(""),a.addQuestion("Trigger","label"),a.clickQuestion("label"),e("[name=itext-en-label]").val("blah").change(),e(".itext-block-label-add-form-image").click(),e("[name=itext-en-label]").val("").change(),a.assertXmlEqual(K("createXML"),C,{normalize_xmlns:!0})})),it("should not error on form with output without value",(function(){a.loadXML(s);var t=a.getMug("output");k.equal(t.p.labelItext.get(),"x <output /> x"),a.assertXmlEqual(K("createXML"),s)}))})),describe("The javaRosa plugin itext widgets",(function(){var t,n,r,s;function l(e){describe("itext id validation",(function(){var a;before((function(){a=["addCaptionItext","addEmptyCaptionItext"].indexOf(e)>-1?n:t,r=a.p[e],s=a.spec[e]})),it("should not display "+e+" validation error for autoId itext",(function(){var t=r.id;r.autoId=!0,k(r.id,e+".id should have a value"),k.equal(s.validationFunc(a),"pass"),r.id="";try{k.equal(s.validationFunc(a),"pass")}finally{r.id=t}})),it("should display "+e+" validation error for non-autoId non-empty itext with blank ID",(function(){var t=[r.id,r.get()];r.autoId=!1,r.id="",r.set("not empty");try{k.notEqual(s.validationFunc(a),"pass",e)}finally{r.id=t[0],r.set(t[1])}})),it("should not display "+e+" validation error for non-autoId empty itext with blank ID",(function(){var t=[r.id,r.get()];r.autoId=!1,r.id="",r.set("");try{k.equal(s.validationFunc(a),"pass")}finally{r.id=t[0],r.set(t[1])}})),it("should not display "+e+" validation error for non-autoId valid itext id",(function(){var t=[r.id,r.get(),a.p.constraintAttr];"constraintMsgItext"===e&&(a.p.constraintAttr="x = y"),r.autoId=!1,r.id="node-id-label-itext",r.set("node-id-label-itext");try{k.equal(s.validationFunc(a),"pass")}finally{r.id=t[0],r.set(t[1]),a.p.constraintAttr=t[2]}})),it("should display "+e+" validation error for non-autoId invalid itext id",(function(){var t=[r.id,r.get(),a.p.constraintAttr];"constraintMsgItext"===e&&(a.p.constraintAttr="x = y"),r.autoId=!1,r.id="node-id-label-itext'&",r.set("node-id-label-itext'&");try{k.notEqual(s.validationFunc(a),"pass",e)}finally{r.id=t[0],r.set(t[1]),a.p.constraintAttr=t[2]}})),it("should not have "+e+"ID validator (it will not be invoked)",(function(){k(!a.spec[e+"ID"].validationFunc,e+"ID virtual property validator will not be invoked")}))}))}before((function(e){a.init({features:{rich_text:!1,use_custom_repeat_button_text:!0},javaRosa:{langs:["en"]},core:{onReady:function(){var o=a.loadXML(""),r=o.vellum.data.javaRosa.Itext;t=a.addQuestion("Text"),n=a.addQuestion("Repeat"),i.parseXLSItext(o,"",r),e()}}})})),it("should detect whether or not readable itext labels are present",(function(){var t=new o.model,e=new o.item({itextModel:t});k(!e.hasHumanReadableItext(),"No recognized forms"),e.addForm("short"),k(e.hasHumanReadableItext(),"Recognized form"),t.addLanguage("en"),k(!e.hasHumanReadableItext(),"No English text"),e.getForm("short").setValue("en","thing"),k(e.hasHumanReadableItext(),"Has English text"),t.addLanguage("hin"),k(!e.hasHumanReadableItext(),"No Hindi text")})),l("labelItext"),l("hintItext"),l("helpItext"),l("constraintMsgItext"),l("addEmptyCaptionItext"),l("addCaptionItext"),it("should display constraintMsgItext validation error for non-autoId itext without validation condition",(function(){var e=t.p.constraintMsgItext,n=t.spec.constraintMsgItext,a=t.p.constraintAttr;e.autoId=!1,t.p.constraintAttr="";try{k(e.id,"constraintMsgItext.id should have a value"),k.equal(n.validationFunc(t),"Can't have a Validation Message Itext ID without a Validation Condition")}finally{t.p.constraintAttr=a}})),it("should not display constraintMsgItext validation error for autoId itext with validation condition",(function(){var e=t.p.constraintMsgItext,n=t.spec.constraintMsgItext,a=t.p.constraintAttr;e.autoId=!0,t.p.constraintAttr="x = y";try{k.equal(n.validationFunc(t),"pass")}finally{t.p.constraintAttr=a}})),it("should not display constraintMsgItext validation error after removing validation message and condition",(function(){a.loadXML(""),a.paste([["id","type","constraintMsgItext:en-default","constraintAttr","constraintMsgAttr"],["/text","Text","message!",". = 'a'","jr:itext('question1-constraintMsg')"]]),e("[name='itext-en-constraintMsg']").val("").change(),e("[name='property-constraintAttr']").val("").change();var t=e("[name='property-constraintAttr']").siblings(".messages").text();k(!t,"unexpected message: "+t)})),it("should show and hide the validation message as appropriate",(function(){a.loadXML(f),e("[name='property-constraintAttr']").val("true()").change(),e("[name='itext-en-constraintMsg']").val("This is not possible").change(),k(e("[name='itext-en-constraintMsg']").is(":visible")),e("[name='itext-en-constraintMsg']").val("").change(),e("[name='property-constraintAttr']").val("").change(),k(!e("[name='itext-en-constraintMsg']").is(":visible"))})),it("should show a validation error when dropping a self reference",(function(){a.loadXML("");var t=a.addQuestion("Text","question1"),n="itext-en-label";a.clickQuestion("question1"),k.deepEqual(t.messages.get(n),[]),t.form.vellum.handleDropFinish(e("[name="+n+"]"),".",t),k.equal(t.messages.get(n).length,1,a.getMessages(t)),t.dropMessage(n,"core-circular-reference-warning"),k.deepEqual(t.messages.get(n),[])})),it("should show a validation error for choices without labels",(function(){a.loadXML(""),a.addQuestion("Select","question1");var t=a.addQuestion("Choice","choice1");a.clickQuestion("question1/choice1");var n=t.messages.get("labelItext");k.equal(n.length,0),e("[name='itext-en-label']").val("").change(),n=t.messages.get("labelItext"),k.equal(n.length,1),k(n[0].match(/required/i))})),it("should not show a validation error for manually added choices",(function(){a.loadXML(""),a.addQuestion("Select","question1");var t=a.addQuestion("Choice","choice1");a.clickQuestion("question1/choice1");var e=t.messages.get("labelItext");k.equal(e.length,0),a.clickQuestion("question1"),a.addQuestion("Choice","choice3"),e=t.messages.get("labelItext"),k.equal(e.length,0)})),it("should replace output values with $ on mug rename",(function(){a.loadXML(""),a.addQuestion("Text","text"),a.addQuestion("Text","text2"),a.clickQuestion("text"),e("[name=itext-en-label]").val("<output value=\"regex(/data/text2, '$[0-9]+.[0-9]$')\" />").change(),a.clickQuestion("text2"),e("[name=property-nodeID]").val("text3").change(),a.clickQuestion("text"),k.strictEqual(e("[name=itext-en-label]").val(),"<output value=\"regex(/data/text3, '$[0-9]+.[0-9]$')\" />")}))})),describe("The javaRosa markdown detector",(function(){n.each(["**Word!**","**a bold phrase**"],(function(t){it("should recognize "+JSON.stringify(t),(function(){k(i.looksLikeMarkdown(t,!1),"fail")}))}));var t="| col1    | col2    | col3 |\n|:----:|:----:|:----:|\n| r1c1 | r1c2 | r1c3 |";it("should detect a markdown table"+JSON.stringify(t),(function(){k(i.looksLikeMarkdown(t,!0),"fail")})),it("should not detect a markdown table since supportMarkdown is false"+JSON.stringify(t),(function(){k(!i.looksLikeMarkdown(t,!1),"fail")})),n.each(["**not\nbold**"],(function(t){it("should NOT recognize "+JSON.stringify(t),(function(){k(!i.looksLikeMarkdown(t,!1),"fail")}))}))})),describe("The javaRosa plugin language selector",(function(){before((function(t){a.init({features:{rich_text:!1},javaRosa:{langs:["en"]},core:{onReady:function(){t()}}})})),it("should have option to display IDs",(function(){a.loadXML(""),a.addQuestion("Text","question1"),a.clickQuestion("question1");var t=e(".fd-question-tree-display"),n=".fd-question-tree .jstree-anchor";e("[name='itext-en-label']").val("x").change(),k.equal(e(n).text(),"x"),e("[name='itext-en-label']").val("").change(),k.equal(e(n).text(),"question1"),t.val("en").change(),e("[name='itext-en-label']").val("english").change(),k.equal(e(n).text(),"english"),t.val("_ids").change(),k.equal(e(n).text(),"question1")})),it("should only display once after multiple load xml",(function(){k.strictEqual(e('.fd-questions-menu li:contains("Display")').length,1),a.loadXML(""),k.strictEqual(e('.fd-questions-menu li:contains("Display")').length,1),a.loadXML(""),k.strictEqual(e('.fd-questions-menu li:contains("Display")').length,1)}))})),describe("show only current language for translations",(function(){before((function(t){a.init({features:{rich_text:!1},javaRosa:{langs:["en","hin","tel"],showOnlyCurrentLang:!0,displayLanguage:"en"},core:{onReady:function(){t()}}})})),it("should change the property on javaRosa",(function(){k.equal(a.call("getData").javaRosa.showOnlyCurrentLang,!0)})),describe("when current language same as default language",(function(){it("should just show translation for the current display language",(function(){k.equal(a.call("getData").core.currentItextDisplayLanguage,"en"),k.equal(a.call("getData").javaRosa.Itext.defaultLanguage,"en"),a.loadXML(y),a.clickQuestion("question1"),k.equal(e("[name='itext-en-label']").length,1),k.equal(e("[name='itext-hin-label']").length,0)}))})),describe("when current display language not same as default language",(function(){describe("when current display language is one of the app langs",(function(){before((function(t){a.init({features:{rich_text:!1},javaRosa:{langs:["en","hin","tel"],showOnlyCurrentLang:!0,displayLanguage:"tel"},core:{onReady:function(){t()}}})})),it("should show translation for both current and default language",(function(){k.equal(a.call("getData").core.currentItextDisplayLanguage,"tel"),k.equal(a.call("getData").javaRosa.Itext.defaultLanguage,"en"),a.loadXML(y),a.clickQuestion("question1"),k.equal(e("[name='itext-en-label']").length,1),k.equal(e("[name='itext-hin-label']").length,0),k.equal(e("[name='itext-tel-label']").length,1)}))})),describe("when current display language is not one of the app langs",(function(){before((function(t){a.init({features:{rich_text:!1},javaRosa:{langs:["en","hin","tel"],showOnlyCurrentLang:!0,displayLanguage:"_ids"},core:{onReady:function(){t()}}})})),it("should just show translation for the default language",(function(){k.equal(a.call("getData").core.currentItextDisplayLanguage,"_ids"),k.equal(a.call("getData").javaRosa.Itext.defaultLanguage,"en"),a.loadXML(y),a.clickQuestion("question1"),k.equal(e("[name='itext-en-label']").length,1),k.equal(e("[name='itext-hin-label']").length,0),k.equal(e("[name='itext-tel-label']").length,0)}))}))}))}))}.apply(e,a))||(t.exports=o)},9928:(t,e,n)=>{var a,o;a=[n(8324),n(561),n(3946),n(1134),n(6283),n(7519)],void 0===(o=function(t,e,n,a,o,i){var r,s=t.assert;describe("jQuery extensions",(function(){beforeEach((function(){r=e(i)})),describe("xmlAttr() gets",(function(){it("undefined when nothing is selected",(function(){var t=r.find("not[found]");s.equal(t.xmlAttr("required"),void 0)})),it("undefined value for missing attribute",(function(){var t=r.find("bind[nodeset$='question1']");s.equal(t.xmlAttr("not-found"),void 0)})),it("'required' attribute value",(function(){var t=r.find("bind[nodeset$='question1']");s.equal(t.xmlAttr("required"),"true()")})),it("'vellum:required' attribute value",(function(){var t=r.find("bind[nodeset$='question2']");s.equal(t.xmlAttr("vellum:required"),"#form/question1 = 'hi'")}))})),describe("xmlAttr() sets",(function(){it("does nothing when nothing is selected",(function(){var t=r.find("not[found]");t=t.xmlAttr("required","ignored"),s.equal(t.xmlAttr("required"),void 0)})),it("value of missing attribute",(function(){var t=r.find("bind[nodeset$='question1']");t=t.xmlAttr("required","ignored"),s.equal(t.xmlAttr("required"),"ignored")})),it("undefined and returns node",(function(){var t=r.find("bind[nodeset$='question1']");t=t.xmlAttr("required",void 0),s.equal(t.xmlAttr("required"),"true()")})),it("null and returns node with attribute removed",(function(){var t=r.find("bind[nodeset$='question1']");t=t.xmlAttr("required",null),s.equal(t.xmlAttr("required"),void 0)})),it("undefined 'vellum:required' and returns node",(function(){var t=r.find("bind[nodeset$='question2']");t=t.xmlAttr("vellum:required",void 0),s.equal(t.xmlAttr("vellum:required"),"#form/question1 = 'hi'")})),it("null 'vellum:required' and returns node with attribute removed",(function(){var t=r.find("bind[nodeset$='question1']");t=t.xmlAttr("vellum:required",null),s.equal(t.xmlAttr("vellum:required"),void 0)})),it("value of existing 'required' attribute",(function(){var t=r.find("bind[nodeset$='question1']");t=t.xmlAttr("required","new-value"),s.equal(t.xmlAttr("required"),"new-value")})),it("value of existing 'vellum:required' attribute",(function(){var t=r.find("bind[nodeset$='question2']");t=t.xmlAttr("vellum:required","new-value"),s.equal(t.xmlAttr("vellum:required"),"new-value")})),it("value and returns node",(function(){var t=r.find("bind[nodeset$='question1']");t.xmlAttr("required","new-value").xmlAttr("readonly","books"),s.equal(t.xmlAttr("required"),"new-value"),s.equal(t.xmlAttr("readonly"),"books")}))})),describe("xmlAttr() set multiple",(function(){it("does nothing when nothing is selected",(function(){var t=r.find("not[found]");t=t.xmlAttr({required:"maybe",readonly:"nope"}),s.equal(t.xmlAttr("required"),void 0),s.equal(t.xmlAttr("readonly"),void 0)})),it("values of missing attributes",(function(){var t=r.find("bind[nodeset$='question2']");t=t.xmlAttr({"not-set":"maybe",readonly:"nope"}),s.equal(t.xmlAttr("not-set"),"maybe"),s.equal(t.xmlAttr("readonly"),"nope")})),it("undefined and returns node",(function(){var t=r.find("bind[nodeset$='question1']");t=t.xmlAttr({required:void 0}),s.equal(t.xmlAttr("required"),"true()")})),it("null and returns node with attribute removed",(function(){var t=r.find("bind[nodeset$='question1']");t=t.xmlAttr({required:null}),s.equal(t.xmlAttr("required"),void 0)})),it("values of existing attributes",(function(){var t=r.find("bind[nodeset$='question2']");t=t.xmlAttr({required:"maybe","vellum:required":"nope"}),s.equal(t.xmlAttr("required"),"maybe"),s.equal(t.xmlAttr("vellum:required"),"nope")})),it("values and returns node",(function(){var t=r.find("bind[nodeset$='question1']");t.xmlAttr({required:"maybe","vellum:required":"nope"}).xmlAttr("readonly","books"),s.equal(t.xmlAttr("required"),"maybe"),s.equal(t.xmlAttr("vellum:required"),"nope"),s.equal(t.xmlAttr("readonly"),"books")}))}))}))}.apply(e,a))||(t.exports=o)},1265:(t,e,n)=>{var a,o;a=[n(8324),n(561),n(3946),n(1134),n(4854),n(7867),n(3357),n(3092),n(6684)],void 0===(o=function(t,e,n,a,o,i,r,s,l){var d=t.assert,u=a.call;function c(t){return t.toXPath()}describe("The logic manager",(function(){before((function(t){a.init({core:{onReady:function(){t()}},features:{rich_text:!0}})})),it("should update expressions when a question ID changes",(function(){a.loadXML(r),a.getMug("question1").p.nodeID="question";var t=a.getMug("/data/question2");d.equal(t.p.relevantAttr,"#form/question = #case/dob")})),it("should display error for invalid xpath expression",(function(){a.loadXML(s);var t=a.getMug("/data/mug");t.p.calculateAttr="#invalid/xpath dob`#case/dob`",d(!a.isTreeNodeValid(t),"mug should not be valid")})),it("should not display invalid xpath error for hashtag filter expression",(function(){a.loadXML(l);var t=a.getMug("/data/calc");d(a.isTreeNodeValid(t),"calc xpath should be valid")})),it("should not update expressions for model iteration",(function(){a.loadXML("");var t=a.addQuestion("Repeat","product");t.p.dataSource={instance:{id:"products",src:"jr://fixture/commtrack:products"},idsQuery:"instance('products')/products/product/@id"},u("createXML"),d(a.isTreeNodeValid(t),"repeat should be valid")})),describe("without rich text",(function(){before((function(t){a.init({core:{onReady:function(){t()}},features:{rich_text:!1}})})),it("should remove references for labels after removal",(function(){var t,n=a.loadXML("")._logicManager;a.addQuestion("Text","mug"),t=a.addQuestion("Text","text"),e("[name=itext-en-label]").val('<output value="/data/mug" />').change(),d.equal(n.forward[t.ufid].labelItext.length,1),a.deleteQuestion("/data/text"),d.deepEqual(n.forward[t.ufid],{})}))})),describe("should add validation error for",(function(){var t=["relevantAttr","calculateAttr","constraintAttr","dataParent","repeat_count","filter","defaultValue","requiredCondition"],e=["constraintAttr"],o=n.difference(t,e),i={repeat_count:"repeat",filter:"select/itemset"};function r(t,e,n){var o=a.getMug(i[t]||"text");d(a.isTreeNodeValid(o),"precondition failed:\n"+a.getMessages(o)),d.deepEqual(o.messages.get(t),[],"pre-check: mug has messages"),o.p[t]=e;try{n?(d(!a.isTreeNodeValid(o),"mug should not be valid"),d(o.messages.get(t).length,t+" should have messages")):(d(a.isTreeNodeValid(o),"mug should be valid"),d(0===o.messages.get(t).length,t+" should not have messages"))}finally{o.p[t]=""}d(a.isTreeNodeValid(o),"postcondition failed:\n"+a.getMessages(o)),d.deepEqual(o.messages.get(t),[],"post-check: mug has messages")}before((function(){a.loadXML(""),a.addQuestion("Text","text"),a.addQuestion("SelectDynamic","select"),a.addQuestion("Repeat","repeat")})),n.each(t,(function(t){it("invalid path in "+t,(function(){r(t,"/data/unknown",!0)}))})),n.each(o,(function(t){it("self referencing path in "+t,(function(){r(t,".",!0)}))})),n.each(e,(function(t){it("self referencing path in "+t,(function(){r(t,".",!1)}))}))})),describe("should not add validation error for",(function(){n.each(["meta/deviceID","meta/instanceID","meta/username","meta/userID","meta/timeStart","meta/timeEnd","meta/location"],(function(t){it(t,(function(){a.loadXML("");var e=a.addQuestion("Text","text");e.p.calculateAttr="/data/"+t,d(a.isTreeNodeValid(e),a.getMessages(e))}))}))})),describe("sends case references to HQ",(function(){before((function(t){a.init({core:{onReady:function(){t()}}})})),it("should be the correct format",(function(){var t=a.loadXML(s)._logicManager;d.deepEqual(t.caseReferences(),{load:{"/data/mug":["#case/parent/edd"]},save:{}})})),it("should not send deleted references",(function(){var t=a.loadXML(s)._logicManager;a.deleteQuestion("/data/mug"),d.deepEqual(t.caseReferences(),{load:{},save:{}})})),it("should not write unknown case properties to xml",(function(){var t=a.loadXML("")._logicManager;a.addQuestion("Text","text").p.defaultValue="#case/not-here",d.deepEqual(t.knownExternalReferences(),{})})),it("should send parent path for choice",(function(){var t=a.loadXML("")._logicManager;a.paste([["id","type","labelItext:en-default"],["/select","Select","select"],["/select/choice","Choice",'<output value="#case/dob" />']]),d.deepEqual(t.caseReferences(),{load:{"/data/select":["#case/dob"]},save:{}})})),it("should send all properties referenced by a question",(function(){var t=a.loadXML("")._logicManager;a.paste([["id","type","labelItext:en-default"],["/select","Select",'<output value="#case/name" />'],["/select/choice","Choice",'<output value="#case/dob" />'],["/select/other","Choice",'<output value="#user/role" />']]),d.deepEqual(t.caseReferences(),{load:{"/data/select":["#case/name","#case/dob","#user/role"]},save:{}})}))})),describe("findUsages",(function(){var t,e={"#form/question1":{"#form/question2":"Display Condition","#form/question3":"Display Condition"},"#form/question2":{"#form/question3":"Display Condition"}};before((function(e){t=a.loadXML(r),e()})),it("should return dictionary of usages",(function(){d.deepEqual(t.findUsages(),e)})),it("should return dictionary of usages when filtered by path",(function(){var n="#form/question1",a="#form/question2";d.deepEqual(t.findUsages(n),{"#form/question1":e[n]}),d.deepEqual(t.findUsages(a),{"#form/question2":e[a]})})),it("should return empty dictionary when question not referenced",(function(){d.deepEqual(t.findUsages("#form/question3"),{})})),it("should not error after deleting reference",(function(){var e=a.addQuestion("Text","mug"),n=a.getMug("question3");n.p.relevantAttr="#form/mug",t.removeMugsFromForm([e]),n.p.relevantAttr="",d.deepEqual(t.findUsages("#form/question3"),{})}))})),describe("hasBrokenReferences",(function(){var t;beforeEach((function(){t=a.loadXML()})),it("should return false for empty form",(function(){d.isNotOk(t.hasBrokenReferences())})),it("should return true for form with broken reference",(function(){a.addQuestion("Text","text",{relevantAttr:"/data/unknown"}),d.isOk(t.hasBrokenReferences())})),it("should return false after broken reference is fixed",(function(){a.addQuestion("Text","text",{relevantAttr:"/data/other"}),d.isOk(t.hasBrokenReferences(),"should have broken"),a.addQuestion("Text","other",{relevantAttr:"/data/other"}),d.isNotOk(t.hasBrokenReferences())}))}))})),describe("Logic expression",(function(){n.each([["instance('casedb')/cases/case/property",["instance('casedb')/cases/case/property"],["instance('casedb')/cases/case/property"]],["instance('casedb')/cases/case/property[@case_id = /data/caseid]",["instance('casedb')/cases/case/property[@case_id = /data/caseid]","@case_id","/data/caseid"],["instance('casedb')/cases/case/property[@case_id = /data/caseid]"]],["instance('casedb')/cases/case/property[@case_id = /data/caseid] = /data/other_caseid",["instance('casedb')/cases/case/property[@case_id = /data/caseid]","@case_id","/data/caseid","/data/other_caseid"],["instance('casedb')/cases/case/property[@case_id = /data/caseid]","/data/other_caseid"]],["instance('casedb')/cases/case[@case_id = instance('casedb')/cases/case[@case_id = instance('commcaresession')/session/data/case_id]/index/parent]/edd = /data/other_caseid",["instance('casedb')/cases/case[@case_id = instance('casedb')/cases/case[@case_id = instance('commcaresession')/session/data/case_id]/index/parent]/edd","@case_id","instance('casedb')/cases/case[@case_id = instance('commcaresession')/session/data/case_id]/index/parent","instance('commcaresession')/session/data/case_id","/data/other_caseid"],["instance('casedb')/cases/case[@case_id = instance('casedb')/cases/case[@case_id = instance('commcaresession')/session/data/case_id]/index/parent]/edd","/data/other_caseid"]],["selected(instance('casedb')/cases/case/property[@case_id = /data/caseid])",["instance('casedb')/cases/case/property[@case_id = /data/caseid]","@case_id","/data/caseid"],["instance('casedb')/cases/case/property[@case_id = /data/caseid]"]],["(instance('casedb')/cases/case/property[@case_id = /data/caseid] = /data/other_caseid) and (/other/thing = /this/thing)",["instance('casedb')/cases/case/property[@case_id = /data/caseid]","@case_id","/data/caseid","/data/other_caseid","/other/thing","/this/thing"],["instance('casedb')/cases/case/property[@case_id = /data/caseid]","/data/other_caseid","/other/thing","/this/thing"]],["/data/text1 = /data/text2",["/data/text1","/data/text2"],["/data/text1","/data/text2"]]],(function(t){var e=new o.LogicExpression(t[0],i.createParser(i.makeXPathModels()));it("should return all paths: "+t[0],(function(){var a=n.map(e.getPaths(),c);d.deepEqual(n.difference(a,t[1]),[]),d.deepEqual(n.difference(t[1],a),[])})),it("should return top level paths: "+t[0],(function(){var a=n.map(e.getTopLevelPaths(),c);d.deepEqual(n.difference(a,t[2]),[]),d.deepEqual(n.difference(t[2],a),[])}))})),describe("hashtags",(function(){function t(t){return t.toHashtag()}var e={"#form/text1":"/data/text1","#form/text2":"/data/text2"},a={hashtagMap:e,invertedHashtagMap:n.invert(e),hashtagNamespaces:{form:!0}},r=i.createParser(i.makeXPathModels(a));function s(e,a){var o=n.map(e.getHashtags(),t);d.includeMembers(o,a.hashtags)}n.each([{path:"#form/text1 = #form/text2",hashtags:["#form/text1","#form/text2"],xpath:"/data/text1 = /data/text2"},{path:"/data/not/in/form[#form/text1] = #form/text2",hashtags:["#form/text1","#form/text2"],xpath:"/data/not/in/form[/data/text1] = /data/text2"},{path:"/data/not/in/form[#form/text1 = /data/also/not/in/form[#form/text2]] = #form/text2",hashtags:["#form/text1","#form/text2"],xpath:"/data/not/in/form[/data/text1 = /data/also/not/in/form[/data/text2]] = /data/text2"}],(function(t){var e=new o.LogicExpression(t.path,r);it("should return all hashtags: "+t.path,(function(){s(e,t)})),it("should translate "+t.path+" to "+t.xpath,(function(){d.strictEqual(e.parsed.toXPath(),t.xpath)}))})),n.each([{path:"#wtf/mate",hashtags:[]},{path:"#wtf/mate[filter=filter]",hashtags:[]}],(function(t){var e=new o.LogicExpression(t.path,r);it("should return all hashtags: "+t.path,(function(){s(e,t)})),it("should not be able to translate "+t.path,(function(){e.error||d.throws(e.parsed.toXPath,/translate the hashtag/)}))}))}))}))}.apply(e,a))||(t.exports=o)},9682:(t,e,n)=>{var a,o;a=[n(8449),n(1134),n(8094),n(8324),n(561),n(3946),n(5392),n(3436),n(2248),n(7166),n(2325),n(5437),n(9996),n(3927)],void 0===(o=function(t,e,n,a,o,i,r,s,l,d,u,c,m,h){var f=a.assert,p=e.call,g=e.markdownVisible;function v(){o(".markdown-trigger").first().click()}describe("The markdown widget",(function(){before((function(t){e.init({javaRosa:{langs:["en","hin"]},core:{onReady:function(){t()}},features:{rich_text:!1}})})),it("should parse form that has markdown",(function(){e.loadXML(s);var t=e.getMug("/data/markdown_question");f(t.p.labelItext.hasMarkdown)})),it("should use the markdown form when there are conflicting strings",(function(){e.loadXML(s);var t=e.getMug("/data/markdown_question");f.strictEqual(t.p.labelItext.get(),"**some markdown**")})),describe("when a user has not defined markdown usage",(function(){it("should not show markdown with nothing in the text",(function(){e.loadXML(""),e.addQuestion("Text","markdown_question"),f(!g())})),it("should allow turning off markdown if markdown characters are input",(function(){e.loadXML(""),e.addQuestion("Text","markdown_question"),o("[name=itext-en-label]").val("**markdown**").change(),f(g()),o(".markdown-trigger").first().click(),f(!g())})),it("should not show markdown if non markdown characters are not input",(function(){e.loadXML(""),e.addQuestion("Text","markdown_question"),f(!g()),o("[name=itext-en-label]").val("no markdown here").change(),f(!g())})),it("should write any markdown if markdown characters are input",(function(){e.loadXML(""),e.addQuestion("Text","markdown_question"),o("[name=itext-en-label]").val("**some markdown**").change(),e.assertXmlEqual(p("createXML"),l,{normalize_xmlns:!0})})),it("should not write any markdown if markdown characters are not input",(function(){e.loadXML(""),e.addQuestion("Text","markdown_question"),o("[name=itext-en-label]").val("no markdown").change(),e.assertXmlEqual(p("createXML"),u,{normalize_xmlns:!0})})),it("should support ordered list with parens",(function(){e.loadXML(""),e.addQuestion("Text","markdown_question"),o("[name=itext-en-label]").val("1) first\n 2) second").change(),f(g())})),it("should write /data/ to output value",(function(){e.loadXML(""),e.addQuestion("Text","markdown_question"),o("[name=itext-en-label]").val("**some markdown**").change(),e.addQuestion("Text","question1"),o("[name=itext-en-label]").val("* ").change();var t=o("[name=itext-en-label]"),a=o(".fd-question-tree").jstree(!0);n.setCaretPosition(t[0],2),e.findNode(a,"**some markdown**").data.handleDrop(t),e.assertXmlEqual(p("createXML"),h,{normalize_xmlns:!0})}))})),describe("when a user explicitly wants no markdown",(function(){beforeEach((function(t){e.loadXML(""),e.addQuestion("Text","markdown_question"),o("[name=itext-en-label]").val("**no markdown**").change(),v(),t()})),it("should not show markdown when there are markdown characters",(function(){f(!g()),o("[name=itext-en-label]").val("~~more markdown~~").change(),f(!g())})),it("should allow re-enabling markdown",(function(){v(),f(g())})),it("should not write any markdown",(function(){e.assertXmlEqual(p("createXML"),c,{normalize_xmlns:!0})})),it("should activate the save button",(function(){f(e.saveButtonEnabled(),"save button is disabled")}))})),describe("when a user explicitly wants markdown",(function(){beforeEach((function(t){e.loadXML(""),e.addQuestion("Text","markdown_question"),o("[name=itext-en-label]").val("**some markdown**").change(),v(),v(),t()})),it("should show markdown when there are no markdown characters",(function(){o("[name=itext-en-label]").val("some markdown").change(),f(g())})),it("should allow turning off markdown",(function(){f(g()),v(),f(!g())})),it("should write markdown even if there are no markdown characters",(function(){o("[name=itext-en-label]").val("some markdown").change(),e.assertXmlEqual(p("createXML"),d,{normalize_xmlns:!0})})),it("should activate the save button",(function(){f(e.saveButtonEnabled(),"save button is disabled")}))})),it("should not include markdown with vellum:ignore='markdown'",(function(){e.loadXML(m),e.assertXmlEqual(p("createXML"),m)})),it("should remove markdown when no markdown is specified",(function(){e.loadXML(l).noMarkdown=!0,e.assertXmlEqual(p("createXML"),m)}))}))}.apply(e,a))||(t.exports=o)},6411:(t,e,n)=>{var a,o;a=[n(8324),n(561),n(3946),n(1134),n(3784),n(5575),n(8018),n(6070),n(4083),n(6411)],void 0===(o=function(t,e,n,a,o,i,r,s,l){var d=t.assert,u=a.call,c=a.options.options.plugins||[],m=n.union(c,["modeliteration"]);describe("The model iteration plugin",(function(){before((function(t){a.init({plugins:m,javaRosa:{langs:["en"]},core:{onReady:function(){d(this.isPluginEnabled("modeliteration"),"modeliteration plugin should be enabled"),t()}}})})),it("should load a case list repeat",(function(){a.loadXML(o);var t=a.getMug("child/item");d.deepEqual(t.p.dataSource,{instance:{id:"casedb",src:"jr://instance/casedb"},idsQuery:"instance('casedb')/mother/child/@case_id"}),a.assertXmlEqual(u("createXML"),o)})),it("should load a case list repeat with questions",(function(){a.loadXML(i),a.assertJSTreeState("group","  phone","  hidden");var t=a.getMug("group/item"),e=a.getMug("group/item/phone"),n=a.getMug("group/item/hidden");d.deepEqual(t.p.dataSource,{instance:{id:"casedb",src:"jr://instance/casedb"},idsQuery:"instance('casedb')/mother/child/@case_id"}),d.equal(e.__className,"PhoneNumber"),d.equal(n.p.calculateAttr,"#form/group/item/phone = '12345'"),a.assertXmlEqual(u("createXML"),i)})),it("should write setvalues in order of question tree",(function(){a.loadXML(r),a.assertJSTreeState("hidden","group","  phone","  hidden"),a.assertXmlEqual(u("createXML"),r)})),it("should create a case list repeat",(function(){a.loadXML(""),a.addQuestion("Repeat","child").p.dataSource={instance:{id:"casedb",src:"jr://instance/casedb"},idsQuery:"instance('casedb')/mother/child/@case_id"},a.assertXmlEqual(u("createXML"),o,{normalize_xmlns:!0})})),it("should create a case list repeat with questions",(function(){a.loadXML(""),a.addQuestion("Repeat","group").p.dataSource={instance:{id:"casedb",src:"jr://instance/casedb"},idsQuery:"instance('casedb')/mother/child/@case_id"},a.addQuestion("PhoneNumber","phone"),a.addQuestion("DataBindOnly","hidden").p.calculateAttr="/data/group/item/phone = '12345'",a.assertXmlEqual(u("createXML"),i,{normalize_xmlns:!0})})),it("should load a fixture repeat",(function(){a.loadXML(s);var t=a.getMug("product/item");d.deepEqual(t.p.dataSource,{instance:{id:"products",src:"jr://fixture/commtrack:products"},idsQuery:"instance('products')/products/product/@id"}),a.assertXmlEqual(u("createXML"),s)})),it("should create a fixture repeat",(function(){a.loadXML(""),a.addQuestion("Repeat","product").p.dataSource={instance:{id:"products",src:"jr://fixture/commtrack:products"},idsQuery:"instance('products')/products/product/@id"},a.assertXmlEqual(u("createXML"),s,{normalize_xmlns:!0})})),it("should convert fixture repeat to regular repeat when data source is removed",(function(){a.loadXML(s);var t=a.getMug("product/item");t.p.dataSource={},t.p.repeat_count="",a.assertXmlEqual(u("createXML"),l)})),it("should create a fixture repeat containing a text input",(function(){a.loadXML(""),a.addQuestion("Repeat","product").p.dataSource={instance:{id:"products",src:"jr://fixture/commtrack:products"},idsQuery:"instance('products')/products/product/@id"},a.addQuestion("Text","text"),a.assertJSTreeState("product","  text")})),it("should change a fixture repeat to a case list repeat",(function(){a.loadXML(s),a.getMug("product/item").p.dataSource={instance:{id:"casedb",src:"jr://instance/casedb"},idsQuery:"instance('casedb')/mother/child/@case_id"},a.assertXmlEqual(u("createXML").replace(/product/g,"child"),o)})),it("should not remove instance when ignore/retain is active",(function(){var t='<bind vellum:nodeset="#form/product/item" nodeset="/data/product/item" />',e='<bind vellum:nodeset="#form/product/item" nodeset="/data/product/item" wierd="true()" vellum:ignore="retain" />',n=s.replace(t,t+e);d(n.indexOf(e)>0,e+" not found in XML:\n\n"+n),a.loadXML(n);var o=a.getMug("product/item");o.p.dataSource={},o.p.repeat_count="",n=u("createXML"),d(1===a.parseXML(n).find("instance[id=products]").length,"products instance not found in XML\n\n"+n)})),it("should not write duplicate <setvalue> nodes after rename",(function(){a.loadXML("");var t=a.addQuestion("Repeat","product");t.p.dataSource={instance:{id:"casedb",src:"jr://instance/casedb"},idsQuery:"instance('casedb')/mother/child/@case_id"};var e=u("createXML"),n=a.parseXML(e).find("setvalue").length;t.p.nodeID="group",e=u("createXML"),d.equal(a.parseXML(e).find("setvalue").length,n,"wrong number of <setvalue> nodes\n\n"+e)})),it("should drop setvalue nodes on delete model repeat",(function(){a.loadXML(s),a.deleteQuestion("product/item");var t=u("createXML");d.equal(a.parseXML(t).find("setvalue").length,0,"wrong number of <setvalue> nodes\n\n"+t)})),it("should update expressions on set data source",(function(){a.loadXML("");var t=a.addQuestion("Repeat","product"),e=a.addQuestion("Text","blue"),o=a.addQuestion("Text","text"),i=e.form.getAbsolutePath.bind(e.form);d.equal(e.hashtagPath,"#form/product/blue"),d.equal(o.hashtagPath,"#form/product/text"),o.p.calculateAttr=e.hashtagPath,e.p.labelItext.set('<output value="'+o.hashtagPath+'"/>'),e.validate("labelItext"),t.p.dataSource={instance:{id:"casedb",src:"jr://instance/casedb"},idsQuery:"instance('casedb')/mother/child/@case_id"};var r=a.parseXML(u("createXML"));d.equal(e.hashtagPath,"#form/product/item/blue"),d.equal(o.hashtagPath,"#form/product/item/text");var s=r.find("bind[nodeset='"+i(o)+"']");d.equal(s.attr("calculate"),"/data/product/item/blue",s.attr("nodeset")+" calculate expression mismatch"),d.equal(r.find("output:first").attr("value"),"/data/product/item/text","output value mismatch");var l=n.flatten(n.map([e,o],(function(t){return t.getErrors()})));d(!l.length,l.join("\n"))})),it("should update expressions on clear data source",(function(){a.loadXML("");var t=a.addQuestion("Repeat","product");t.p.dataSource={instance:{id:"casedb",src:"jr://instance/casedb"},idsQuery:"instance('casedb')/mother/child/@case_id"};var e=a.addQuestion("Text","blue"),o=a.addQuestion("Text","text");o.p.calculateAttr=e.hashtagPath,e.p.labelItext.set('<output value="'+o.hashtagPath+'"/>'),e.validate("labelItext"),d.equal(e.hashtagPath,"#form/product/item/blue"),d.equal(o.hashtagPath,"#form/product/item/text"),t.p.dataSource={},d.equal(e.hashtagPath,"#form/product/blue"),d.equal(o.hashtagPath,"#form/product/text");var i=a.parseXML(u("createXML")),r=i.find("bind[nodeset='"+o.absolutePath+"']");d.equal(r.attr("calculate"),"/data/product/blue",r.attr("nodeset")+" calculate expression mismatch"),d.equal(i.find("output:first").attr("value"),"/data/product/text","output value mismatch");var s=n.flatten(n.map([e,o],(function(t){return t.getErrors()})));d(!s.length,s.join("\n"))})),it("should show repeat count for regular repeat",(function(){a.loadXML(l),a.clickQuestion("product"),d.equal(e("[name=property-repeat_count]").length,1,"repeat count should be visible for regular repeat")})),it("should hide repeat count for model repeat",(function(){a.loadXML(s),a.clickQuestion("product/item"),d.equal(e("[name=property-repeat_count]").length,0,"repeat count should not be visible for model repeat")})),it("should change instance name when editing its sole reference",(function(){a.loadXML(s);var t=a.getMug("product/item");d.equal(t.p.dataSource.instance.id,"products"),t.p.dataSource={instance:{id:"new-name",src:"jr://fixture/commtrack:products"},idsQuery:"instance('new-name')/products/product/@id"},d.deepEqual(t.p.dataSource,{instance:{id:"new-name",src:"jr://fixture/commtrack:products"},idsQuery:"instance('new-name')/products/product/@id"})})),it("should change instance when idsQuery changes",(function(){var t=a.loadXML(s),e=a.getMug("product/item");t.updateKnownInstances({foo:"jr://foo"}),e.p.dataSource={idsQuery:"instance('foo')/products/product/@id"};var n=u("createXML"),o=a.parseXML(n);d(o.find("instance[id=foo]").length,"foo instance not found:\n"+n),d.equal(o.find("instance[id=products]").length,0,"somefixture instance not found:\n"+n)})),it("should sync instance name with existing instance",(function(){a.loadXML(s);var t=a.getMug("product/item"),e=a.addQuestion("Repeat","product2");e.p.dataSource={instance:{id:"products",src:"jr://fixture/commtrack:products"},idsQuery:"instance('products')/products/product/@id"},d.equal(t.p.dataSource.instance.id,"products"),d.equal(e.p.dataSource.instance.id,"products"),t.p.dataSource={instance:{id:"new-name",src:"jr://fixture/commtrack:products"},idsQuery:"instance('new-name')/products/product/@id"},d.deepEqual(t.p.dataSource,{instance:{id:"products",src:"jr://fixture/commtrack:products"},idsQuery:"instance('products')/products/product/@id"})})),it("should use jr-insert event for nested model iteration setvalues",(function(){a.loadXML(s),a.addQuestion.bind({prevId:"product/item"})("Repeat","nested").p.dataSource={instance:{id:"products",src:"jr://fixture/commtrack:products"},idsQuery:"instance('products')/products/product/@id"};var t=u("createXML"),e=a.parseXML(t),n="setvalue[ref='/data/product/";d.equal(e.find(n+"@ids']").attr("event"),"xforms-ready","wrong setvalue event for outer repeat: "+t),d.equal(e.find(n+"item/nested/@ids']").attr("event"),"jr-insert","wrong setvalue event for nested repeat: "+t)}))}))}.apply(e,a))||(t.exports=o)},2935:(t,e,n)=>{var a,o;a=[n(1134),n(8324),n(561),n(3946),n(7977)],void 0===(o=function(t,e,n,a,o){var i=e.assert;describe("Mugs",(function(){before((function(e){t.init({javaRosa:{langs:["en"]},core:{onReady:function(){e()}},features:{rich_text:!1}})})),it("should coalesce change events inside _withMessages",(function(){t.loadXML("");var e,n=t.addQuestion("Text"),a=1,o=0;function r(){n.addMessage(null,{key:"test-message",level:n.ERROR,message:"testing "+a++})}n.on("messages-changed",(function(){o+=1})),i.equal(o,0),e=n._withMessages((function(){r(),r(),i.equal(o,0)})),i(e,"not changed!"),i.equal(o,1),r(),r(),i.equal(o,3)})),it("at the top level should not be named meta",(function(){var e=[["id","type"],["meta","Group"],["meta/meta","Text"],["group","Group"],["group/meta","Group"]];t.loadXML(""),t.paste(e),a.each(e.slice(1),(function(e){var n=t.getMug(e[0]),a=n.messages.get("nodeID");/\bmeta$/.test(n.p.nodeID)?i.deepEqual(a,["'meta' is not a valid Question ID."]):i.deepEqual(a,[])}))})),it("should have a function to tell if referenced by other mugs",(function(){t.loadXML(""),t.paste([["id","type","relevantAttr"],["red","Text",""],["blue","Text","#form/red = '1'"]]);var e=t.getMug("red"),n=t.getMug("blue");i.isNotOk(n.isReferencedByOtherMugs(),"blue should not be referenced"),i.isOk(e.isReferencedByOtherMugs(),"red should be referenced"),i.isNotOk(e.isReferencedByOtherMugs([n]),"red with except=[blue] should not be referenced")})),it("should not default choice label to node ID",(function(){t.loadXML(o);var e=t.getMug("select/blank");i.equal(e.p.labelItext.get(),"","blank label itext")}))}))}.apply(e,a))||(t.exports=o)},8449:(t,e,n)=>{var a,o;a=[n(3946)],void 0===(o=function(t){var e=[{id:"commcaresession",uri:"jr://instance/session",path:"/session",name:"Session",structure:{data:{merge:!0,structure:{case_id:{reference:{hashtag:"#case",source:"casedb",subset:"case",subset_key:"@case_type",key:"@case_id"}}}},context:{merge:!0,structure:{userid:{reference:{hashtag:"#user",source:"casedb",subset:"commcare-user",subset_key:"@case_type",subset_filter:!0,key:"hq_user_id"}}}}}},{id:"casedb",uri:"jr://instance/casedb",path:"/cases/case",name:"Cases",structure:{name:{}},subsets:[{id:"grandparent",name:"grandparent (household)",key:"@case_type",structure:{address:{}}},{id:"parent",name:"parent (mother)",key:"@case_type",structure:{edd:{}},related:{parent:{hashtag:"#case/grandparent",subset:"grandparent",subset_key:"@case_type",key:"@case_id"}}},{id:"commcare-user",name:"user",key:"@case_type",structure:{role:{},username:{}}},{id:"case",name:"case (child)",key:"@case_type",structure:{dob:{description:"Date of Birth"},long:{description:"Property with a_very_long_word_in_the_description_that_exceeds_43_chars"},f_0762:{},f_1065:{},f_1089:{},f_2685:{},f_2841:{},f_3017:{},f_3280:{},f_3291:{},f_3605:{},f_4021:{},f_4793:{},f_5683:{},f_6103:{},f_6542:{},f_6819:{},f_6912:{},f_7346:{},f_7541:{},f_8612:{},f_8967:{},f_8970:{},f_9147:{},f_9814:{}},related:{parent:{hashtag:"#case/parent",subset:"parent",subset_key:"@case_type",key:"@case_id"}}}]},{id:"some-fixture",uri:"jr://fixture/item-list:some-fixture",path:"/some-fixture_list/some-fixture",name:"some-fixture-name",structure:{"inner-attribute":{structure:{"extra-inner-attribute":{}}},"@id":{no_option:!0},name:{no_option:!0}}},{id:"some-other-fixture",uri:"jr://fixture/item-list:some-other-fixture",path:"/some-other-fixture_list/some-other-fixture",name:"some-other-fixture-name",structure:{"other-inner-attribute":{no_option:!0},"@id-other":{no_option:!0},"name-other":{no_option:!0}}}];return{options:{core:{loadDelay:0,formName:"Untitled Form",allowedDataNodeReferences:["meta/deviceID","meta/instanceID","meta/username","meta/userID","meta/timeStart","meta/timeEnd","meta/location"],dataSourcesEndpoint:function(t){t(e)},invalidCaseProperties:["name"],saveType:"patch",saveUrl:function(t){},activityUrl:null,activityTimeout:3e5,externalLinks:{changeSubscription:"#"}},javaRosa:{langs:["en","hin"],displayLanguage:"en"},intents:{templates:[{icon:"fa-solid fa-location-dot",name:"Area Mapper",id:"com.richard.lu.areamapper",extra:{ext:"value"},response:{r1:"x",r2:"y",r3:"z",r4:""}},{icon:"fa fa-barcode",name:"Barcode Scanner",id:"com.google.zxing.client.android.SCAN",extra:{},response:{}},{icon:"icon-vellum-android-intent",name:"Breath Counter",id:"org.commcare.respiratory.BREATHCOUNT"},{icon:"icon-vellum-android-intent",name:"Fingerprint Scanner",id:"com.simprints.id.REGISTER",mime:"text/plain"}]},itemset:{dataSourcesFilter:function(e){return t.filter(e,(function(t){return!t.uri||/^jr:\/\/fixture\//.test(t.uri)}))}},uploader:{uploadUrls:{image:"foo",audio:"foo",video:"foo"},objectMap:{}},plugins:["databrowser","itemset","modeliteration","commtrack","saveToCase","commcareConnect","atwho"],features:{full_save_on_missing_conflict_xform:!0,lookup_tables:!0,group_in_field_list:!0,rich_text:!0,advanced_itemsets:!0,sorted_itemsets:!0,printing:!0,templated_intents:!0,custom_intents:!0,image_resize:!0,markdown_in_groups:!0,allow_data_reference_in_setvalue:!0,allow_bulk_form_actions:!0}},dataSources:e}}.apply(e,a))||(t.exports=o)},6124:(t,e,n)=>{var a,o;a=[n(8324),n(561),n(3946),n(1134),n(7417),n(7229),n(4365),n(3314),n(1972),n(1208),n(5416),n(9398),n(1737),n(5952),n(32),n(9811),n(3346),n(6276),n(7519)],void 0===(o=function(t,e,n,a,o,i,r,s,l,d,u,c,m,h,f,p,g,v,x){var b=t.assert,E=a.call,T=a.options.options.plugins||[],C=n.union(T,["itemset"]),y=n(T).without("itemset");describe("The parser",(function(){it("can detect when the itemset plugin is enabled",(function(t){a.init({plugins:C,core:{onReady:function(){b(this.isPluginEnabled("itemset"),"itemset plugin should be enabled"),t()}}})})),it("can detect when the itemset plugin is disabled",(function(t){a.init({plugins:y,core:{onReady:function(){b(!this.isPluginEnabled("itemset"),"itemset plugin should be disabled"),t()}}})})),it("should gracefully handle itemset when the itemset plugin is disabled",(function(t){a.init({plugins:y,core:{form:c,onReady:function(){var e=E("getMugByPath","/data/state");b.equal(e.__className,"Select");var n=E("createXML"),o=a.parseXML(n);b.equal(o.find("instance[id=states]").length,1,n),b.equal(o.find("itemset").attr("nodeset"),"instance('states')/state_list/state"),t()}}})})),it("should not drop newlines in calculate conditions",(function(){a.loadXML(m);var t=E("getMugByPath","/data/question1");b.equal(t.p.calculateAttr,'concat("Line 1", "\nLine 2")')}));var t=/Form (JRM namespace|does not have a (Name|(UI)?Version))/;it("should load select item without itext",(function(){a.loadXML(l,null,t);var e=E("getMugByPath","/ClassroomObservationV3/Q0003")._node_control.children[1].value;b.equal(e.p.nodeID,"other")})),it("should un-escape HTML entities in select item",(function(){a.loadXML(""),a.addQuestion("Select","select");var t=a.addQuestion("Choice","choice");t.p.nodeID="a&b<c";var e=a.call("createXML");b.include(a.call("createXML"),"a&amp;b&lt;c"),a.loadXML(e);var n=a.getMug("select");t=n.form.getChildren(n)[0],b.equal(t.p.nodeID,"a&b<c")})),it("should load mugs with relative paths and label without itext",(function(){a.loadXML(d,null,t);var e=E("getMugByPath","/data/group"),n=E("getMugByPath","/data/group/a"),o=E("getMugByPath","/data/text");b.equal(e.p.labelItext.defaultValue(),"The group"),b.equal(n.p.labelItext.defaultValue(),"The label"),b.equal(o.p.labelItext.defaultValue(),"The text"),a.assertXmlNotEqual(E("createXML"),d)})),it("should load question without bind element",(function(){a.loadXML(u)})),it("should load question with accent char in path",(function(){a.loadXML(r);var t=E("getMugByPath","#form/tèxt");b.match(a.getMessages(t),/tèxt is not a valid Question ID/)})),it("should set undefined for data value",(function(){a.loadXML(u),a.clickQuestion("text"),b(!e("[name=property-dataValue]").length)})),it("should set required correctly",(function(){a.loadXML(x);var t=a.getMug("question1");b(t.p.requiredAttr,"required is false"),b.equal(t.p.requiredCondition,void 0),b.equal(t.messages.get("requiredAttr").length,0,"requiredAttr messages"),b.equal(t.messages.get("requiredCondition").length,0,"requiredCondition messages");var e=a.getMug("question2");b(e.p.requiredAttr,"required is false"),b.equal(e.p.requiredCondition,"#form/question1 = 'hi'"),b.equal(e.messages.get("requiredAttr").length,0,"requiredAttr messages"),b.equal(e.messages.get("requiredCondition").length,0,"requiredCondition messages");var n=a.getMug("question3");b(!n.p.requiredAttr,"requiredAttr is true"),b.equal(n.p.requiredCondition,"#form/question2 = 'hello'"),b.equal(n.messages.get("requiredAttr").length,1,"requiredAttr messages"),b.equal(n.messages.get("requiredCondition").length,1,"requiredCondition messages")})),it("should not create read-only mug for child of group named 'body'",(function(){a.loadXML(s),a.assertJSTreeState("body","  text")})),describe("override",(function(){before((function(t){a.init({plugins:T,javaRosa:{langs:["en"]},core:{onReady:function(){t()}}})})),n.each({relevantAttr:"question2",constraintAttr:"question2",calculateAttr:"question3"},(function(t,e){it("should override "+e+" in question "+t,(function(){a.loadXML(h);var n=a.getMug(t);b.strictEqual(n.p[e],"#form/question1")}))})),it("should override correctly",(function(){a.loadXML(h),a.assertXmlEqual(a.call("createXML"),f)})),it("should generate hashtags correctly on first load",(function(){a.loadXML(p),a.assertXmlEqual(a.call("createXML"),f)})),describe("with two languages",(function(){before((function(t){a.init({plugins:T,javaRosa:{langs:["en","hin"]},core:{onReady:function(){t()}}})})),it("should load jr__count as jr:count",(function(){a.loadXML(g),a.assertXmlEqual(a.call("createXML"),v)}))}))}))}))}.apply(e,a))||(t.exports=o)},7154:(t,e,n)=>{var a,o;a=[n(1134),n(8324),n(561),n(3946),n(5392),n(4246)],void 0===(o=function(t,e,n,a,o,i){var r=e.assert,s=t.call;describe("Question Comments",(function(){before((function(e){t.init({javaRosa:{langs:["en"]},core:{onReady:function(){e()}}})})),it("should parse the comment",(function(){t.loadXML(i);var e=t.getMug("/data/mug");r.strictEqual(e.p.comment,"This is a comment")})),it("should display the comment",(function(){t.loadXML(i),r(n(".fd-props-toolbar > .alert-info"))})),it("should update comment without reloading",(function(){t.loadXML(i),r.strictEqual(n(".fd-question-comment").text(),"This is a comment"),n("#property-comment").val("still a comment").change(),r.strictEqual(n(".fd-question-comment").text(),"still a comment")})),it("should write the comment",(function(){t.loadXML(""),t.addQuestion("Text","mug").p.comment="This is a comment",t.assertXmlEqual(i,s("createXML"),{normalize_xmlns:!0})})),it("should not show comment the comment if there isn't one",(function(){t.loadXML(""),t.addQuestion("Text","mug"),r(!n(".fd-props-toolbar > .alert-info").is(":visible"))})),it("should display a comment once it is specified",(function(){t.loadXML(""),t.addQuestion("Text","mug").p.comment="this is a comment",r(n(".fd-props-toolbar > .alert-info").is(":visible"))}))})),describe("Section Toggler",(function(){before((function(e){t.init({javaRosa:{langs:["en"]},core:{onReady:function(){e()}}})})),it("should show and hide sections",(function(){t.loadXML(""),t.addQuestion("Text");var e=n(".fd-question-fieldset[data-slug='logic']"),a=e.is(":visible"),o=n(".fd-section-changer a[data-slug='logic']");r.strictEqual(o.hasClass("selected"),a),o.click(),r.strictEqual(e.is(":visible"),!a),r.strictEqual(o.hasClass("selected"),!a),o.click(),r.strictEqual(e.is(":visible"),a),r.strictEqual(o.hasClass("selected"),a)}))})),describe("Required Condition",(function(){before((function(e){t.init({javaRosa:{langs:["en"]},core:{onReady:function(){e()}}})})),it("should mark mug invalid if it has a required condition without being required",(function(){t.loadXML("");var e=t.addQuestion("Text");r(t.isTreeNodeValid(e),"precondition failed:\n"+t.getMessages(e));try{e.p.requiredCondition="True()",r(1===e.messages.get("requiredCondition").length,"requiredCondition doesn't have error"),r(1===e.messages.get("requiredAttr").length,"requiredAttr doesn't have error"),e.p.requiredAttr="True()",r(0===e.messages.get("requiredCondition").length,"requiredCondition has error"),r(0===e.messages.get("requiredAttr").length,"requiredAttr has error")}finally{e.p.requiredCondition="",e.p.requiredAttr=""}}))}))}.apply(e,a))||(t.exports=o)},630:(t,e,n)=>{var a,o;a=[n(8324),n(561),n(3946),n(1134),n(2660),n(1444),n(855),n(3377)],void 0===(o=function(t,e,n,a,o,i,r,s){var l=a.call,d=a.clickQuestion,u=a.addQuestion,c=t.assert,m=[{type:"Text",nodeId:"question1",attrs:{dataValue:"default data value",constraintAttr:"/data/question20 = 2",relevantAttr:"/data/question20",requiredAttr:!0},inputs:{calculateAttr:0}},{type:"Trigger",nodeId:"question2",inputs:{calculateAttr:0,constraintAttr:1,requiredAttr:0,relevantAttr:1}},{type:"Trigger",nodeId:"question30",attrs:{appearance:""}},{type:"Select",nodeId:"question3",inputs:{calculateAttr:0,constraintAttr:1,requiredAttr:1,relevantAttr:1}},{type:"MSelect",nodeId:"question6"},{type:"Int",nodeId:"question13"},{type:"PhoneNumber",nodeId:"question14"},{type:"Double",nodeId:"question15"},{type:"Long",nodeId:"question16"},{type:"Date",nodeId:"question17"},{type:"Time",nodeId:"question18"},{type:"DateTime",nodeId:"question19"},{type:"DataBindOnly",nodeId:"question20",inputs:{calculateAttr:1,constraintAttr:0,requiredAttr:0}},{type:"DataBindOnly",nodeId:"question32",attrs:{calculateAttr:"1 + 2"},inputs:{calculateAttr:1,constraintAttr:0,requiredAttr:0,relevantAttr:1}},{clickBeforeAdd:"question19",type:"Repeat",nodeId:"question22"},{type:"FieldList",path:"question22/",nodeId:"question23"},{type:"Group",path:"question22/question23/",nodeId:"question40"},{clickBeforeAdd:"question22/question23",type:"Repeat",path:"question22/question23/",nodeId:"question41"},{clickBeforeAdd:"question22/question23",type:"Image",path:"question22/question23/",nodeId:"question24"},{type:"Audio",path:"question22/question23/",nodeId:"question25"},{type:"Video",path:"question22/question23/",nodeId:"question26"},{type:"Geopoint",path:"question22/question23/",nodeId:"question27"},{type:"Secret",path:"question22/question23/",nodeId:"question28"},{type:"Signature",path:"question22/question23/",nodeId:"question29"},{type:"Document",path:"question22/question23/",nodeId:"question33"},{type:"AndroidIntent",path:"question22/question23/",nodeId:"question7"},{type:"MicroImage",path:"question22/question23/",nodeId:"question35"},{clickBeforeAdd:"question19",type:"Group",nodeId:"question21"},{type:"Repeat",path:"question21/",nodeId:"question31",attrs:{repeat_count:2}}];describe("Vellum",(function(){describe("on load XML",(function(){before((function(t){a.init({core:{form:o,onReady:function(){t()}},features:{case_micro_image:!0,use_custom_repeat_button_text:!0}})})),it("preserves all question types and attributes",(function(){a.assertXmlEqual(a.call("createXML"),o)})),n.each(m,(function(t,e){var o=t.nodeId;describe("with "+t.type+"["+o+"]",(function(){before((function(n){e>0&&d((t.path||"")+o),n()})),it("should be selected when clicked",(function(){c.equal(l("getCurrentlySelectedMug").p.nodeID,o)})),n.each(t.attrs||{},(function(t,e){it("should show 1 input for "+e,(function(){a.assertInputCount(e,1,o)}))})),n.each(t.inputs||{},(function(e,n){t.attrs&&t.attrs.hasOwnProperty(n)?c.equal(e,1,"test configuration conflict for "+n):it("should show "+e+" inputs for "+n,(function(){a.assertInputCount(n,e,o)}))}))}))}))})),it("adds all question types and attributes",(function(t){this.timeout(1e4),a.init({features:{templated_intents:!0,custom_intents:!0,use_custom_repeat_button_text:!0},core:{form:null,onReady:function(){function i(){n.each(["image","audio","video","video-inline"],(function(t){e(".btn.itext-block-label-add-form-"+t).click(),e(".btn.itext-block-constraintMsg-add-form-"+t).click(),e(".btn.itext-block-help-add-form-"+t).click()})),e(".btn:contains(long)").click(),e(".btn:contains(short)").click(),e(".btn:contains(custom)").click(),e(".fd-modal-generic-container").find("input").val("custom"),e(".fd-modal-generic-container").find(".btn:contains(Add)").click()}this.data.core.form.richText=!1,n.each(m,(function(t,e){var n=e>0?m[e-1]:{},a=t.clickBeforeAdd||(n.nodeId?(n.path||"")+n.nodeId:null);u.call({prevId:a},t.type,t.nodeId,t.attrs)})),d("question1"),i(),e("[name='itext-en-label']").val("question1 en label").change(),e("[name='itext-hin-label']").val("question1 hin label").change(),e("[name='itext-en-constraintMsg']").val("question1 en validation").change(),e("[name='itext-hin-constraintMsg']").val("question1 hin validation").change(),e("[name='itext-en-hint']").val("question1 en hint").change(),e("[name='itext-hin-hint']").val("question1 hin hint").change(),e("[name='itext-en-help']").val("question1 en help").change(),e("[name='itext-hin-help']").val("question1 hin help").change(),e("[name='itext-en-label-long']").val("question1 en long").change(),e("[name='itext-hin-label-long']").val("question1 hin long").change(),e("[name='itext-en-label-short']").val("question1 en short").change(),e("[name='itext-hin-label-short']").val("question1 hin short").change(),e("[name='itext-en-label-custom']").val("question1 en custom").change(),e("[name='itext-hin-label-custom']").val("question1 hin custom").change(),e("[name='property-comment']").val("question 1 comment\n* with __markdown__").change(),d("question2"),e("[name='property-comment']").val("question 2 comment").change(),d("question3"),u("Choice","choice1"),u("Choice","choice2"),d("question3/choice1"),i(),e("[name='itext-en-label-long']").val("choice1 long en").change(),e("[name='itext-hin-label-long']").val("choice1 long hin").change(),e("[name='itext-en-label-short']").val("choice1 short en").change(),e("[name='itext-hin-label-short']").val("choice1 short hin").change(),e("[name='itext-en-label-custom']").val("choice1 custom en").change(),e("[name='itext-hin-label-custom']").val("choice1 custom hin").change(),d("question22"),e("[name='itext-en-addEmptyCaption']").val("add new").change(),e("[name='itext-en-addCaption']").val("add another").change(),d("question22/question23/question7"),e("[name='property-androidIntentAppId']").val("").change(),e("[name='property-androidIntentAppId-text']").val("app_id").change(),e("[name='property-androidIntentExtra'] .fd-kv-key").val("key1").change(),e("[name='property-androidIntentExtra'] .fd-kv-val").val("value1").change(),e("[name='property-androidIntentResponse'] .fd-kv-key").val("key2").change(),e("[name='property-androidIntentResponse'] .fd-kv-val").val("value2").change(),a.assertXmlEqual(l("createXML"),o.replace(' foo="bar"',"").replace(' spam="eggs"',"").replace(' foo="baz"',"").replace(/<unrecognized>[\s\S]+<\/unrecognized>/,"").replace("non-itext label","").replace("non-itext hint","").replace(/<instance[^>]+?casedb[^>]+?><\/instance>/,"").replace(/<setvalue[^>]+?>/,""),{normalize_xmlns:!0}),d("question1"),t()}}})})),describe("can",(function(){var t=["Text","Select","MSelect","Audio","Video","Image","Document"],e={Trigger:"minimal",PhoneNumber:"numeric",Signature:"signature"},o=[["Trigger",t],["PhoneNumber",t],["Signature",t]],i=[["Trigger",n.omit(e,"Trigger")],["PhoneNumber",n.omit(e,"PhoneNumber")],["Signature",n.omit(e,"Signature")]];function r(t,e){var n=t.indexOf(" + Choices")>-1,o=(t=n?t.replace(" + Choices",""):t)+(n?"_Choices":"")+"_to_"+e,i=u(t,o);return t.indexOf("Select")>-1&&-1===t.indexOf("Dynamic")&&n&&(a.addQuestion("Choice","choice1"),a.addQuestion("Choice","choice2"),a.clickQuestion(o)),c.equal(i.p.nodeID,o,"got wrong mug before changing type"),c.equal(i.__className,t,"wrong mug type"),i}function s(t,e){var n=t.indexOf(" + Choices")>-1,o=(t=n?t.replace(" + Choices",""):t)+(n?"_Choices":"")+"_to_"+e;a.deleteQuestion(o)}before((function(t){a.init({features:{rich_text:!1},core:{onReady:function(){t()}}})})),n.each([["Select","Text"],["MSelect","Text"],["Select","SelectDynamic"],["Select","MSelectDynamic"],["MSelect","SelectDynamic"],["MSelect","MSelectDynamic"],["SelectDynamic","MSelectDynamic"],["MSelectDynamic","SelectDynamic"],["Select","MSelect"],["MSelect","Select"],["Select + Choices","MSelect"],["MSelect + Choices","Select"]],(function(t){var e=t[0],n=t[1];it("change "+e+" to "+n,(function(){var t=r(e,n);l("changeMugType",t,n),t=a.getMug(t.p.nodeID),c.equal(t.__className,n),a.loadXML(l("createXML")),t=a.getMug(t.p.nodeID),c.equal(t.__className,n),s(e,n)}))})),n.each([["MSelect + Choices","Text"],["Select + Choices","Text"],["Select + Choices","SelectDynamic"],["Select + Choices","MSelectDynamic"],["MSelect + Choices","SelectDynamic"],["MSelect + Choices","MSelectDynamic"]],(function(t){var e=t[0],n=t[1];it("not change "+e+" to "+n,(function(){var t=r(e,n),o=!0;try{l("changeMugType",t,n),o=!1}catch(t){c(String(t).indexOf("Cannot change")>0,String(t))}c(o,"Error not raised when changing "+e+" to "+n),t=a.getMug(t.p.nodeID),c.equal(t.__className,e.replace(" + Choices","")),s(e,n)}))})),n.each(o,(function(t){var e=t[0];n.each(t[1],(function(t){it("should remove appearance attribute when changing "+e+" to "+t,(function(){var n=r(e,t);l("changeMugType",n,t),n=a.getMug(n.p.nodeID),c.equal(n.__className,t),c.equal(n.p.appearance,void 0),l("loadXML",l("createXML")),n=a.getMug(n.p.nodeID),c.equal(n.__className,t),s(e,t)}))}))})),n.each(i,(function(t){var e=t[0];n.each(t[1],(function(t,n){it("should change appearance attribute when changing "+e+" to "+n,(function(){var o=r(e,n);l("changeMugType",o,n),o=a.getMug(o.p.nodeID),c.equal(o.__className,n),c.equal(o.p.appearance,t),l("loadXML",l("createXML")),o=a.getMug(o.p.nodeID),c.equal(o.__className,n),s(e,n)}))}))})),it("should change back and forth between dynamic types without side effects",(function(){var t="MSelectDynamic",e="SelectDynamic",n=r(t,e),o=l("createXML");l("changeMugType",n,e);var i=l("createXML");l("changeMugType",n,t),a.assertXmlEqual(l("createXML"),o,{normalize_xmlns:!0}),l("changeMugType",n,e),a.assertXmlEqual(l("createXML"),i,{normalize_xmlns:!0}),s(t,e)}))})),it("question type change survives save + load",(function(){a.loadXML(""),u("Text","question");var t=l("getMugByPath","/data/question");l("changeMugType",t,"Trigger"),a.saveAndReload((function(){t=l("getMugByPath","/data/question"),c.equal(t.__className,"Trigger")}))})),it("changing type from required Text to Label removes required attribute",(function(){a.loadXML(""),u("Text","question",{requiredAttr:"true()"});var t=a.getMug("question");l("changeMugType",t,"Trigger"),c.equal(t.p.requiredAttr,void 0)})),it("should allow user to view longs but not add them",(function(){a.loadXML(""),a.addQuestion("Long","long"),a.addQuestion("Int","int"),a.assertJSTreeState("long","int");var t=e(".fd-question-changer");t.children("a").click(),c.equal(t.find("[data-qtype='Text']").length,1),c.equal(t.find("[data-qtype='Long']").length,0);var n=e(".fd-add-question-dropdown");c.equal(n.find("[data-qtype='Text']").length,1),c.equal(n.find("[data-qtype='Long']").length,0)})),it("prevents changing selects with children to non-selects",(function(){a.loadXML(""),a.addQuestion("Select","question1"),a.addQuestion("Choice","choice1"),a.addQuestion("Choice","choice2"),a.clickQuestion("question1");var t=".fd-question-changer";e(t+" > a").click();var n=e(t+" .change-question");c.equal(n.length,1),c.equal(n.length,n.filter("[data-qtype*='Select']").length),a.deleteQuestion("question1/choice1"),a.deleteQuestion("question1/choice2"),a.clickQuestion("question1"),c.ok(e(t+" .change-question:not([data-qtype*='Select'])").length>0)})),it("adds and removes the add choice action when type changes",(function(){a.loadXML(""),a.addQuestion("Text","question1");var t=".fd-question-changer";e(t+" > a").click();var n=e(t+" .change-question");n.filter("[data-qtype='Select']").click(),c.strictEqual(e(".add_choice").length,1),a.addQuestion("Text","question2"),e(".add_choice").click(),e(".add_choice").click();var o=l("getCurrentlySelectedMug");c(!o.messages.get().length,"New mug should have no errors"),c(!o.p.nodeID,"New mug shouldn't have an id"),c(!o.p.labelItext.get(),"New mug shouldn't have a label"),a.assertJSTreeState("question1","  choice1","  ","question2"),o.form.vellum.ensureCurrentMugIsSaved(),a.deleteQuestion("question1/choice1"),a.deleteQuestion("question1/choice2"),d("question1"),e(t+" > a").click(),(n=e(t+" .change-question")).filter("[data-qtype='Text']").click(),c.strictEqual(e(".add_choice").length,0)})),it("gives select questions an add choice action",(function(){a.loadXML("");var t=a.addQuestion("Select","question1");c.strictEqual(e(".add_choice").length,1),e(".add_choice").click(),t.form.vellum.ensureCurrentMugIsSaved(),d("question1/choice1"),a.assertJSTreeState("question1","  choice1")})),it("gives select questions in loaded XML an add choice action",(function(){a.loadXML(s),c.strictEqual(e(".add_choice").length,1)})),it("should show error on delete validation condition but not message",(function(){a.loadXML("");var t=a.addQuestion("Text","text");t.p.constraintAttr="a = b",t.p.constraintMsgItext.set("A != B"),t.p.constraintAttr="",c(!a.isTreeNodeValid(t),"question should not be valid")})),it("should require a repeat_count when inside of a question list",(function(){a.loadXML(""),a.addQuestion("FieldList","fieldlist");var t=a.addQuestion("Repeat","repeat");c.notStrictEqual(t.spec.repeat_count.validationFunc(t),"pass","question should not be valid")})),it("should require a repeat_count when inside of a group in a question list",(function(){a.loadXML(""),a.addQuestion("FieldList","fieldlist"),a.addQuestion("Group","group");var t=a.addQuestion("Repeat","repeat");c.notStrictEqual(t.spec.repeat_count.validationFunc(t),"pass","question should not be valid")})),it("should not require a repeat_count when inside of a group",(function(){a.loadXML(""),a.addQuestion("Group","group");var t=a.addQuestion("Repeat","repeat");c.strictEqual(t.spec.repeat_count.validationFunc(t),"pass","question should be valid")}))})),describe("Image Questions",(function(){it("should default to small image size",(function(){a.loadXML("");var t=a.addQuestion("Image","image");c.strictEqual(t.p.imageSize,250)})),it("should select original size if there is no option",(function(){a.loadXML(i);var t=l("getMugByPath","/data/image");c.strictEqual(t.p.imageSize,"")}))})),describe("Select questions",(function(){before((function(t){a.init({core:{onReady:function(){t()}}})})),it("should not write the type",(function(){a.loadXML(s),a.assertXmlEqual(a.call("createXML"),r)}))})),describe("Micro-Image question",(function(){it("should have correct options set",(function(){a.loadXML("");var t=a.addQuestion("MicroImage","microimage");c.strictEqual(t.options.mediaType,"image/*"),c.strictEqual(t.options.tagName,"input"),c.strictEqual(t.p.appearance,"micro-image")}))}))}.apply(e,a))||(t.exports=o)},2686:(t,e,n)=>{var a,o;a=[n(8324),n(561),n(3946),n(1134),n(4459),n(3876),n(8916),n(3417),n(2933),n(1033),n(5053)],void 0===(o=function(t,e,n,a,o,i,r,s,l,d,u){var c,m=t.assert,h=a.call,f=[{id:"commcaresession",uri:"jr://instance/session",path:"/session/data",name:"Session",structure:{case_id:{reference:{hashtag:"#case",source:"casedb",subset:"case",subset_key:"@case_type",key:"@case_id"}}}},{id:"casedb",uri:"jr://instance/casedb",path:"/cases/case",name:"Cases",structure:{name:{}},subsets:[{id:"parent",name:"parent",key:"@case_type",structure:{edd:{}}},{id:"case",name:"child",key:"@case_type",structure:{case:{},dob:{},f_1065:{}},related:{parent:{hashtag:"#case/parent",subset:"parent",subset_key:"@case_type",key:"@case_id"}}}]}];function p(t){return t.startsWith("fa-")?e("<i>").addClass(t).html("&nbsp;"):e("<i>").addClass("fcc "+t).html("&nbsp;")}function g(){return p("fcc-fd-case-property")}function v(t,a,o,i){var r=e("<span>").addClass("label label-datanode").attr({"data-value":t});return i&&!n.isString(i)?r.addClass("label-datanode-internal"):"case"===i||c.isValidHashtag(t)?r.addClass("label-datanode-external"):c.hasValidHashtagPrefix(t)?r.addClass("label-datanode-external-unknown"):r.addClass("label-datanode-unknown"),r.append(o).append(a)}function x(t){return'<output value="'+t+'"></output>'}function b(t){return e("<div>").append(t)}function E(t){return b(e("<p>").append(t))}function T(t){return b(t).html()}function C(t){a.init({javaRosa:{langs:["en"]},core:{dataSourcesEndpoint:function(t){t(f)},onReady:function(){a.addQuestion("Text","text"),a.addQuestion("Text","othertext"),a.addQuestion("Date","date"),a.addQuestion("Group","group"),c=this.data.core.form,t()}}})}describe("Rich text utilities",(function(){before(C),describe("simple conversions",(function(){var t=[["#form/text","text",p("fcc-fd-text"),!0],["#case/case","case",g(),!1],["#case/parent/edd","edd",g(),!1],["#case/parent/unknown","unknown",p("fa-solid fa-triangle-exclamation"),!1]],e={isExpression:!0};n.each(t,(function(t){it("from text to html: "+t[0],(function(){m.strictEqual(o.toRichText(t[0],c,e),E(v(t[0],t[1],t[2],t[3])).html())})),it("from text to html with output value: "+t[0],(function(){m.strictEqual(o.toRichText(x(t[0]),c),E(v(t[0],t[1],t[2],t[3])).html())}))}))})),describe("date conversions",(function(){var t=[{xmlValue:"format-date(date(#form/date), '%d/%n/%y')",valueInBubble:"#form/date",bubbleDispValue:"date",icon:p("fa-solid fa-calendar-days"),internalRef:!0,extraAttrs:{"data-date-format":"%d/%n/%y"}}];n.each(t,(function(t){it("from text to html with output value: "+t.xmlValue,(function(){m.equal(o.toRichText(x(t.xmlValue),c),E(v(t.valueInBubble,t.bubbleDispValue,t.icon,t.internalRef).attr(t.extraAttrs)).html())}))})),it("bubble a drag+drop reference",(function(){var t="%d/%n/%y",n=i.getOutputRef("#form/text",t),a=o.toRichText(n,c);m.strictEqual(e(a).find("span").data("date-format"),t)}))})),describe("equation conversions",(function(){var t="#case/f_1065",e=p("fcc-fd-text"),a={isExpression:!0},i=[["#form/text = #form/othertext",T(v("#form/text","text",e,!0))+" = "+T(v("#form/othertext","othertext",e,!0))],["#form/text <= #form/othertext",T(v("#form/text","text",e,!0))+" <= "+T(v("#form/othertext","othertext",e,!0))],[t+" = "+t,T(v(t,"f_1065",p("fcc-fd-case-property"),"case"))+" = "+T(v(t,"f_1065",p("fcc-fd-case-property"),"case"))]];n.each(i,(function(t){it("from text to html: "+t[0],(function(){m.strictEqual(o.toRichText(t[0],c,a),"<p>"+t[1]+"</p>")}))}))})),describe("text conversions",(function(){var t='<span data-cke-copybin-start="1">​</span><p>',e=t+'<span id="cke_bm_909S" style="display: none;">&nbsp;</span>',a='<span tabindex="-1" contenteditable="false" data-cke-widget-wrapper="1" data-cke-filter="off" class="cke_widget_wrapper cke_widget_inline cke_widget_bubbles cke_widget_wrapper_label-datanode-external cke_widget_wrapper_label-datanode cke_widget_wrapper_label cke_widget_selected" data-cke-display-name="span" data-cke-widget-id="0" role="region" aria-label="span widget"><span class="label label-datanode label-datanode-external cke_widget_element" data-value="#case/dob" data-cke-widget-data="%7B%22classes%22%3A%7B%22label-datanode-external%22%3A1%2C%22label-datanode%22%3A1%2C%22label%22%3A1%7D%7D" data-cke-widget-upcasted="1" data-cke-widget-keep-attr="0" data-widget="bubbles"><i class="fcc fcc-fd-case-property">&nbsp;</i>dob</span><span class="cke_reset cke_widget_drag_handler_container" style="background: url(&quot;http://localhost:8088/src/../lib/ckeditor/plugins/widget/images/handle.png&quot;) rgba(220, 220, 220, 0.5); width: 43px; height: 16px; left: 2px; top: -14px;"><img class="cke_reset cke_widget_drag_handler" data-cke-widget-drag-handler="1" src="data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==" width="15" title="Click and drag to move" height="15" role="presentation" draggable="true"></span></span>',i='</p><span data-cke-copybin-end="1">​</span>',r=[["blah\nblah","<p>blah</p><p>blah</p>"],["blah\nblah\n","<p>blah</p><p>blah</p><p>&nbsp;</p>"],["blah\n\nblah\n\n","<p>blah</p><p>&nbsp;</p><p>blah</p><p>&nbsp;</p><p>&nbsp;</p>"],["list\n* item\n* item","<p>list</p><p>* item</p><p>* item</p>"],["list\n\n* item\n* item","<p>list</p><p></p><p>* item</p><p>* item</p>"],["list\n\n\n* item\n* item","<p>list</p><p></p><p></p><p>* item</p><p>* item</p>"],[" "," "],["   ","   "],["   "," &nbsp; "],["' ,","'​,"],['This dob: <output value="#case/dob" /> is of child',e+"This dob:&nbsp;"+a+" is of child"+i],['This dob: <output value="#case/dob" />',e+"This dob:&nbsp;"+a+i],['<output value="#case/dob" /> is of child',e+a+" is of child"+i],['<output value="#case/dob" />',t+a+i],['This dob: <output value="#case/dob" /> is of child','This dob: &lt;output value="#case/dob" /&gt; is of child']];n.each(r,(function(t){it("from html to text: "+JSON.stringify(t[1]),(function(){m.strictEqual(o.fromRichText(t[1]),t[0])}))})),n.each(r,(function(t){it("(text -> html -> text): "+JSON.stringify(t[0]),(function(){m.strictEqual(o.fromRichText(o.toRichText(t[0],c)),t[0])}))}))})),describe("doesn't convert",(function(){var t={isExpression:!0};n.each(["instance('casedb')/cases/case[@case_id = instance('casedb')/cases/case[@case_id = instance('commcaresession')/session/data/case_id]/index/parent]/edd[@other = 'blah']","/data/group[@prop = 'something']","instance('casedb')/cases/case[@case_id = /data/blah]"],(function(e){it("from text to html: "+e,(function(){m.strictEqual(o.toRichText(e,c,t),"<p>"+e+"</p>")}))}))})),describe("convert value with output and escaped HTML",(function(){var t=p("fcc-fd-text");n.each([['<h1><output value="#form/text" /></h1>',"&lt;h1&gt;{text}&lt;/h1&gt;"],['<output value="#form/text" /> <tag /> <output value="#form/othertext" />',"{text} &lt;tag /&gt; {othertext}"],["{blah}","{blah}"],['<output value="unknown(#form/text)" />','&lt;output value="unknown(#form/text)" /&gt;'],['<output value="#form/text + now()" />','&lt;output value="#form/text + now()" /&gt;'],['<output value="concat(1, 2" />','&lt;output value="concat(1, 2" /&gt;'],["<output value=\"#form/question,'-label')\" />","&lt;output value=\"#form/question,'-label')\" /&gt;"],["<output />","&lt;output /&gt;"]],(function(e){it("to text: "+e[0],(function(){var n=o.bubbleOutputs(e[0],c,!0),a=e[1].replace(/{(.*?)}/g,(function(e,n){return c.getIconByPath("#form/"+n)?v("#form/"+n,n,t,!0)[0].outerHTML:e}));m.equal(n,a)}))}))})),describe("serialize formats correctly",(function(){it("should handle output refs",(function(){m.equal(o.applyFormats({value:"#case/f_2685"}),'&lt;output value="#case/f_2685" /&gt;')})),it("should handle dates",(function(){m.equal(o.applyFormats({dateFormat:"%d/%n/%y",value:"#form/question1"}),"&lt;output value=\"format-date(date(#form/question1), '%d/%n/%y')\" /&gt;")}))})),describe("invalid xpath unescaper",(function(){it("should pass through xpath not marked as invalid",(function(){m.equal(o.unescapeXPath("/data/valid",c),"/data/valid")})),n.each({"#invalid/xpath `#form/text` xpath":"/data/text xpath","#invalid/xpath `#form/text`xpath":"/data/text xpath"},(function(t,e){it("should unescape invalid xpath: "+e+" -> "+t,(function(){m.equal(o.unescapeXPath(e,c),t)}))}))}))})),describe("The rich text editor",(function(){before(C),describe("",(function(){var t,a,i,r,l=e("<div id='cktestparent'><div contenteditable></div><div contenteditable></div></div>"),d={isExpression:!1};function u(t,e,n){var a,o=new s.dom.domObject(t[0]),i=s.plugins.clipboard.dataTransfer;function r(t,e){i.call(this,t,e),a=this._.data}r.prototype=i.prototype,s.plugins.clipboard.dataTransfer=r;try{o.fire("copy",new s.dom.event({}))}finally{s.plugins.clipboard.dataTransfer=i}m.equal(a.Text,e,"text/plain"),m.strictEqual(a["text/html"],void 0,"text/html"),setTimeout(n,100)}before((function(n){e("body").append(l),t=l.children().first(),a=o.editor(t,c,d),i=e(l.children()[1]),r=o.editor(i,c,{isExpression:!0}),t.promise.then((function(){i.promise.then((function(){n()}))}))})),beforeEach((function(t){a.setValue("",(function(){r.setValue("",(function(){t()}))}))})),after((function(){a.destroy(),r.destroy(),m.equal(e("#cktestparent").length,1),l.remove(),m.equal(e("#cktestparent").length,0)})),it("should be accessible via various jquery paths",(function(n){var i=a,r=o.editor(t);m.equal(i,r),i.setValue("test",(function(){m.equal(r.getValue(),"test");var t=e("#cktestparent").children().first();m.equal(o.editor(t),i),n()}))})),it("should return just-set value on get value",(function(){var t='<output value="#form/text" />';m.notEqual(a.getValue(),t),a.setValue(t),m.equal(a.getValue(),t)})),it("should create output on insert expression into label editor",(function(t){a.setValue("one two",(function(){m.equal(a.getValue(),"one two"),a.select(3),a.insertExpression("#form/text"),m.equal(a.getValue(),'one<output value="#form/text" />  two'),t()}))})),it("should insert output into label editor",(function(t){var e='<output value="#form/text" />';a.setValue("one two",(function(){m.equal(a.getValue(),"one two"),a.select(3),a.insertOutput(e),m.equal(a.getValue(),"one"+e+"  two"),t()}))})),it("should not copy output value from label to expression editor",(function(e){var n='<output value="#form/text" />';a.setValue(n,(function(){m.equal(a.getValue(),n);var o=t.ckeditor().editor.getData();m(/^<p><span .*<.span><.p>$/.test(o),o),i.ckeditor().editor.setData(o,(function(){m.equal(r.getValue(),"#form/text"),e()}))}))})),it("should copy output value from expression editor to label",(function(e){r.setValue("#form/text",(function(){m.equal(r.getValue(),"#form/text");var n=i.ckeditor().editor.getData();m(/^<p><span .*<.span><.p>$/.test(n),n),t.ckeditor().editor.setData(n,(function(){m.equal(a.getValue(),'<output value="#form/text" />'),e()}))}))})),it("should not paste style content into editor",(function(){t.ckeditor().editor.execCommand("paste",'<style type="text/css">\x3c!--td--\x3e</style><span>A</span>'),m.equal(a.getValue(),"A")}));var h="if(today() + (#case/dob - 3), #form/text, 0)";it("should copy output tag from rich text editor",(function(e){a.setValue('Weight: <output value="#form/text" /> grams',(function(){a.select(6,3),u(t,': <output value="#form/text" />',(function(){e()}))}))})),it("should copy expression with hashtags from expression editor",(function(t){r.setValue(h,(function(){r.select(11,4),u(i,"+ (#case/dob",(function(){t()}))}))}));var f=h.replace("#case/dob","XXXX");function g(t){return function(e){return t.apply(this,e)}}n.each([[1,f,14,4,{text:"#case/dob"}],[1,f,11,7,{text:"+ (#case/dob"}],[1,f,11,7,{text:"< (#case/dob"}],[1,f,11,7,{html:"<span>+ (#case/dob</span>"}],[1,f,11,7,{html:"<meta charset='utf-8'>+ (#case/dob"}]],(function(e){var a=e[0],r=e[1],l=e[2],d=e[3],u=e[4],h=u.text||u.html.replace(/<.*?>/g,""),f=JSON.stringify(u),p={isExpression:!0};it("should paste "+(a?"expression":"text")+": "+f,(function(e){var f=a?i:t,g=o.editor(f),v=r.substring(l,l+d);g.setValue(r,(function(){g.select(l,d),function(t,e,a){var o=t.ckeditor().editor,i=o.editable(),r={types:[],files:s.env.ie&&s.env.version<10?void 0:[],_data:{},setData:function(t,e){if(s.env.ie&&"Text"!==t&&"URL"!==t)throw"Unexpected call to method or property access.";s.env.ie&&s.env.version>9&&"URL"===t||("text/plain"===t||"Text"===t?(this._data["text/plain"]=e,this._data.Text=e):this._data[t]=e,this.types.push(t))},getData:function(t){if(s.env.ie&&"Text"!==t&&"URL"!==t)throw"Invalid argument.";return void 0===this._data[t]||null===this._data[t]?"":this._data[t]}},l=function(t,e){var n=new s.dom.node(t);return{$:{ctrlKey:!0,clipboardData:s.env.ie?void 0:e},preventDefault:function(){},getTarget:function(){return n},setTarget:function(t){n=t}}}(t[0],r),d={html:"text/html",text:"Text"};if(n.isEmpty(e))throw new Error("bad paste: no data");n.each(e,(function(t,e){if(!d.hasOwnProperty(e))throw new Error("bad paste type: "+e);r.setData(d[e],t)})),o.once("afterPaste",(function(){a(o.getData())}),null,null,100),i.fire("paste",l)}(f,u,(function(t){m.equal(t,o.toRichText(r,c,p).replace(v,function(t){var e={"<":"&lt;",">":"&gt;",'"':"&quot;","\n":"<br />"};return t.replace(/[<>"&\n]/g,(function(t){return e[t]}))}(h))),m.equal(g.getValue(),r.substring(0,l)+h+r.substring(l+d)),e()}))}))}))}));var x=[["= two",0,"#form/text = two"],["one two",3,"#invalid/xpath one`#form/text`  two"],["one two",4,"#invalid/xpath one `#form/text` two"],["one\n\ntwo",3,"#invalid/xpath one`#form/text` \n\ntwo"],["one\n\ntwo",4,"#invalid/xpath one\n`#form/text` \ntwo"],["one``two",4,"#invalid/xpath one```#form/text` ``two"],["`one  two",5,"#invalid/xpath ``one `#form/text`  two"],["one =  ",6,"one = #form/text  "]];n.each(x,g((function(t,e,n){var a=JSON.stringify(n);it("should insert expression into expression at "+e+": "+a,(function(a){r.setValue(t,(function(){m.equal(r.getValue(),t),r.select(e),r.insertExpression("#form/text"),m.equal(r.getValue(),n),a()}))}))}))),n.each(x,g((function(t,e,n){var a=JSON.stringify(n);it("should make bubbles on converting to rich text: "+a,(function(){var a=o.toRichText(n,c,{isExpression:!0}),i=v("#form/text","text",p("fcc-fd-text"),!0),r=(t.slice(0,e)+T(i)+" "+t.slice(e)).replace(/  $/,"").replace(/  /g," &nbsp;").replace(/\n/g,"</p><p>");m.equal(a,"<p>"+r+"</p>")}))})))})),describe("in vellum",(function(){var t;describe("",(function(){beforeEach((function(e){a.init({javaRosa:{langs:["en"]},form:"",core:{onReady:function(){a.addQuestion("Text","text"),(t=a.getWidget("itext-en-label")).input.promise.then((function(){e()}))}},features:{rich_text:!0}})})),it("should show the markdown preview",(function(n){var a=t.handleChange;t.setValue("# blah",(function(){a(),m(e(".has-markdown").length),n()}))})),it("should allow editing of validation message",(function(){var t=a.getMug("text"),n=e("[name=itext-en-constraintMsg]");t.p.constraintAttr=".",n.focus(),m(n[0].isContentEditable)})),it("should not write empty attributes",(function(){a.loadXML(l),a.getMug("total_num_burpees").p.relevantAttr="",a.assertXmlEqual(h("createXML"),l)})),it("cursor should be at end of input on focus",(function(){var n=t.input.editor;t.setValue("testing cursor"),n.on("instanceReady",(function(){e("[name=property-nodeID]").focus(),n.focus();var t=n.getSelection(!0);m.strictEqual(t.getNative().focusOffset,14)}))})),it("should change output ref to output value",(function(){a.loadXML(d),a.assertXmlEqual(h("createXML"),u)})),it("should bubble various case properties",(function(){a.loadXML("");var t=a.getWidget("itext-en-label"),n=e(".fd-textarea[name='itext-en-label']");t.input.promise.then((function(){t.setValue('<output value="#case/not_a_child" /><output value="#case/not_a_thing" /><output value="#case/dob" />'),m.strictEqual(n.find(".label-datanode-external-unknown").length,1),m.strictEqual(n.find(".label-datanode-external").length,1),m.strictEqual(n.find(".label-datanode-unknown").length,1)}))})),it("should have native spellchecking on labels",(function(){m.strictEqual(e("[name=itext-en-label]").attr("spellcheck"),"true")})),it("should not have native spellchecking on xpaths",(function(){m.strictEqual(e("[name=property-relevantAttr]").attr("spellcheck"),"false")}))})),describe("popovers",(function(){before((function(t){a.init({javaRosa:{langs:["en"]},form:"",core:{onReady:function(){t()}},features:{rich_text:!0,disable_popovers:!1}})})),it("should show xpath and tree reference link on popover",(function(t){a.loadXML(l),a.clickQuestion("total_num_burpees"),a.getWidget("property-calculateAttr").input.promise.then((function(){var n=e('div[contenteditable="true"] [data-toggle="popover"]').first();m(n.length,"No bubbles detected"),e(document).one("shown.bs.popover",(function(){try{var n=e(".popover-content").last();m.strictEqual(n.find("p").first().text(),"How many burpees did you do on #form/new_burpee_data/burpee_date ?");var a=n.find("a");m(a.length),a.click(),m.strictEqual(e(".jstree-hovered").length,1),t()}finally{e(".popover").remove()}})),n.mouseenter()}))}))}))}))}))}.apply(e,a))||(t.exports=o)},7719:(t,e,n)=>{var a,o;a=[n(1134),n(8324),n(561),n(3946),n(8610),n(9091),n(9347),n(4258),n(4235),n(6350),n(2330),n(770),n(3842),n(3348)],void 0===(o=function(t,e,n,a,o,i,r,s,l,d,u,c,m,h){var f=e.assert,p=t.call;describe("The SaveToCase module",(function(){before((function(e){t.init({javaRosa:{langs:["en"]},core:{onReady:function(){e()}}})})),it("should load and save a create property",(function(){t.loadXML(i);var e=t.getMug("save_to_case"),n=e.p.createProperty;f.equal(n.case_type.calculate,"caseType"),f.equal(n.case_name.calculate,"/data/name"),f.equal(e.p.useCreate,!0),f.equal(n.owner_id.calculate,"/data/meta/userID"),f.equal(e.p.date_modified,"/data/meta/timeEnd"),f.equal(e.p.user_id,"/data/meta/userID"),t.assertXmlEqual(p("createXML"),i)})),it("should load and save a close property",(function(){t.loadXML(r);var e=t.getMug("save_to_case");f.equal(e.p.useClose,!0),f.equal(e.p.closeCondition,"1=1"),f.equal(e.p.date_modified,"/data/meta/timeEnd"),f.equal(e.p.user_id,"/data/meta/userID"),f.equal(e.p.case_id,"/data/meta/caseID"),t.assertXmlEqual(p("createXML"),r)})),it("should load and save a update property",(function(){t.loadXML(s);var e=t.getMug("save_to_case");f.equal(e.p.useUpdate,!0),f(a.isEqual(e.p.updateProperty,{name:{relevant:"/data/name != ''",calculate:"/data/name"},"dash-dash":{calculate:"'-'"}})),f.equal(e.p.date_modified,"/data/meta/timeEnd"),f.equal(e.p.user_id,"/data/meta/userID"),f.equal(e.p.case_id,"/data/meta/caseID"),t.assertXmlEqual(p("createXML"),s)})),it("should load and save a index property",(function(){t.loadXML(l);var e=t.getMug("save_to_case");f.equal(e.p.useIndex,!0),f(a.isEqual(e.p.indexProperty,{extension:{calculate:"/data/meta/caseID",case_type:"extension_case",relationship:"extension"}})),t.clickQuestion("save_to_case"),f.strictEqual(e.spec.indexProperty.validationFunc(e),"pass"),f.equal(e.p.date_modified,"/data/meta/timeEnd"),f.equal(e.p.user_id,"/data/meta/userID"),f.equal(e.p.case_id,"/data/meta/caseID"),t.assertXmlEqual(p("createXML"),l)})),it("should load and save a attachment property",(function(){t.loadXML(d);var e=t.getMug("save_to_case");f.equal(e.p.useAttachment,!0),f(a.isEqual(e.p.attachmentProperty,{attach:{calculate:"/data/question1",from:"local",name:"name"}})),f.equal(e.p.date_modified,"/data/meta/timeEnd"),f.equal(e.p.user_id,"/data/meta/userID"),f.equal(e.p.case_id,"/data/meta/caseID"),t.assertXmlEqual(p("createXML"),d)})),it("should load and save the case type property",(function(){t.loadXML(u);var e=t.getMug("save_to_case");f.isOk(e,"save_to_case mug should exist"),t.assertXmlEqual(p("createXML"),u)})),it("should support two questions with same name",(function(){t.loadXML(h);var e=t.getMug("one/save"),n=t.getMug("two/save");f.equal(e.p.case_id,"uuid()","one"),f.equal(n.p.case_id,"uuid()","two")})),describe("should not allow",(function(){var e,n;before((function(a){t.init({javaRosa:{langs:["en"]},core:{onReady:function(){e=t.addQuestion("SaveToCase","mug"),n=e.spec.attachmentProperty,a()}}})})),a.each({"inline attachments with no name":{inline_prop:{calculate:"/data/question1",from:"inline"}},"invalid from strings":{from_strings:{calculate:"/data/question1",from:"blah"}}},(function(t,a){it("should validate "+a,(function(){e.p.useAttachment=!0,e.p.attachmentProperty=t,f.notEqual(n.validationFunc(e),"pass")}))}))})),describe("should allow",(function(){var e,n;before((function(a){t.init({javaRosa:{langs:["en"]},core:{onReady:function(){e=t.addQuestion("SaveToCase","mug"),n=e.spec.attachmentProperty,a()}}})})),a.each({"inline attachments":{inline_prop:{calculate:"/data/question1",from:"inline",name:"test"}},"from strings":{from_strings:{calculate:"/data/question1",from:"local"}},"hyphenated properties":{"hyphen-props":{calculate:"/data/question1",from:"local"}}},(function(t,a){it("should validate "+a,(function(){e.p.useAttachment=!0,e.p.attachmentProperty=t,f.equal(n.validationFunc(e),"pass")}))}))})),it("should load 2 create setvalues",(function(){t.loadXML(c);var e=t.getMug("create1"),n=t.getMug("create2");f.equal(e.p.case_id,"1"),f.equal(n.p.case_id,"1"),t.assertXmlEqual(p("createXML"),c)})),it("should load and save a index property",(function(){t.loadXML(l),t.clickQuestion("save_to_case"),n("#fd-question-edit-update").find(".fd-add-property").click(),t.assertXmlEqual(p("createXML"),l)})),it("should have @case_id in bind for create when in repeat",(function(){t.loadXML(""),t.addQuestion("Repeat","repeat");var e=t.addQuestion("SaveToCase","case",{case_id:"uuid()",user_id:"uuid()",useCreate:!0,createProperty:{case_type:"type",case_name:"name"}});f.deepInclude(e.options.getBindList(e),{nodeset:e.absolutePath+"/case/@case_id",calculate:"uuid()"})})),it("should remove case_id setvalue when removing create property",(function(){t.loadXML(i),t.deleteQuestion("/data/save_to_case");var e=p("createXML");f.equal(n(e).find("setvalue").length,0)})),it("should remove case_id setvalue when removing newly created mug",(function(){t.loadXML(""),f.equal(n(p("createXML")).find("setvalue").length,0),t.addQuestion("SaveToCase","case",{case_id:"uuid()",user_id:"uuid()",useCreate:!0}).p.createProperty={case_type:{calculate:"type"},case_name:{calculate:"name"}},f.equal(n(p("createXML")).find("setvalue").length,1),t.deleteQuestion("/data/case"),f.equal(n(p("createXML")).find("setvalue").length,0)})),it("should only allow extension and child as relationship",(function(){t.loadXML("");var e=t.addQuestion("SaveToCase","mug");e.p.useIndex=!0,e.p.indexProperty={casename:{calculate:"/data/question1",case_type:"type",relationship:"notchildorextension"}},f.strictEqual(e.spec.indexProperty.validationFunc(e),"Relationship must be child or extension")})),it("should only not error on empty extension ref",(function(){t.loadXML("");var e=t.addQuestion("SaveToCase","mug");e.p.useIndex=!0,e.p.indexProperty={casename:{calculate:"/data/question1",case_type:"type",relationship:"child"},"":{calculate:"",case_type:"",relationship:""}},f.strictEqual(e.spec.indexProperty.validationFunc(e),"pass")})),it("should provide case references to the logic manager",(function(){var e=t.loadXML(m)._logicManager;f.deepEqual(e.caseReferences(),{load:{},save:{"/data/group/save_to_case_in_group":{case_type:"child",close:!1,create:!1,properties:["p1","p3"]},"/data/save_to_case_create":{case_type:"mother",close:!1,create:!0,properties:["case_name","case_type","p1","p2"]},"/data/save_to_case_close":{case_type:"close_case",close:!0,create:!1,properties:[]}}})}))}))}.apply(e,a))||(t.exports=o)},4989:(t,e,n)=>{var a,o;a=[n(1134),n(8324),n(561),n(7229),n(8396),n(4202)],void 0===(o=function(t,e,n,a,o,i){var r=e.assert,s=t.call;describe("setvalues",(function(){before((function(e){t.init({javaRosa:{langs:["en"]},core:{onReady:function(){e()}},features:{rich_text:!1}})})),it("should be associated with the correct mug on form load",(function(){t.loadXML(o);var e=t.getMug("text");r.strictEqual(e.p.defaultValue,"blah")})),it("should have event jr-insert when added into repeat",(function(){var e,n;t.loadXML(""),t.addQuestion("Repeat","repeat"),t.addQuestion("Text","text").p.defaultValue="blah",e=s("createXML"),n=a.parseXML(e).find("setvalue"),r.strictEqual(n.attr("event"),"jr-insert"),r.strictEqual(n.attr("ref"),"/data/repeat/text"),r.strictEqual(n.attr("value"),"blah")})),it("should have event xforms-ready when added outside of repeat",(function(){var e,n;t.loadXML(""),t.addQuestion("Text","text").p.defaultValue="blah",e=s("createXML"),n=a.parseXML(e).find("setvalue"),r.strictEqual(n.attr("event"),"xforms-ready"),r.strictEqual(n.attr("ref"),"/data/text"),r.strictEqual(n.attr("value"),"blah")})),it("should not be associated with a question if event is not xforms-ready or jr-insert",(function(){t.loadXML(i);var e=s("createXML"),n=a.parseXML(e).find("setvalue");r.strictEqual(n.attr("event"),"special-snowflake"),r.strictEqual(n.attr("ref"),"/data/text"),r.strictEqual(n.attr("value"),"blah")})),describe("with allow data reference enabled",(function(){before((function(e){t.init({javaRosa:{langs:["en"]},core:{onReady:function(){e()}},features:{rich_text:!1,allow_data_reference_in_setvalue:!0}})})),it("should not warn when referencing another node",(function(){t.loadXML(""),t.addQuestion("Text","text1");var e=t.addQuestion("Text","text2");e.p.defaultValue="#form/text1",r.strictEqual(e.spec.defaultValue.validationFunc(e),"pass")})),it("should not warn when referencing a case",(function(){t.loadXML(""),t.addQuestion("Text","text1");var e=t.addQuestion("Text","text2");e.p.defaultValue="#case/case/attribute",r.strictEqual(e.spec.defaultValue.validationFunc(e),"pass")})),it("should not warn when referencing a case with filter",(function(){t.loadXML(""),t.addQuestion("Text","text1");var e=t.addQuestion("Text","text2");e.p.defaultValue="instance('casedb')/casedb/case[@case_id=instance('commcaresession')/session/data/case_id]/facility_type",r.strictEqual(e.spec.defaultValue.validationFunc(e),"pass")}))})),describe("without allow data reference enabled",(function(){before((function(e){t.init({javaRosa:{langs:["en"]},core:{onReady:function(){e()}},features:{rich_text:!1,allow_data_reference_in_setvalue:!1}})})),it("should warn when referencing another node",(function(){t.loadXML(""),t.addQuestion("Text","text1");var e=t.addQuestion("Text","text2");e.p.defaultValue="#form/text1",r.notStrictEqual(e.spec.defaultValue.validationFunc(e),"pass")})),it("should not warn when referencing a case",(function(){t.loadXML(""),t.addQuestion("Text","text1");var e=t.addQuestion("Text","text2");e.p.defaultValue="#case/case/attribute",r.strictEqual(e.spec.defaultValue.validationFunc(e),"pass")})),it("should not warn when referencing a case with filter",(function(){t.loadXML(""),t.addQuestion("Text","text1");var e=t.addQuestion("Text","text2");e.p.defaultValue="instance('casedb')/casedb/case[@case_id=instance('commcaresession')/session/data/case_id]/facility_type",r.strictEqual(e.spec.defaultValue.validationFunc(e),"pass")}))}))}))}.apply(e,a))||(t.exports=o)},4194:(t,e,n)=>{var a,o;a=[n(8324),n(3809)],void 0===(o=function(t,e){var n=t.assert;function a(t,a,o){var i=t.replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t");n.deepEqual(function(t,n){for(var a=[],o=e.makeRowParser(t),i=o();i&&(a.push(i),!(n&&a.length>=n));)i=o();return a}(t,a.length+5),a,"parsed '"+i+"'"),o&&n.strictEqual(e.tabDelimit(a),t)}describe("The TSV parser",(function(){it("should parse empty string",(function(){a("",[],!0)})),it("should parse simple TSV",(function(){a("a\tb",[["a","b"]],!0),a("a\tb\r",[["a","b"]]),a("a\tb\n",[["a","b"]]),a("a\tb\u2028",[["a","b"]]),a("a\tb\u2029",[["a","b"]]),a("a\tb\r\n",[["a","b"]]),a("a\tb\n\r",[["a","b"],[""]])})),it("should parse simple mutli-line TSV",(function(){a("a\tb\nc",[["a","b"],["c"]],!0),a("a\tb\rc\r",[["a","b"],["c"]]),a("a\tb\nc\n",[["a","b"],["c"]]),a("a\tb\u2028c\u2028",[["a","b"],["c"]]),a("a\tb\u2029c\u2029",[["a","b"],["c"]]),a("a\tb\r\nc\r\n",[["a","b"],["c"]]),a("a\tb\n\rc\n",[["a","b"],[""],["c"]])})),it("should parse quoted field",(function(){a('a\t"b\tc"',[["a","b\tc"]],!0),a('"a"\t"b\tc"\r',[["a","b\tc"]]),a('"a"\t"b\tc"\n',[["a","b\tc"]]),a('"a"\t"b\tc"\u2028',[["a","b\tc"]]),a('"a"\t"b\tc"\u2029',[["a","b\tc"]]),a('"a"\t"b\tc"\r\n',[["a","b\tc"]]),a('"a"\t"b\tc"\n\r',[["a","b\tc"],[""]]),a('"a"\t"b\tc"\n"a"\t"b\tc"\n',[["a","b\tc"],["a","b\tc"]])})),it("should parse empty quoted field",(function(){a('""\t""\n',[["",""]])})),it("should parse quoted field with escaped quotes",(function(){a('"a""x"\t"b""\t""c"',[['a"x','b"\t"c']],!0),a('"a""x"\t"b""""""c"',[['a"x','b"""c']],!0),a('"a""x"\t"b""\t""c"\n"a""x"\t"b""\t""c"',[['a"x','b"\t"c'],['a"x','b"\t"c']],!0)})),it("should parse quoted multi-line field",(function(){a('"a""x"\t"b\nc\rd\r\ne"',[['a"x',"b\nc\rd\r\ne"]],!0),a('"a""x"\t"b\u2028c\u2029d"',[['a"x',"b\u2028c\u2029d"]],!0),a('"a""x"\t"b\nc\rd\r\ne"\n"a""x"\t"b\nc\rd\r\ne"',[['a"x',"b\nc\rd\r\ne"],['a"x',"b\nc\rd\r\ne"]],!0)})),it("should parse malformed quoted field",(function(){a('abc\t"def"ghi\t"jkl',[["abc",'"def"ghi','"jkl']]),a('abc\t"def"ghi"\t"jkl',[["abc",'"def"ghi"','"jkl']]),a('abc\t"def\t"ghi\t"jkl',[["abc",'"def','"ghi','"jkl']])}))})),describe("The TSV writer",(function(){it("should convert null to empty string",(function(){n.strictEqual(e.escape(null),"")})),it("should convert undefined to empty string",(function(){n.strictEqual(e.escape(void 0),"")})),it("should not convert zero to empty string",(function(){n.strictEqual(e.escape(0),"0")})),it("should escape special characters",(function(){var t=[['""',"\t\t\t","\n\n\n","\r\r\r",""],["  "]],o='""""""\t"\t\t\t"\t"\n\n\n"\t"\r\r\r"\t\n  ';n.strictEqual(e.tabDelimit(t),o),a(o,t,!0)}))}))}.apply(e,a))||(t.exports=o)},358:(t,e,n)=>{var a,o;a=[n(8324),n(1134),n(561)],void 0===(o=function(t,e,n){var a=t.assert;describe("The undo manager",(function(){before((function(t){e.init({javaRosa:{langs:["en"]},core:{onReady:function(){t()}},features:{rich_text:!1}})})),beforeEach((function(){e.loadXML("")})),it("should show an alert when deleting questions",(function(){e.addQuestion("Text","text"),n(".fd-button-remove").click(),a(n(".fd-undo-delete").length)})),it("should undelete one question properly",(function(){e.addQuestion("Text","text"),n(".fd-button-remove").click();try{e.clickQuestion("text"),a(!1,"this better not work")}catch(t){a(!0,"text doesn't exist")}n(".fd-undo").click(),e.clickQuestion("text"),a(!0,"Woo! text restored")})),it("should undelete two questions properly",(function(){e.addQuestion("Text","text"),e.addQuestion("Text","text2"),e.clickQuestion("text","text2"),e.assertJSTreeState("text","text2"),n(".fd-button-remove").click();try{e.clickQuestion("text"),a(!1,"this better not work")}catch(t){a(!0,"text doesn't exist")}n(".fd-undo").click(),e.clickQuestion("text"),e.assertJSTreeState("text","text2")})),it("should undelete a nested question properly",(function(){e.addQuestion("Group","group"),e.addQuestion("Text","text2"),e.assertJSTreeState("group","  text2"),e.clickQuestion("group/text2"),n(".fd-button-remove").click();try{e.clickQuestion("text2"),a(!1,"this better not work")}catch(t){a(!0,"text doesn't exist")}n(".fd-undo").click(),e.clickQuestion("group/text2"),e.assertJSTreeState("group","  text2")})),it("should undelete a group properly",(function(){e.addQuestion("Group","group"),e.addQuestion("Text","text2"),e.assertJSTreeState("group","  text2"),e.clickQuestion("group"),n(".fd-button-remove").click(),e.assertJSTreeState();try{e.clickQuestion("text2"),a(!1,"this better not work")}catch(t){a(!0,"text doesn't exist")}n(".fd-undo").click(),e.clickQuestion("group/text2"),e.assertJSTreeState("group","  text2")})),it("should undelete a nested group properly",(function(){e.addQuestion("Group","group"),e.addQuestion("Group","group2"),e.addQuestion("Text","text2"),e.assertJSTreeState("group","  group2","    text2"),e.clickQuestion("group/group2"),n(".fd-button-remove").click(),e.assertJSTreeState("group");try{e.clickQuestion("group2"),a(!1,"this better not work")}catch(t){a(!0,"text doesn't exist")}n(".fd-undo").click(),e.clickQuestion("group/group2/text2"),e.assertJSTreeState("group","  group2","    text2")})),it("should undelete a question with question after it",(function(){e.addQuestion("Text","text"),e.addQuestion("Text","text2"),e.clickQuestion("text"),e.assertJSTreeState("text","text2"),n(".fd-button-remove").click();try{e.clickQuestion("text"),a(!1,"this better not work")}catch(t){a(!0,"text doesn't exist")}n(".fd-undo").click(),e.clickQuestion("text"),e.assertJSTreeState("text","text2")})),it("should undelete the first question",(function(){e.addQuestion("Text","text"),e.clickQuestion("text"),e.assertJSTreeState("text"),n(".fd-button-remove").click();try{e.clickQuestion("text"),a(!1,"this better not work")}catch(t){a(!0,"text doesn't exist")}n(".fd-undo").click(),a(!n(".fd-default-panel").is(":visible"),"New Form dialog showing"),e.assertJSTreeState("text")})),it("should undelete a multiple choice question with correct number of children",(function(){e.addQuestion("Select","select"),e.addQuestion("Choice","choice1"),e.addQuestion("Choice","choice2"),e.clickQuestion("select"),e.assertJSTreeState("select","  choice1","  choice2"),n(".fd-button-remove").click();try{e.clickQuestion("select"),a(!1,"this better not work")}catch(t){a(!0,"text doesn't exist")}n(".fd-undo").click(),e.clickQuestion("select"),e.assertJSTreeState("select","  choice1","  choice2")})),it("should undelete multiple questions when selected out of order",(function(){e.addQuestion("Text","text"),e.addQuestion("Text","text2"),e.addQuestion("Text","text3"),e.clickQuestion("text3","text2"),e.assertJSTreeState("text","text2","text3"),n(".fd-button-remove").click(),e.assertJSTreeState("text"),n(".fd-undo").click(),e.assertJSTreeState("text","text2","text3")})),it("should reset the undo manager after a delete",(function(){e.addQuestion("Text","text"),e.addQuestion("Select","select"),e.addQuestion("Choice","choice1"),e.addQuestion("Choice","choice2"),e.assertJSTreeState("text","select","  choice1","  choice2"),e.clickQuestion("text"),n(".fd-button-remove").click(),e.assertJSTreeState("select","  choice1","  choice2"),e.clickQuestion("select"),n(".fd-button-remove").click(),e.assertJSTreeState(),n(".fd-undo").click(),e.assertJSTreeState("select","  choice1","  choice2")})),it("should reset the undo manager after adding a question",(function(){e.addQuestion("Text","text"),e.addQuestion("Select","select"),e.addQuestion("Choice","choice1"),e.addQuestion("Choice","choice2"),e.assertJSTreeState("text","select","  choice1","  choice2"),e.clickQuestion("text"),n(".fd-button-remove").click(),e.assertJSTreeState("select","  choice1","  choice2"),e.addQuestion("Text","text"),a.strictEqual(n(".fd-undo-delete").length,0)})),it("should undelete a multiple choice question when selected with others",(function(){e.addQuestion("Text","text"),e.addQuestion("Select","select"),e.addQuestion("Choice","choice1"),e.addQuestion("Choice","choice2"),e.clickQuestion("text","select"),e.assertJSTreeState("text","select","  choice1","  choice2"),n(".fd-button-remove").click();try{e.clickQuestion("select"),a(!1,"this better not work")}catch(t){a(!0,"text doesn't exist")}n(".fd-undo").click(),e.clickQuestion("select"),e.assertJSTreeState("text","select","  choice1","  choice2")})),it("should adjust the tree's height to accommodate the undo alert message",(function(){var t=function(){return n(".fd-tree .fd-scrollable").outerHeight()};e.addQuestion("Text","text"),e.addQuestion("Select","select"),e.clickQuestion("text");var o=t();n(".fd-button-remove").click();var i=t();a(i!==o,"Height changed with addition of alert."),n(".fd-undo").click(),a(t()===o,"Height restored after undoing deletion."),n(".fd-button-remove").click(),a(t()===i,"Height changed with addition of alert."),n(".fd-undo-delete .close").click(),a(t()===o,"Height restored after closing alert.")})),it("should fix broken references on undelete referenced question",(function(){e.addQuestion("Text","red");var t=e.addQuestion("Text","blue",{relevantAttr:"#form/red = '1'"});e.deleteQuestion("red"),a(!e.isTreeNodeValid(t),"blue should have reference error"),t.form.undo(),a(e.isTreeNodeValid(t),"blue should be valid")}))}))}.apply(e,a))||(t.exports=o)},1225:(t,e,n)=>{Promise.resolve().then((function(){var t=[n(8324),n(561),n(3946),n(1134),n(6468)];(function(t,e,n,a,o){var i=t.assert,r=a.call;describe("URL Hash",(function(){it("should select a mug that is in the form",(function(){window.location.hash="#form/group/question2",a.loadXML(o,null,null,!0);var t=r("getCurrentlySelectedMug");i.equal(t.absolutePath,"/data/group/question2")})),it("should select first mug if hash isn't in form",(function(){window.location.hash="#form/group/not_in_form",a.loadXML(o,null,null,!0);var t=r("getCurrentlySelectedMug");i.equal(t.absolutePath,"/data/group")})),it("should change the hash when you add a question",(function(){a.loadXML(""),a.addQuestion("Text","initial"),a.clickQuestion("initial"),i.equal(window.location.hash,"#form/initial")})),it("should change the hash when you delete a question",(function(){a.loadXML(""),a.addQuestion("Text","first"),a.clickQuestion("first"),a.addQuestion("Text","second"),a.clickQuestion("second"),i.equal(window.location.hash,"#form/second"),a.deleteQuestion("/data/second"),i.equal(window.location.hash,"#form/first")})),it("should call setURLHash only once when multiple questions are loaded",(function(t){var e=0;a.loadXML("");var n=a.addQuestion("Text","first");a.clickQuestion("first"),a.addQuestion("Text","second"),a.clickQuestion("second");var o=n.form.vellum._setURLHash;n.form.vellum._setURLHash=function(){e++},a.saveAndReload((function(){n.form.vellum._setURLHash=o,i.equal(e,1),t()}))}))}))}).apply(null,t)})).catch(n.oe)},1134:(t,e,n)=>{var a,o;a=[n(8449),n(8324),n(6848),n(3794),n(3946),n(561),n(1437),n(3809),n(705),n(7229),n(1460),n(8803)],void 0===(o=function(t,e,n,a,o,i,r,s,l,d){var u=e.assert,c=["Form Builder clip","version 1"];function m(t,e,a){if((a=o.defaults(a||{},{normalize_xmlns:!1,not:!1})).normalize_xmlns){var i=d.parseXML(e).find("data").attr("xmlns");t=t.replace(/(data[^>]+xmlns=")(.+?)"/,"$1"+i+'"')}var r,s,l,u,c=(r=t,s=e,l=n.xml(r),u=n.xml(s),n.isEquivalent(l,u,{element_order:!0}));a.not&&(c=!c),c||h(t=f(t),e=f(e),"XML "+(a.not?"should not be equivalent":"mismatch"))}function h(t,e,n){if(t!==e){var o=a.createPatch("",t,e,"actual","expected");o=o.replace(/^Index:/,n||"Not equal:"),u(!1,function(t){var e={"-":31,"+":32};return t.replace(/^.+?$/gm,(function(t){return"["+(e[t[0]]||0)+"m"+t+"[0m"}))}(o))}}function f(t){return(t=t.replace(/^\t+/gm,(function(t){return t.replace(/\t/g,"  ")}))).match(/\n$/)||(t+="\n"),t}function p(t){return v("getCurrentMugInput",t)}function g(t){var e=i("#vellum").vellum("get"),n=o.isString(t)?i("[name="+t+"]"):t;return l.util.getWidget(n,e)}function v(){var t=Array.prototype.slice.call(arguments),e=i("#vellum");return e.vellum.apply(e,t)}function x(){var t=[],e=o.map(arguments,(function(e){var n=o.isString(e)?b(e):e;if(!n||!n.ufid)throw new Error("mug not found: "+e);return t.push(n),n.ufid}));return v("jstree","deselect_all",!0),v("jstree","select_node",e),i(".collapse-toggle.collapsed").click(),t}function b(t){0!==t.indexOf("/")&&(t="/data/"+t);var e=v("getMugByPath",t);if(!e){var n=t.split("/"),a=v("getMugByPath",n.slice(0,-1).join("/"));if(a&&a.__className.indexOf("Select")>-1){var o=v("getData").core.form.getChildren(a),i=n[n.length-1];if(1===o.length&&"itemset"===i&&"itemset"===o[0].options.tagName)return o[0];for(var r=0;r<o.length;r++)if(o[r].p.nodeID===i)return o[r]}}return e}return u.equal=u.strictEqual,u.notEqual=u.notStrictEqual,{options:t,asyncatch:function(t){return function(){try{var e=Array.prototype.slice.call(arguments);return t.apply(this,e)}catch(t){throw t&&t.stack?new Error(t.stack):t}}},init:function(e){e=e||{};var n=i.extend(!0,{},t.options,e),a=i.fn.animate;i.fn.animate=function(t,e,n,o){a.apply(this,[t,0,n,o])},e.javaRosa&&e.javaRosa.langs&&(n.javaRosa.langs=e.javaRosa.langs),n.plugins=o.without(n.plugins,"atwho"),e.plugins&&(n.plugins=e.plugins),n&&n.features&&o.isUndefined(n.features.disable_popovers)&&(n.features.disable_popovers=!0),n.core=n.core||{};var r=n.core.saveUrl||function(){};n.core.saveUrl=function(t){return t.xform,r(t)};var s=i("#vellum"),l=s.vellum("get");l&&(l.destroy(),i("body > div.modal, body > div.modal-backdrop").remove()),s.empty().vellum(n)},call:v,loadXML:function(t,e,n,a){var i=[],r=v("getData");return a||window.history.replaceState(null,null," "),r.core.parseWarnings=[],v("loadXML",t,e||{}),n?o.isRegExp(n)&&(i=o.filter(r.core.parseWarnings,(function(t){return!n.test(t)}))):i=r.core.parseWarnings,u(!i.length,"unexpected parse warnings:\n- "+i.join("\n- ")),delete r.core.parseWarnings,r.core.form},saveAndReload:function(t){v("loadXFormOrError",v("createXML"),t)},getMug:b,getInput:p,getWidget:g,getMediaUploader:function(t){var e,n={},a=g(t);if(!a)throw new Error("media uploader widget not found");if(o.find([".widget[data-hqmediapath]",".itext-block-container"],(function(n){return(e=t.closest(n)).length})),!e)throw new Error("media uploader element not found");return n.upload=function(t){var n={ref:{path:a.getRandomizedMediaPath(t)},errors:[]};e.trigger("mediaUploadComplete",n)},n},assertEqual:h,assertInputCount:function(t,e,n){o.isString(t)?(n=" for "+(n?n+" ":"")+t,t=p(t)):n=n?" for "+n:"",u.equal(t.length,e,"wrong number of inputs"+n)},assertXmlEqual:m,assertXmlNotEqual:function(t,e,n){(n=n||{}).not=!0,m(t,e,n)},assertJSTreeState:function(){var t=Array.prototype.slice.call(arguments).join("\n")+"\n";h(function t(e,n){var a,o,i,r=[];for("#"===e.id?n=-1:r.push(Array(2*n+1).join(" ")+e.text),a=0,o=e.children.length;a<o;a++)i=v("jstree","get_node",e.children[a]),r.push(t(i,n+1));return r.join("\n")}(v("jstree","get_node","#"))+"\n",t,"Unexpected jstree state")},assertTreeState:function(t){var e=Array.prototype.slice.call(arguments,1).join("\n")+"\n";h(function t(e,n){var a,o,i,r=[];for(e.isRootNode?n=-1:r.push(Array(2*n+1).join(" ")+e.value.p.nodeID),a=0,o=e.children.length;a<o;a++)i=e.children[a],r.push(t(i,n+1));return r.join("\n")}(t.rootNode,0)+"\n",e,"Unexpected tree state")},addQuestion:function(t,e,n){n=o.extend({},n),this.prevId&&x(this.prevId);var a=v("addQuestion",t);return e||a.p.nodeID||(e=v("nodeIDFromLabel",a)),e&&(u(o.isUndefined(n.nodeID),"unexpected attribute for "+t+"["+e+"]"),a.p.labelItext&&a.p.labelItext.set(a.getLabelValue()),a.p.nodeID=e,"Choice"!==t||n.hasOwnProperty("labelItext")||(n.labelItext=e)),o.each(n,(function(t,e){o.isBoolean(t)||(t=String(t)),/.+Itext/.test(e)?a.p[e].set(t):a.p[e]=t})),o.each(v("getSections",a),(function(t){v("collapseSection",t.slug,!1)})),a},paste:function(t,e,n){o.isString(t)||(t=s.tabDelimit([c].concat(t))),n&&window.console.log(t),u.deepEqual(r.paste(t),e||[])},clickQuestion:x,selectAll:function(){v("jstree","select_all")},deleteQuestion:function(){var t=o.map(arguments,(function(t){var e=b(t);return u(e,"mug not found: "+t),e}));v("getData").core.form.removeMugsFromForm(t),o.each(arguments,(function(t){u(!b(t),"mug not removed: "+t)}))},saveButtonEnabled:function(t){var e=v("getData").core.saveButton;if(!o.isUndefined(t)){var n=t?"save":"saved";e.setStateWhenReady(n),u.equal(e.state,n,"sanity check failed")}return"save"===e.state},expandGroup:function(t){v("jstree","open_node",t.ufid),v("jstree","redraw_node",t.ufid,!0,!1,!1)},collapseGroup:function(t){v("jstree","close_node",t.ufid),v("jstree","redraw_node",t.ufid,!0,!1,!1)},getMessages:function(t){var e=[],n=null;if(o.isString(t)){var a=t;t=b(a),u(t,"mug not found: "+a)}return t.messages.each((function(t,a){a!==n&&(e.push(a+":"),n=a),e.push("  - "+t.message)})),e.join("\n")},findNode:function(t,e,n){if(o.isString(e)){var a=e;e=function(t){return t.text===a}}return function n(a){var o,i,r;if(e(a))return a;for(o=0,i=a.children.length;o<i;o++)if(r=n(t.get_node(a.children[o])))return r;return null}(n||t.get_node("#"))},isTreeNodeValid:function(t){if(o.isString(t)){var e=t;t=b(e),u(t,"mug not found: "+e)}return 0===i("#vellum").find("#"+t.ufid+" > a").children(".fd-valid-alert-icon").length},markdownVisible:function(){return i(".itext-block-label-group-default").find(".markdown-output").is(":visible")},parseXML:d.parseXML}}.apply(e,a))||(t.exports=o)},3534:(t,e,n)=>{var a,o;a=[n(8324),n(561),n(3946),n(1134),n(4485),n(4078),n(4459),n(8094)],void 0===(o=function(t,e,n,a,o,i,r,s){var l=t.assert,d=o.showXPathEditor,u={};s.eventuality(u),o.showXPathEditor=function(){d.apply(null,arguments),u.fire("showXPathEditor")},describe("The widgets module with rich text disabled",(function(){before((function(t){a.init({javaRosa:{langs:["en"]},core:{onReady:function(){l(this.isPluginEnabled("modeliteration"),"modeliteration plugin should be enabled"),t()}},features:{rich_text:!1}})})),it("xPath widget should allow drag/drop",(function(){var t=i.baseSpecs.databind;a.loadXML(""),a.addQuestion("Text","text"),a.clickQuestion("text"),l.equal(t.defaultValue.xpathType,"generic"),l(e("[name=property-defaultValue]").hasClass("jstree-drop"),"defaultValue does not have jstree-drop class"),l.equal(t.relevantAttr.xpathType,"bool"),l(e("[name=property-relevantAttr]").hasClass("jstree-drop"),"relevantAttr does not have jstree-drop class")})),it("xPath widget should show newlines in advanced mode",(function(t){a.loadXML("");var n='"line 1 \n line 2"';a.addQuestion("DataBindOnly","hidden",{calculateAttr:n}),a.clickQuestion("/data/hidden");var o=e("[name=property-calculateAttr]");l.equal(o.val(),'"line 1 &#10; line 2"'),o.closest(".form-group").find(".fd-edit-button").click(),u.on("showXPathEditor",(function(){var a=e(".xpath-advanced").find("textarea").val();e(".fd-xpath-cancel-button").click(),l.equal(a,n,"textarea content should have newline"),t()}),null,"showXPathEditor")})),it("xPath widget should escape newlines on save advanced mode",(function(t){a.loadXML("");var n='"line 1 \n line 2"',o=a.addQuestion("DataBindOnly","hidden",{calculateAttr:""});a.clickQuestion("/data/hidden"),e("[name=property-calculateAttr]").closest(".form-group").find(".fd-edit-button").click(),u.on("showXPathEditor",(function(){e(".xpath-advanced").find("textarea").val(n).change(),e(".fd-xpath-save-button").click();var a=e("[name=property-calculateAttr]");l.equal(a.val(),'"line 1 &#10; line 2"',"input value not escaped"),l.equal(o.p.calculateAttr,n,"wrong mug value"),t()}),null,"showXPathEditor")})),it("xPath widget should show /data/ when in advanced editor without rich_text",(function(t){a.loadXML(""),a.addQuestion("Text","text");var n="#form/text",o=a.addQuestion("DataBindOnly","hidden",{calculateAttr:n});l.equal(o.p.calculateAttr,n),a.clickQuestion("/data/hidden"),e("[name=property-calculateAttr]").closest(".form-group").find(".fd-edit-button").click(),u.on("showXPathEditor",(function(){var a=e(".xpath-advanced").find("textarea");l.equal(a.val(),"/data/text","input value showing #form"),l.equal(o.p.calculateAttr,n,"value not in vellum internal form"),t()}),null,"showXPathEditor")})),it("xPath widget should genuinely hide editor whenever it's exited",(function(t){a.loadXML(""),a.addQuestion("Text","text1"),a.addQuestion("Text","text2");var n=e(".fd-content-right"),o=n.find(".fd-question-properties"),i=n.find(".fd-xpath-editor");o.find(".fd-edit-button:first").click(),u.on("showXPathEditor",(function(){l(i.is(":visible"),"Editor shown when clicked"),l(!o.is(":visible"),"Properties hidden when entering editor"),a.clickQuestion("/data/text1"),l(o.is(":visible"),"Properties shown as requested"),l(!i.is(":visible"),"Editor hidden when properties shown"),t()}),null,"showXPathEditor")})),it("xPath widget should change save button when dropdown is changed",(function(t){a.loadXML(""),a.addQuestion("Text","text"),a.clickQuestion("text"),e(".fd-content-right").find(".fd-question-properties").find(".fd-edit-button:first").click(),u.on("showXPathEditor",(function(){l(!e(".fd-xpath-save-button").hasClass("btn-success")),e(".op-select").change(),l(e(".fd-xpath-save-button").hasClass("btn-success")),t()}),null,"showXPathEditor")}))})),describe("The rich text widget",(function(){before((function(t){a.init({javaRosa:{langs:["en"]},core:{onReady:function(){t()}},features:{rich_text:!0}})})),describe("should preserve",(function(){var t=[["id","type","labelItext:en-default"],["/newlines","Text","list\n\n* item\n* item\n"],["/spaces","Text","a  b   c    d"]];before((function(){a.loadXML(""),a.paste(t)})),n.each(t.slice(1),(function(t){var e=t[0].slice(1);it(e,(function(n){a.clickQuestion(e),a.getWidget("itext-en-label").getValue((function(e){a.assertEqual(e,t[2]),n()}))}))}))})),it("should return just-set value on get value",(function(){a.loadXML(""),a.addQuestion("Text","text"),a.clickQuestion("text");var t=a.getWidget("itext-en-label"),e='<output value="/data/text" />';t.setValue(e),l.equal(t.getValue(),e)})),it("should create reference to hidden value in display condition",(function(t){a.loadXML(""),a.paste([["id","type","labelItext:en-default"],["/hidden","DataBindOnly","null"],["/text","Text","test"]]),a.clickQuestion("text");var n=a.getMug("text"),o=a.getWidget("property-relevantAttr"),i=e(".fd-question-tree").jstree(!0);l.equal(o.input.length,1),o.input.promise.then((function(){a.findNode(i,"hidden").data.handleDrop(o.input),o.handleChange(),l.equal(n.p.relevantAttr,"#form/hidden"),t()}))})),it("should change save button on drag/drop into advanced xpath editor",(function(t){a.loadXML(""),a.paste([["id","type","labelItext:en-default"],["/hidden","DataBindOnly","null"],["/text","Text","test"]]),a.clickQuestion("text"),e(".fd-content-right .fd-question-properties [name=property-defaultValue]").closest(".form-group").find(".fd-edit-button").click(),u.on("showXPathEditor",(function(){var n=e(".fd-xpath-editor-text"),o=r.editor(n),i=e(".fd-question-tree").jstree(!0),s=e(".fd-xpath-save-button");o.on("instanceReady",(function(){l(!s.hasClass("btn-success"),"save button should not be green"),o.on("change",(function(){l(s.hasClass("btn-success"),"save button not green"),t()})),a.findNode(i,"hidden").data.handleDrop(n)}))}),null,"showXPathEditor")})),it("simple xpath editor should change save button on remove expression",(function(t){a.loadXML(""),a.paste([["id","type","labelItext:en-default"],["/hidden","DataBindOnly","null"]]),e(".fd-content-right .fd-question-properties [name=property-relevantAttr]").closest(".form-group").find(".fd-edit-button").click(),u.on("showXPathEditor",(function(){var n=e(".fd-xpath-save-button");l.equal(n.length,1,"save button"),l(!n.hasClass("btn-success"),"save button should not be active");var a=e(".fd-add-exp");l.equal(a.length,1,"add button"),l.equal(e(".xpath-expression-group").length,1,"before add"),a.click(),l.equal(e(".xpath-expression-group").length,2,"after add row"),l(!n.hasClass("btn-success"),"should not activate save button on add expression");var o=e(".xpath-delete-expression").last();l.equal(o.length,1,"remove button"),o.click(),l.equal(e(".xpath-expression-group").length,1,"after remove row"),l(n.hasClass("btn-success"),"did not activate save button after remove expression"),t()}),null,"showXPathEditor")}))}))}.apply(e,a))||(t.exports=o)},2700:(t,e,n)=>{var a,o;a=[n(8324),n(561),n(1134),n(3913),n(4340),n(5842),n(1182),n(3465),n(6276)],void 0===(o=function(t,e,n,a,o,i,r,s,l){var d=t.assert;describe("The XML writer",(function(){beforeEach((function(t){n.init({core:{onReady:function(){t()}}})})),it("should not set jr:noAddRemove on repeat group without count",(function(){n.addQuestion("Repeat","group"),n.assertXmlEqual(n.call("createXML"),o,{normalize_xmlns:!0})})),it("should not set jr:noAddRemove on repeat group without count even when jr:noAddRemove is true",(function(){n.addQuestion("Repeat","group").p.no_add_remove=!0,n.assertXmlEqual(n.call("createXML"),o,{normalize_xmlns:!0})})),it("should remove jr:noAddRemove attribute when its value was false()",(function(){n.call("loadXML",i),n.assertXmlEqual(n.call("createXML"),o,{normalize_xmlns:!0})})),it("should preserve jr:noAddRemove='true()' when jr:count has a value",(function(){n.call("loadXML",r),n.assertXmlEqual(n.call("createXML"),r,{normalize_xmlns:!0})})),it("should change jr:noAddRemove to 'true()' when jr:count has a value",(function(){n.call("loadXML",s),n.assertXmlEqual(n.call("createXML"),r,{normalize_xmlns:!0})})),it("should add hashtag reference to jr:count",(function(){n.loadXML(""),n.addQuestion("Int");var t=n.addQuestion("Repeat");n.addQuestion("Text"),t.p.repeat_count="#form/question1",n.assertXmlEqual(n.call("createXML"),l,{normalize_xmlns:!0})})),it("should be able to ignore both richText and markdown",(function(){var t=n.loadXML(a);d(!t.richText,"richText should be disabled"),d(t.noMarkdown,"markdown should be disabled"),n.assertXmlEqual(n.call("createXML"),a,{normalize_xmlns:!0})})),it("should still save more than once",(function(){n.call("loadXML",""),n.addQuestion("FieldList","fieldlist"),n.addQuestion("Text","text1"),n.addQuestion("Text","text2"),n.addQuestion("Text","text3"),n.addQuestion("Text","text4"),n.call("createXML"),n.deleteQuestion("/data/fieldlist/text1"),n.call("createXML")})),it("should not write empty itext ref",(function(){n.loadXML(""),n.addQuestion("Select","select");var t=n.addQuestion("Choice","blank",{labelItext:""});d.equal(t.p.labelItext.get(),"");var a=e(n.call("createXML"));d.equal(a.find("text[id=select-blank-label]").length,0,"should not write select-blank-label itext item"),d.equal(a.find("label").attr("ref"),void 0,"item label ref should not be defined")}))}))}.apply(e,a))||(t.exports=o)},9018:(t,e,n)=>{var a,o;a=[n(561),n(3946),n(8324),n(7229),n(8076),n(2900),n(5210)],void 0===(o=function(t,e,n,a,o,i,r){var s=n.assert;describe("The XML normalizer",(function(){function l(t,n,o){var i=a.normalize(t);s.strictEqual(i,n),(e.isUndefined(o)||o)&&s.strictEqual(a.humanize(i),t)}it("should preserve empty string",(function(){l("","")})),it("should preserve space",(function(){l(" "," ")})),it("should preserve newline",(function(){l(" "," ")})),it("should preserve empty XML node",(function(){l("<output />","<output />")})),it("should escape & character",(function(){l("Mother & Child Reunion","Mother &amp; Child Reunion")})),it("should escape attribute value with < character",(function(){l('<output value="2 < 3" />','<output value="2 &lt; 3" />')})),it("should escape attribute value with > character",(function(){l('<output value="2 > 3" />','<output value="2 &gt; 3" />')})),it("should escape attribute value with <= character",(function(){l('<output value="2 <= 3" />','<output value="2 &lt;= 3" />')})),it("should escape attribute value with >= character",(function(){l('<output value="2 >= 3" />','<output value="2 &gt;= 3" />')})),it("should escape attribute value with < tight",(function(){l('<output value="2<3" />','<output value="2&lt;3" />',!1)})),it("should escape attribute value with > tight",(function(){l('<output value="2>3" />','<output value="2&gt;3" />',!1)})),it("should escape < character",(function(){l("your visit count must be < 5","your visit count must be &lt; 5")})),it("should escape > character",(function(){l("your visit count must be > 5","your visit count must be &gt; 5")})),it("should escape attribute value with > and trailing text (v1)",(function(){l('<output value="2 > 3" /> text','<output value="2 &gt; 3" /> text')})),it("should escape attribute value with > and trailing text (v2)",(function(){l("<output value='2 > 3' /> text",'<output value="2 &gt; 3" /> text',!1)})),it("should escape attribute value with > and trailing text (v3)",(function(){l('<output value="2 > 3"/>text','<output value="2 &gt; 3" />text',!1)})),it("should escape attribute value with > and trailing text (v4)",(function(){l('<output value="2 > 3"></output> text','<output value="2 &gt; 3" /> text',!1)})),it("should escape attribute value with > and trailing text (v5)",(function(){l('<out:p_3-6. h:v-1._="2 > 3" />text','<out:p_3-6. h:v-1._="2 &gt; 3" />text')})),it("should escape attribute value with < and trailing text",(function(){l('<output value="2 < 3" /> text','<output value="2 &lt; 3" /> text')})),it("should escape < character before tag",(function(){l('your visit count must be < <output value="/path" />','your visit count must be &lt; <output value="/path" />')})),it("should escape > character before tag",(function(){l('your visit count must be > <output value="/path" />','your visit count must be &gt; <output value="/path" />')})),it("should preserve attribute value with path",(function(){l('<output value="/path" />','<output value="/path" />')})),it("should preserve output node with text before",(function(){l('text <output value="/path" />','text <output value="/path" />')})),it("should preserve output node with text after",(function(){l('<output value="/path" /> text','<output value="/path" /> text')})),it("should preserve attribute without value",(function(){l("<output attr />",'<output attr="" />',!1)})),it("should preserve attribute value with path, unterminated tag",(function(){l('<output value="/path">','<output value="/path" />',!1)})),it("should preserve newline",(function(){l("line 1\nline2","line 1\nline2")})),it("should preserve attribute with unquoted value",(function(){l("<output attr=value />",'<output attr="value" />',!1)})),it("should escape unquoted attribute value with <",(function(){l("<output value=2<3 />",'<output value="2&lt;3" />',!1)})),it("should fail on escape attribute value with />",(function(){n.expect((function(){l('<output value="../>.." />','<output value="..&gt;.." />',!1)})).to.throw(Error)})),it("should accept jquery node",(function(){l(t("<value><output /></value>"),"<output />",!1)})),it("should handle malformed tag",(function(){l('<output value="/path"',"",!1)})),it("should replace &nbsp; with space",(function(){l("a &nbsp; b","a   b",!1)})),it("should not cause regexp engine to hang on many output values in jquery object",(function(){l(a.parseXML(o).find("value"),i,!1)})),it("should not cause regexp engine to hang on many output values in string",(function(){var t=a.parseXML(o);l((new XMLSerializer).serializeToString(t.find("value")[0]).replace(/(value="[^"]+)"/g,'$1 > 2"').replace(/^<([\w:.-]+)(?:\s+[\w:.-]+=(["'])[^]*?\2)*\s*(?:\/>|>([^]*)<\/\1>)$/g,"$3"),i.replace(/(value="[^"]+)"/g,'$1 &gt; 2"').replace(/"\/>/g,'" />'),!1)})),it("should not cause regexp engine to hang on many output values in string #2",(function(){l(r,r.replace(/><\/output>/g," />"),!1)}))})),describe("The XML humanizer",(function(){function e(t,e,n){var o=a.humanize(t);s.strictEqual(o,e),n&&s.strictEqual(a.normalize(o),t)}it("should convert free < character",(function(){e("2 &lt; 3","2 < 3",!0)})),it("should convert free > character",(function(){e("2 &gt; 3","2 > 3",!0)})),it("should convert free & character",(function(){e("2 &amp; 3","2 & 3",!0)})),it("should not convert escaped tag",(function(){e(" &lt;div&gt; "," &lt;div&gt; ",!0)})),it("should convert output tag",(function(){e('<output value="1 &amp; 2 &lt; 3" />','<output value="1 & 2 < 3" />',!0)})),it("should not unescape '&amp;' when part of a double escaped character",(function(){e("&amp;amp;","&amp;amp;",!0)})),it("should not convert escaped tag with attribute",(function(){e('&lt;div class="injection"&gt;','&lt;div class="injection"&gt;',!0)})),it("should convert empty tag",(function(){e('<tag attr="value"></tag>','<tag attr="value" />')})),it("should convert child nodes",(function(){e(t("<value>1 &amp; 2 &lt; 3 <output value='/path' /></value>"),'1 & 2 < 3 <output value="/path" />')})),it("should convert child output node",(function(){e(t("<value><output value='1 &amp; 2 &lt; 3' /></value>"),'<output value="1 & 2 < 3" />')})),it("should convert empty child nodes",(function(){e(t("<value />"),"")})),it("should space child node",(function(){e(t("<value> </value>")," ")})),it("should newline child node",(function(){e(t("<value>\n</value>"),"\n")})),it("should not cause regexp engine to hang on many output values",(function(){e(a.parseXML(o).find("value"),i,!1)})),it("should not wrap trailing text in output refs",(function(){e(t("<value>&amp; <output value='/path' /> text-after *should* remain. ~&amp; not #disrupt the\nflow</value>"),'& <output value="/path" /> text-after *should* remain. ~& not #disrupt the\nflow')}))})),describe("The XML query",(function(){var t=s.strictEqual;it("should round-trip XML",(function(){t(a.query("<value>\n</value>").toString(),"<value>\n</value>")})),it("should round-trip XML fragment with leading text",(function(){t(a.query("def <value>abc</value>").toString(),"def <value>abc</value>")})),it("should round-trip XML fragment with trailing text",(function(){t(a.query("<value>abc</value> def").toString(),"<value>abc</value> def")})),it("should escape invalid XML",(function(){t(a.query("<h1>a > & < b</h1>").toString(),"<h1>a &gt; &amp; &lt; b</h1>")})),it("should round-trip empty string",(function(){t(a.query("").toString(),"")})),it("should round-trip newline",(function(){t(a.query("\n").toString(),"\n")})),it("should not insert text inside output refs",(function(){t(a.query('& <output value="/data/question1" vellum:value="#form/question1"> text-after *should* remain. ~& not #disrupt the\nflow</output>').toString(),'&amp; <output value="/data/question1" vellum:value="#form/question1" /> text-after *should* remain. ~&amp; not #disrupt the\nflow')}))}))}.apply(e,a))||(t.exports=o)},2880:t=>{"use strict";t.exports="Question\tType\tText (en)\tText (hin)\tAudio (en)\tAudio (hin)\tImage (en)\tImage (hin)\tVideo (en)\tVideo (hin)\tVideo Inline (en)\tVideo Inline (hin)\tDisplay Condition\tValidation Condition\tValidation Message\tCalculate Condition\tRequired\tHint Text\tHelp Text\tComment\t'Add New' Button Text\t'Add Another' Button Text\n/question1\tText\tquestion1 en label\tquestion1 hin label\tjr://file/commcare/audio/data/question1.mp3\tjr://file/commcare/audio/data/question1.mp3\tjr://file/commcare/image/data/question1.png\tjr://file/commcare/image/data/question1.png\tjr://file/commcare/video/data/question1.3gp\tjr://file/commcare/video/data/question1.3gp\tjr://file/commcare/video-inline/data/question1.3gp\tjr://file/commcare/video-inline/data/question1.3gp\t#form/question20\t#form/question20 = 2\tquestion1 en validation\t\tyes\tquestion1 en hint\tquestion1 en help\t\"question 1 comment\n* with __markdown__\"\t\t\n/question2\tLabel\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tno\t\t\tquestion 2 comment\t\t\n/question30\tLabel\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tno\t\t\t\t\t\n/question3\tMultiple Choice\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tno\t\t\t\t\t\n/question3-choice1\tChoice\tchoice1\tchoice1\tjr://file/commcare/audio/data/question3-choice1.mp3\tjr://file/commcare/audio/data/question3-choice1.mp3\tjr://file/commcare/image/data/question3-choice1.png\tjr://file/commcare/image/data/question3-choice1.png\tjr://file/commcare/video/data/question3-choice1.3gp\tjr://file/commcare/video/data/question3-choice1.3gp\tjr://file/commcare/video-inline/data/question3-choice1.3gp\tjr://file/commcare/video-inline/data/question3-choice1.3gp\t\t\t\t\t\t\t\t\t\t\n/question3-choice2\tChoice\tchoice2\tchoice2\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n/question6\tCheckbox\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tno\t\t\t\t\t\n/question13\tInteger\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tno\t\t\t\t\t\n/question14\tPhone Number or Numeric ID\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tno\t\t\t\t\t\n/question15\tDecimal\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tno\t\t\t\t\t\n/question16\tLong\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tno\t\t\t\t\t\n/question17\tDate\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tno\t\t\t\t\t\n/question18\tTime\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tno\t\t\t\t\t\n/question19\tDate and Time\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tno\t\t\t\t\t\n/question21\tGroup\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tno\t\t\t\t\t\n/question21/question31\tRepeat Group\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tno\t\t\t\t\t\n/question22\tRepeat Group\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tno\t\t\t\tadd new\tadd another\n/question22/question23\tQuestion List\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tno\t\t\t\t\t\n/question22/question23/question40\tGroup\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tno\t\t\t\t\t\n/question22/question23/question41\tRepeat Group\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tno\t\t\t\t\t\n/question22/question23/question24\tImage Capture\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tno\t\t\t\t\t\n/question22/question23/question25\tAudio Capture\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tno\t\t\t\t\t\n/question22/question23/question26\tVideo Capture\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tno\t\t\t\t\t\n/question22/question23/question27\tGPS\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tno\t\t\t\t\t\n/question22/question23/question28\tPassword\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tno\t\t\t\t\t\n/question22/question23/question29\tSignature Capture\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tno\t\t\t\t\t\n/question22/question23/question33\tDocument Upload\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tno\t\t\t\t\t\n/question22/question23/question7\tAndroid App Callout\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tno\t\t\t\t\t\n/question22/question23/question35\tMicro-Image\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tno\t\t\t\t\t\n/question20\tHidden Value\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tno\t\t\t\t\t\n/question32\tHidden Value\t\t\t\t\t\t\t\t\t\t\t\t\t\t1 + 2\tno\t\t\t\t\t\n\tBase\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tno\t\t\t\t\t"},2660:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum" vellum:ignore="richText">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/526523F0-DA37-439C-B697-B620DB933526" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<question1 vellum:comment="question 1 comment&#10;* with __markdown__">default data value</question1>\n\t\t\t\t\t<question2 vellum:comment="question 2 comment" />\n\t\t\t\t\t<question30 />\n\t\t\t\t\t<question3 />\n\t\t\t\t\t\x3c!-- arbitrary data attributes --\x3e\n\t\t\t\t\t<question6 foo="bar" />\n\t\t\t\t\t<question13 />\n\t\t\t\t\t<question14 />\n\t\t\t\t\t<question15 />\n\t\t\t\t\t<question16 />\n\t\t\t\t\t<question17 />\n\t\t\t\t\t<question18 />\n\t\t\t\t\t<question19 />\n\t\t\t\t\t<question21>\n\t\t\t\t\t\t<question31 jr:template="" />\n\t\t\t\t\t</question21>\n\t\t\t\t\t<question22 jr:template="">\n\t\t\t\t\t\t<question23>\n\t\t\t\t\t\t\t<question40 />\n\t\t\t\t\t\t\t<question41 jr:template="" />\n\t\t\t\t\t\t\t<question24 />\n\t\t\t\t\t\t\t<question25 />\n\t\t\t\t\t\t\t<question26 />\n\t\t\t\t\t\t\t<question27 />\n\t\t\t\t\t\t\t<question28 />\n\t\t\t\t\t\t\t<question29 />\n\t\t\t\t\t\t\t<question33 />\n\t\t\t\t\t\t\t<question7 />\n\t\t\t\t\t\t\t<question35 />\n\t\t\t\t\t\t</question23>\n\t\t\t\t\t</question22>\n\t\t\t\t\t<question20 />\n\t\t\t\t\t<question32 />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<instance src="jr://instance/casedb" id="casedb"></instance>\n\t\t\t<bind nodeset="/data/question1" type="xsd:string" constraint="/data/question20 = 2" jr:constraintMsg="jr:itext(\'question1-constraintMsg\')" relevant="/data/question20" required="true()" />\n\t\t\t<bind nodeset="/data/question2" />\n\t\t\t<bind nodeset="/data/question30" />\n\t\t\t<bind nodeset="/data/question3" />\n\t\t\t\x3c!-- arbitrary bind attributes --\x3e\n\t\t\t<bind nodeset="/data/question6" spam="eggs" />\n\t\t\t<bind nodeset="/data/question13" type="xsd:int" />\n\t\t\t<bind nodeset="/data/question14" type="xsd:string" />\n\t\t\t<bind nodeset="/data/question15" type="xsd:double" />\n\t\t\t<bind nodeset="/data/question16" type="xsd:long" />\n\t\t\t<bind nodeset="/data/question17" type="xsd:date" />\n\t\t\t<bind nodeset="/data/question18" type="xsd:time" />\n\t\t\t<bind nodeset="/data/question19" type="xsd:dateTime" />\n\t\t\t<bind nodeset="/data/question21" />\n\t\t\t<bind nodeset="/data/question21/question31" />\n\t\t\t<bind nodeset="/data/question22" />\n\t\t\t<bind nodeset="/data/question22/question23" />\n\t\t\t<bind nodeset="/data/question22/question23/question40" />\n\t\t\t<bind nodeset="/data/question22/question23/question41" />\n\t\t\t<bind nodeset="/data/question22/question23/question24" type="binary" />\n\t\t\t<bind nodeset="/data/question22/question23/question25" type="binary" />\n\t\t\t<bind nodeset="/data/question22/question23/question26" type="binary" />\n\t\t\t<bind nodeset="/data/question22/question23/question27" type="geopoint" />\n\t\t\t<bind nodeset="/data/question22/question23/question28" type="xsd:string" />\n\t\t\t<bind nodeset="/data/question22/question23/question29" type="binary" />\n\t\t\t<bind nodeset="/data/question22/question23/question33" type="binary" />\n\t\t\t<bind nodeset="/data/question22/question23/question7" type="intent" />\n\t\t\t<bind nodeset="/data/question22/question23/question35" type="binary" />\n\t\t\t<bind nodeset="/data/question20" />\n\t\t\t<bind nodeset="/data/question32" calculate="1 + 2" />\n\t\t\t\x3c!-- setvalues --\x3e\n\t\t\t<setvalue event="xforms-ready" ref="/data/question1" value="2" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="question1-label">\n\t\t\t\t\t\t<value>question1 en label</value>\n\t\t\t\t\t\t<value form="image">jr://file/commcare/image/data/question1.png</value>\n\t\t\t\t\t\t<value form="audio">jr://file/commcare/audio/data/question1.mp3</value>\n\t\t\t\t\t\t<value form="video">jr://file/commcare/video/data/question1.3gp</value>\n\t\t\t\t\t\t<value form="video-inline">jr://file/commcare/video-inline/data/question1.3gp</value>\n\t\t\t\t\t\t<value form="long">question1 en long</value>\n\t\t\t\t\t\t<value form="short">question1 en short</value>\n\t\t\t\t\t\t<value form="custom">question1 en custom</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="question1-hint">\n\t\t\t\t\t\t<value>question1 en hint</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="question1-help">\n\t\t\t\t\t\t<value>question1 en help</value>\n\t\t\t\t\t\t<value form="image">jr://file/commcare/image/help/data/question1.png</value>\n\t\t\t\t\t\t<value form="audio">jr://file/commcare/audio/help/data/question1.mp3</value>\n\t\t\t\t\t\t<value form="video">jr://file/commcare/video/help/data/question1.3gp</value>\n\t\t\t\t\t\t<value form="video-inline">jr://file/commcare/video-inline/help/data/question1.3gp</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="question1-constraintMsg">\n\t\t\t\t\t\t<value>question1 en validation</value>\n\t\t\t\t\t\t<value form="image">jr://file/commcare/image/constraintMsg/data/question1.png</value>\n\t\t\t\t\t\t<value form="audio">jr://file/commcare/audio/constraintMsg/data/question1.mp3</value>\n\t\t\t\t\t\t<value form="video">jr://file/commcare/video/constraintMsg/data/question1.3gp</value>\n\t\t\t\t\t\t<value form="video-inline">jr://file/commcare/video-inline/constraintMsg/data/question1.3gp</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="question3-choice1-label">\n\t\t\t\t\t\t<value>choice1</value>\n\t\t\t\t\t\t<value form="image">jr://file/commcare/image/data/question3-choice1.png</value>\n\t\t\t\t\t\t<value form="audio">jr://file/commcare/audio/data/question3-choice1.mp3</value>\n\t\t\t\t\t\t<value form="video">jr://file/commcare/video/data/question3-choice1.3gp</value>\n\t\t\t\t\t\t<value form="video-inline">jr://file/commcare/video-inline/data/question3-choice1.3gp</value>\n\t\t\t\t\t\t<value form="long">choice1 long en</value>\n\t\t\t\t\t\t<value form="short">choice1 short en</value>\n\t\t\t\t\t\t<value form="custom">choice1 custom en</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="question3-choice2-label">\n\t\t\t\t\t\t<value>choice2</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="question22-addEmptyCaption">\n\t\t\t\t\t\t<value>add new</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="question22-addCaption">\n\t\t\t\t\t\t<value>add another</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t\t<translation lang="hin">\n\t\t\t\t\t<text id="question1-label">\n\t\t\t\t\t\t<value>question1 hin label</value>\n\t\t\t\t\t\t<value form="image">jr://file/commcare/image/data/question1.png</value>\n\t\t\t\t\t\t<value form="audio">jr://file/commcare/audio/data/question1.mp3</value>\n\t\t\t\t\t\t<value form="video">jr://file/commcare/video/data/question1.3gp</value>\n\t\t\t\t\t\t<value form="video-inline">jr://file/commcare/video-inline/data/question1.3gp</value>\n\t\t\t\t\t\t<value form="long">question1 hin long</value>\n\t\t\t\t\t\t<value form="short">question1 hin short</value>\n\t\t\t\t\t\t<value form="custom">question1 hin custom</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="question1-hint">\n\t\t\t\t\t\t<value>question1 hin hint</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="question1-help">\n\t\t\t\t\t\t<value>question1 hin help</value>\n\t\t\t\t\t\t<value form="image">jr://file/commcare/image/help/data/question1.png</value>\n\t\t\t\t\t\t<value form="audio">jr://file/commcare/audio/help/data/question1.mp3</value>\n\t\t\t\t\t\t<value form="video">jr://file/commcare/video/help/data/question1.3gp</value>\n\t\t\t\t\t\t<value form="video-inline">jr://file/commcare/video-inline/help/data/question1.3gp</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="question1-constraintMsg">\n\t\t\t\t\t\t<value>question1 hin validation</value>\n\t\t\t\t\t\t<value form="image">jr://file/commcare/image/constraintMsg/data/question1.png</value>\n\t\t\t\t\t\t<value form="audio">jr://file/commcare/audio/constraintMsg/data/question1.mp3</value>\n\t\t\t\t\t\t<value form="video">jr://file/commcare/video/constraintMsg/data/question1.3gp</value>\n\t\t\t\t\t\t<value form="video-inline">jr://file/commcare/video-inline/constraintMsg/data/question1.3gp</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="question3-choice1-label">\n\t\t\t\t\t\t<value>choice1</value>\n\t\t\t\t\t\t<value form="image">jr://file/commcare/image/data/question3-choice1.png</value>\n\t\t\t\t\t\t<value form="audio">jr://file/commcare/audio/data/question3-choice1.mp3</value>\n\t\t\t\t\t\t<value form="video">jr://file/commcare/video/data/question3-choice1.3gp</value>\n\t\t\t\t\t\t<value form="video-inline">jr://file/commcare/video-inline/data/question3-choice1.3gp</value>\n\t\t\t\t\t\t<value form="long">choice1 long hin</value>\n\t\t\t\t\t\t<value form="short">choice1 short hin</value>\n\t\t\t\t\t\t<value form="custom">choice1 custom hin</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="question3-choice2-label">\n\t\t\t\t\t\t<value>choice2</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="question22-addEmptyCaption">\n\t\t\t\t\t\t<value>add new</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="question22-addCaption">\n\t\t\t\t\t\t<value>add another</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t\t<odkx:intent xmlns:odkx="http://opendatakit.org/xforms" id="question7" class="app_id">\n\t\t\t<extra key="key1" ref="value1" />\n\t\t\t<response key="key2" ref="value2" />\n\t\t</odkx:intent>\n\t</h:head>\n\t<h:body>\n\t\t<input ref="/data/question1">\n\t\t\t<label ref="jr:itext(\'question1-label\')">non-itext label</label>\n\t\t\t<hint ref="jr:itext(\'question1-hint\')">non-itext hint</hint>\n\t\t\t<help ref="jr:itext(\'question1-help\')" />\n\t\t\t<alert ref="jr:itext(\'question1-constraintMsg\')" />\n\t\t</input>\n\t\t<trigger ref="/data/question2" appearance="minimal" />\n\t\t<trigger ref="/data/question30" />\n\t\t<select1 ref="/data/question3">\n\t\t\t<item>\n\t\t\t\t<label ref="jr:itext(\'question3-choice1-label\')" />\n\t\t\t\t<value>choice1</value>\n\t\t\t</item>\n\t\t\t<item>\n\t\t\t\t<label ref="jr:itext(\'question3-choice2-label\')" />\n\t\t\t\t<value>choice2</value>\n\t\t\t</item>\n\t\t</select1>\n\t\t\x3c!-- arbitrary control attributes --\x3e\n\t\t<select ref="/data/question6" foo="baz">\n\t\t</select>\n\t\t<input ref="/data/question13" />\n\t\t<input ref="/data/question14" appearance="numeric" />\n\t\t<input ref="/data/question15" />\n\t\t<input ref="/data/question16" />\n\t\t<input ref="/data/question17" />\n\t\t<input ref="/data/question18" />\n\t\t<input ref="/data/question19" />\n\t\t<group ref="/data/question21">\n\t\t\t<group>\n\t\t\t\t<repeat jr:noAddRemove="true()"  nodeset="/data/question21/question31" jr:count="2" />\n\t\t\t</group>\n\t\t</group>\n\t\t<group>\n\t\t\t<repeat nodeset="/data/question22">\n\t\t\t\t<jr:addEmptyCaption ref="jr:itext(\'question22-addEmptyCaption\')" />\n\t\t\t\t<jr:addCaption ref="jr:itext(\'question22-addCaption\')" />\n\t\t\t\t<group ref="/data/question22/question23" appearance="field-list">\n\t\t\t\t\t<group ref="/data/question22/question23/question40"/>\n\t\t\t\t\t<group>\n\t\t\t\t\t\t<repeat nodeset="/data/question22/question23/question41" />\n\t\t\t\t\t</group>\n\t\t\t\t\t<upload ref="/data/question22/question23/question24" mediatype="image/*" jr:imageDimensionScaledMax="250px" />\n\t\t\t\t\t<upload ref="/data/question22/question23/question25" mediatype="audio/*" />\n\t\t\t\t\t<upload ref="/data/question22/question23/question26" mediatype="video/*" />\n\t\t\t\t\t<input ref="/data/question22/question23/question27" />\n\t\t\t\t\t<secret ref="/data/question22/question23/question28" />\n\t\t\t\t\t<upload ref="/data/question22/question23/question29" mediatype="image/*" appearance="signature" />\n\t\t\t\t\t<upload ref="/data/question22/question23/question33" mediatype="application/*,text/*" />\n\t\t\t\t\t<input ref="/data/question22/question23/question7" appearance="intent:question7" />\n\t\t\t\t\t<input ref="/data/question22/question23/question35" mediatype="image/*" appearance="micro-image" />\n\t\t\t\t</group>\n\t\t\t</repeat>\n\t\t</group>\n\t\t<unrecognized>\n\t\t\t<raw control="xml" />\n\t\t</unrecognized>\n\t</h:body>\n</h:html>\n'},4321:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="undefined" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<one />\n\t\t\t\t\t<long />\n\t\t\t\t\t<Choice_Question />\n\t\t\t\t\t<question4 ids="" count="" current_index="" vellum:role="Repeat">\n\t\t\t\t\t\t<item id="" index="" jr:template="" />\n\t\t\t\t\t</question4>\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<instance src="jr://instance/casedb" id="casedb" />\n\t\t\t<bind vellum:nodeset="#form/one" nodeset="/data/one" type="xsd:string" />\n\t\t\t<bind vellum:nodeset="#form/long" nodeset="/data/long" type="xsd:string" />\n\t\t\t<bind vellum:nodeset="#form/Choice_Question" nodeset="/data/Choice_Question" />\n\t\t\t<bind nodeset="/data/question4/@current_index" vellum:calculate="count(#form/question4/item)" calculate="count(/data/question4/item)" />\n\t\t\t<bind vellum:nodeset="#form/question4/item" nodeset="/data/question4/item" />\n\t\t\t<setvalue event="xforms-ready" ref="/data/question4/@ids" value="join(\' \', instance(\'casedb\')/mother/child/@case_id)" />\n\t\t\t<setvalue event="xforms-ready" ref="/data/question4/@count" value="count-selected(/data/question4/@ids)" />\n\t\t\t<setvalue event="jr-insert" ref="/data/question4/item/@index" value="int(/data/question4/@current_index)" />\n\t\t\t<setvalue event="jr-insert" ref="/data/question4/item/@id" value="selected-at(/data/question4/@ids, ../@index)" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="one-label">\n\t\t\t\t\t\t<value>One</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="long-label">\n\t\t\t\t\t\t<value>This is going to be a really long display name that should be truncated</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="Choice_Question-label">\n\t\t\t\t\t\t<value>Choice_Question</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="Choice_Question-choice1-label">\n\t\t\t\t\t\t<value>Don\'t show up</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="question4/item-label">\n\t\t\t\t\t\t<value>question4</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<input vellum:ref="#form/one" ref="/data/one">\n\t\t\t<label ref="jr:itext(\'one-label\')" />\n\t\t</input>\n\t\t<input vellum:ref="#form/long" ref="/data/long">\n\t\t\t<label ref="jr:itext(\'long-label\')" />\n\t\t</input>\n\t\t<select1 vellum:ref="#form/Choice_Question" ref="/data/Choice_Question">\n\t\t\t<label ref="jr:itext(\'Choice_Question-label\')" />\n\t\t\t<item>\n\t\t\t\t<label ref="jr:itext(\'Choice_Question-choice1-label\')" />\n\t\t\t\t<value>choice1</value>\n\t\t\t</item>\n\t\t</select1>\n\t\t<group>\n\t\t\t<label ref="jr:itext(\'question4/item-label\')" />\n\t\t\t<repeat jr:count="/data/question4/@count" jr:noAddRemove="true()" vellum:nodeset="#form/question4/item" nodeset="/data/question4/item" />\n\t\t</group>\n\t</h:body>\n</h:html>\n'},3266:t=>{"use strict";t.exports='<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n  <h:head>\n    <h:title>Untitled Form</h:title>\n    <model>\n      <instance>\n        <data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/E1B03643-109D-4DC6-9737-815E4401DE79" uiVersion="1" version="1" name="Untitled Form">\n          <score />\n          <test_assessment vellum:role="ConnectAssessment">\n            <assessment xmlns="http://commcareconnect.com/data/v1/learn" id="test_assessment">\n              <user_score />\n            </assessment>\n          </test_assessment>\n        </data>\n      </instance>\n      <bind vellum:nodeset="#form/score" nodeset="/data/score" type="xsd:int" required="true()" />\n      <bind vellum:nodeset="#form/test_assessment" nodeset="/data/test_assessment" relevant="x = 1" />\n      <bind nodeset="/data/test_assessment/assessment/user_score" vellum:calculate="#form/score"  calculate="/data/score" />\n      <itext>\n        <translation lang="en" default="">\n          <text id="score-label">\n            <value>score</value>\n          </text>\n        </translation>\n      </itext>\n    </model>\n  </h:head>\n  <h:body>\n    <input vellum:ref="#form/score" ref="/data/score">\n      <label ref="jr:itext(\'score-label\')" />\n    </input>\n  </h:body>\n</h:html>\n'},4269:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/E1B03643-109D-4DC6-9737-815E4401DE79" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<name />\n\t\t\t\t\t<unit_one vellum:role="ConnectDeliverUnit">\n\t\t\t\t\t\t<deliver xmlns="http://commcareconnect.com/data/v1/learn" id="unit_one">\n                            <name>unit 1</name>\n                            <entity_id/>\n                            <entity_name/>\n\t\t\t\t\t\t</deliver>\n\t\t\t\t\t</unit_one>\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<instance src="jr://instance/session" id="commcaresession" />\n\t\t\t<bind vellum:nodeset="#form/name" nodeset="/data/name" type="xsd:string" />\n\t\t\t<bind vellum:nodeset="#form/unit_one" nodeset="/data/unit_one" relevant="x = 1" />\n\t\t\t<bind nodeset="/data/unit_one/deliver/entity_id" calculate="instance(\'commcaresession\')/session/data/value" />\n\t\t\t<bind nodeset="/data/unit_one/deliver/entity_name" vellum:calculate="#form/name" calculate="/data/name" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="name-label">\n\t\t\t\t\t\t<value>name</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<input vellum:ref="#form/name" ref="/data/name">\n\t\t\t<label ref="jr:itext(\'name-label\')" />\n\t\t</input>\n\t</h:body>\n</h:html>\n'},5781:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/E1B03643-109D-4DC6-9737-815E4401DE79" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<name />\n\t\t\t\t\t<module_1 vellum:role="ConnectLearnModule">\n\t\t\t\t\t\t<module xmlns="http://commcareconnect.com/data/v1/learn" id="module_1">\n\t\t\t\t\t\t\t<name>module 1</name>\n\t\t\t\t\t\t\t<description>Module 1 is fun&#10;Learning is fun</description>\n\t\t\t\t\t\t\t<time_estimate>2</time_estimate>\n\t\t\t\t\t\t</module>\n\t\t\t\t\t</module_1>\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/name" nodeset="/data/name" type="xsd:string" />\n\t\t\t<bind vellum:nodeset="#form/module_1" nodeset="/data/module_1" relevant="x = 2" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="name-label">\n\t\t\t\t\t\t<value>name</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<input vellum:ref="#form/name" ref="/data/name">\n\t\t\t<label ref="jr:itext(\'name-label\')" />\n\t\t</input>\n\t</h:body>\n</h:html>\n'},8545:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/DC38FCC5-930C-4385-AE6C-5B15ED1F95B1" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<stock_amount />\n\t\t\t\t\t<balance xmlns="http://commcarehq.org/ledger/v1" entity-id="" date="" section-id="stock" type="bal-0">\n\t\t\t\t\t\t<entry id="" quantity="" />\n\t\t\t\t\t</balance>\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<instance id="ledger" src="jr://instance/ledgerdb" />\n\t\t\t<instance id="commcaresession" src="jr://instance/session" />\n\t\t\t<instance id="products" src="jr://fixture/commtrack:products" />\n\t\t\t<bind vellum:nodeset="#form/stock_amount" nodeset="/data/stock_amount" type="xsd:int" />\n\t\t\t<bind nodeset="/data/balance[@type=\'bal-0\']" vellum:relevant="#form/stock_amount != 0" relevant="/data/stock_amount != 0" />\n\t\t\t<bind nodeset="/data/balance[@type=\'bal-0\']/entry/@quantity" vellum:calculate="#form/stock_amount" calculate="/data/stock_amount" />\n\t\t\t<setvalue event="xforms-ready" ref="/data/balance[@type=\'bal-0\']/entry/@id" value="instance(\'commcaresession\')/session/data/product_id" />\n\t\t\t<setvalue event="xforms-ready" ref="/data/balance[@type=\'bal-0\']/@entity-id" value="instance(\'commcaresession\')/session/data/case_id" />\n\t\t\t<setvalue event="xforms-ready" ref="/data/balance[@type=\'bal-0\']/@date" value="now()" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default=""/>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<input vellum:ref="#form/stock_amount" ref="/data/stock_amount"/>\n\t</h:body>\n</h:html>\n'},6592:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/DC38FCC5-930C-4385-AE6C-5B15ED1F95B1" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<stock_amount />\n\t\t\t\t\t<balance xmlns="http://commcarehq.org/ledger/v1" entity-id="" date="" section-id="stock" type="bal-0">\n\t\t\t\t\t\t<entry id="" quantity="" />\n\t\t\t\t\t</balance>\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<instance id="ledger" src="jr://instance/ledgerdb" />\n\t\t\t<instance id="commcaresession" src="jr://instance/session" />\n\t\t\t<instance id="products" src="jr://fixture/commtrack:products" />\n\t\t\t<bind vellum:nodeset="#form/stock_amount" nodeset="/data/stock_amount" type="xsd:int" />\n\t\t\t<bind nodeset="/data/balance[@type=\'bal-0\']" vellum:relevant="#form/stock_amount != 0" relevant="/data/stock_amount != 0" />\n\t\t\t<bind nodeset="/data/balance[@type=\'bal-0\']/entry/@id" calculate="instance(\'commcaresession\')/session/data/product_id" />\n\t\t\t<bind nodeset="/data/balance[@type=\'bal-0\']/entry/@quantity" vellum:calculate="#form/stock_amount" calculate="/data/stock_amount" />\n\t\t\t<bind nodeset="/data/balance[@type=\'bal-0\']/@entity-id" calculate="instance(\'commcaresession\')/session/data/case_id" />\n\t\t\t<bind nodeset="/data/balance[@type=\'bal-0\']/@date" calculate="now()" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default=""/>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<input vellum:ref="#form/stock_amount" ref="/data/stock_amount"/>\n\t</h:body>\n</h:html>\n'},3921:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/A5FFD0C5-2B9A-490D-9B6C-6503CDE0EF0F" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<transfer date="" xmlns="http://commcarehq.org/ledger/v1" type="trans" section-id="" vellum:role="Transfer">\n\t\t\t\t\t\t<entry id="" quantity="" />\n\t\t\t\t\t</transfer>\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<instance src="jr://instance/ledgerdb" id="ledger"></instance>\n\t\t\t<bind nodeset="/data/transfer[@type=\'trans\']/entry/@quantity" />\n\t\t\t<setvalue event="xforms-ready" ref="/data/transfer[@type=\'trans\']/@date" value="/data/meta/timeEnd" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="" />\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body />\n</h:html>\n'},4998:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/DC38FCC5-930C-4385-AE6C-5B15ED1F95B1" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<amount_received />\n\t\t\t\t\t<transfer xmlns="http://commcarehq.org/ledger/v1" src="" dest="" date="" section-id="stock" type="trans-1">\n\t\t\t\t\t\t<entry id="" quantity="" />\n\t\t\t\t\t</transfer>\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<instance id="ledger" src="jr://instance/ledgerdb" />\n\t\t\t<instance id="commcaresession" src="jr://instance/session" />\n\t\t\t<instance id="casedb" src="jr://instance/casedb" />\n\t\t\t<instance id="products" src="jr://fixture/commtrack:products" />\n\t\t\t<bind vellum:nodeset="#form/amount_received" nodeset="/data/amount_received" type="xsd:int" />\n\t\t\t<bind nodeset="/data/transfer[@type=\'trans-1\']" relevant="true()" />\n\t\t\t<bind nodeset="/data/transfer[@type=\'trans-1\']/entry/@quantity" vellum:calculate="#form/amount_received" calculate="/data/amount_received" />\n\t\t\t<setvalue event="xforms-ready" ref="/data/transfer[@type=\'trans-1\']/entry/@id" value="instance(\'commcaresession\')/session/data/product_id" />\n\t\t\t<setvalue event="xforms-ready" ref="/data/transfer[@type=\'trans-1\']/@src" value="instance(\'commcaresession\')/session/data/case_id" />\n\t\t\t<setvalue event="xforms-ready" ref="/data/transfer[@type=\'trans-1\']/@dest" value="instance(\'casedb\')/casedb/case[@case_id=instance(\'commcaresession\')/session/data/case_id]/index/parent" />\n\t\t\t<setvalue event="xforms-ready" ref="/data/transfer[@type=\'trans-1\']/@date" value="now()" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default=""/>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<input vellum:ref="#form/amount_received" ref="/data/amount_received"/>\n\t</h:body>\n</h:html>\n'},5891:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/DC38FCC5-930C-4385-AE6C-5B15ED1F95B1" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<amount_received />\n\t\t\t\t\t<transfer xmlns="http://commcarehq.org/ledger/v1" src="" dest="" date="" section-id="stock" type="trans-1">\n\t\t\t\t\t\t<entry id="" quantity="" />\n\t\t\t\t\t</transfer>\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<instance id="ledger" src="jr://instance/ledgerdb" />\n\t\t\t<instance id="commcaresession" src="jr://instance/session" />\n\t\t\t<instance id="casedb" src="jr://instance/casedb" />\n\t\t\t<instance id="products" src="jr://fixture/commtrack:products" />\n\t\t\t<bind vellum:nodeset="#form/amount_received" nodeset="/data/amount_received" type="xsd:int" />\n\t\t\t<bind nodeset="/data/transfer[@type=\'trans-1\']" relevant="true()" />\n\t\t\t<bind nodeset="/data/transfer[@type=\'trans-1\']/entry/@id" calculate="instance(\'commcaresession\')/session/data/product_id" />\n\t\t\t<bind nodeset="/data/transfer[@type=\'trans-1\']/entry/@quantity" vellum:calculate="#form/amount_received" calculate="/data/amount_received" />\n\t\t\t<bind nodeset="/data/transfer[@type=\'trans-1\']/@src" calculate="instance(\'commcaresession\')/session/data/case_id" />\n\t\t\t<bind nodeset="/data/transfer[@type=\'trans-1\']/@dest" calculate="instance(\'casedb\')/casedb/case[@case_id=instance(\'commcaresession\')/session/data/case_id]/index/parent" />\n\t\t\t<bind nodeset="/data/transfer[@type=\'trans-1\']/@date" calculate="now()" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default=""/>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<input vellum:ref="#form/amount_received" ref="/data/amount_received"/>\n\t</h:body>\n</h:html>\n'},9248:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/3760D84C-832E-48D0-80A8-FC206F09A767" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<label />\n\t\t\t\t\t<group>\n\t\t\t\t\t\t<text />\n\t\t\t\t\t\t<choice />\n\t\t\t\t\t</group>\n\t\t\t\t\t<likes />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/label" nodeset="/data/label" />\n\t\t\t<bind vellum:nodeset="#form/group" nodeset="/data/group" />\n\t\t\t<bind vellum:nodeset="#form/group/text" nodeset="/data/group/text" type="xsd:string" />\n\t\t\t<bind vellum:nodeset="#form/group/choice" nodeset="/data/group/choice" />\n\t\t\t<bind vellum:nodeset="#form/likes" nodeset="/data/likes" vellum:calculate="if(#form/group/choice = \'true\', 1, 0)" calculate="if(/data/group/choice = \'true\', 1, 0)" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="label-label">\n\t\t\t\t\t\t<value>This is English</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="group-label">\n\t\t\t\t\t\t<value>Group</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="text-label">\n\t\t\t\t\t\t<value>text with image</value>\n\t\t\t\t\t\t<value form="image">jr://file/commcare/image/data/en-text.png</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="group/choice-label">\n\t\t\t\t\t\t<value>Do you like it?</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="group/choice-true-label">\n\t\t\t\t\t\t<value>Yes</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="group/choice-false-label">\n\t\t\t\t\t\t<value>No</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t\t<translation lang="hin">\n\t\t\t\t\t<text id="label-label">\n\t\t\t\t\t\t<value>This is Hindi</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="group-label">\n\t\t\t\t\t\t<value>Group</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="text-label">\n\t\t\t\t\t\t<value>ひらがな</value>\n\t\t\t\t\t\t<value form="image">jr://file/commcare/image/data/hin-text.png</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="group/choice-label">\n\t\t\t\t\t\t<value>Do you like it?</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="group/choice-true-label">\n\t\t\t\t\t\t<value>Yes</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="group/choice-false-label">\n\t\t\t\t\t\t<value>No</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<trigger vellum:ref="#form/label" ref="/data/label" appearance="minimal">\n\t\t\t<label ref="jr:itext(\'label-label\')" />\n\t\t</trigger>\n\t\t<group vellum:ref="#form/group" ref="/data/group">\n\t\t\t<label ref="jr:itext(\'group-label\')" />\n\t\t\t<input vellum:ref="#form/group/text" ref="/data/group/text">\n\t\t\t\t<label ref="jr:itext(\'text-label\')" />\n\t\t\t</input>\n\t\t\t<select1 vellum:ref="#form/group/choice" ref="/data/group/choice">\n\t\t\t\t<label ref="jr:itext(\'group/choice-label\')" />\n\t\t\t\t<item>\n\t\t\t\t\t<label ref="jr:itext(\'group/choice-true-label\')" />\n\t\t\t\t\t<value>true</value>\n\t\t\t\t</item>\n\t\t\t\t<item>\n\t\t\t\t\t<label ref="jr:itext(\'group/choice-false-label\')" />\n\t\t\t\t\t<value>false</value>\n\t\t\t\t</item>\n\t\t\t</select1>\n\t\t</group>\n\t</h:body>\n</h:html>\n'},2040:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/ABC48248-64D6-4E47-9473-8C6DB669E9DA" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<text />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/text" nodeset="/data/text" type="xsd:string" constraint="1 = 0" jr:constraintMsg="jr:itext(\'text-constraintMsg\')" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="default-label">\n\t\t\t\t\t\t<value>default</value>\n\t\t\t\t\t\t<value form="audio">jr://file/commcare/audio/data/text.mp3</value>\n\t\t\t\t\t\t<value form="custom">custom</value>\n\t\t\t\t\t\t<value form="image">jr://file/commcare/image/data/text.png</value>\n\t\t\t\t\t\t<value form="long">long</value>\n\t\t\t\t\t\t<value form="short">short</value>\n\t\t\t\t\t\t<value form="video">jr://file/commcare/video/data/text.3gp</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="default-hint">\n\t\t\t\t\t\t<value>hint</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="default-help">\n\t\t\t\t\t\t<value>help</value>\n\t\t\t\t\t\t<value form="audio">jr://file/commcare/audio/help/data/text.mp3</value>\n\t\t\t\t\t\t<value form="image">jr://file/commcare/image/help/data/text.png</value>\n\t\t\t\t\t\t<value form="video">jr://file/commcare/video/help/data/text.3gp</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="text-constraintMsg">\n\t\t\t\t\t\t<value>valid</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t\t<translation lang="hin">\n\t\t\t\t\t<text id="default-label">\n\t\t\t\t\t\t<value>default</value>\n\t\t\t\t\t\t<value form="audio">jr://file/commcare/audio/data/text.mp3</value>\n\t\t\t\t\t\t<value form="custom">custom</value>\n\t\t\t\t\t\t<value form="image">jr://file/commcare/image/data/text.png</value>\n\t\t\t\t\t\t<value form="long">long</value>\n\t\t\t\t\t\t<value form="short">short</value>\n\t\t\t\t\t\t<value form="video">jr://file/commcare/video/data/text.3gp</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="default-hint">\n\t\t\t\t\t\t<value>hint</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="default-help">\n\t\t\t\t\t\t<value>help</value>\n\t\t\t\t\t\t<value form="audio">jr://file/commcare/audio/help/data/text.mp3</value>\n\t\t\t\t\t\t<value form="image">jr://file/commcare/image/help/data/text.png</value>\n\t\t\t\t\t\t<value form="video">jr://file/commcare/video/help/data/text.3gp</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="text-constraintMsg">\n\t\t\t\t\t\t<value>valid</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<input vellum:ref="#form/text" ref="/data/text">\n\t\t\t<label ref="jr:itext(\'default-label\')" />\n\t\t\t<hint ref="jr:itext(\'default-hint\')">hint label</hint>\n\t\t\t<help ref="jr:itext(\'default-help\')" />\n\t\t\t<alert ref="jr:itext(\'text-constraintMsg\')" />\n\t\t</input>\n\t</h:body>\n</h:html>\n'},6792:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/8DBFAFCF-D243-464F-8396-3417A69B4D2E" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<txt />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/txt" nodeset="/data/txt" type="xsd:string" constraint="1 = 0" relevant="x = y" jr:constraintMsg="jr:itext(\'txt-constraintMsg\')" required="true()" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="txt-label">\n\t\t\t\t\t\t<value>English Text</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="txt-constraintMsg">\n\t\t\t\t\t\t<value>Nope</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t\t<translation lang="hin">\n\t\t\t\t\t<text id="txt-label">\n\t\t\t\t\t\t<value>Hindi Text</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="txt-constraintMsg">\n\t\t\t\t\t\t<value>Nope</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<input vellum:ref="#form/txt" ref="/data/txt">\n\t\t\t<label ref="jr:itext(\'txt-label\')" />\n\t\t\t<alert ref="jr:itext(\'txt-constraintMsg\')" />\n\t\t</input>\n\t</h:body>\n</h:html>\n'},2003:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/3760D84C-832E-48D0-80A8-FC206F09A767" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<box />\n\t\t\t\t\t<fox />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/box" nodeset="/data/box" />\n\t\t\t<bind vellum:nodeset="#form/fox" nodeset="/data/fox" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="box-label">\n\t\t\t\t\t\t<value>In a box?</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="yes-label">\n\t\t\t\t\t\t<value>Yes</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="no-label">\n\t\t\t\t\t\t<value>No</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="fox-label">\n\t\t\t\t\t\t<value>With a fox?</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t\t<translation lang="hin">\n\t\t\t\t\t<text id="box-label">\n\t\t\t\t\t\t<value>In a box?</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="yes-label">\n\t\t\t\t\t\t<value>Yes</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="no-label">\n\t\t\t\t\t\t<value>No</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="fox-label">\n\t\t\t\t\t\t<value>With a fox?</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<select1 vellum:ref="#form/box" ref="/data/box">\n\t\t\t<label ref="jr:itext(\'box-label\')" />\n\t\t\t<item>\n\t\t\t\t<label ref="jr:itext(\'yes-label\')" />\n\t\t\t\t<value>yes</value>\n\t\t\t</item>\n\t\t\t<item>\n\t\t\t\t<label ref="jr:itext(\'no-label\')" />\n\t\t\t\t<value>no</value>\n\t\t\t</item>\n\t\t</select1>\n\t\t<select1 vellum:ref="#form/fox" ref="/data/fox">\n\t\t\t<label ref="jr:itext(\'fox-label\')" />\n\t\t\t<item>\n\t\t\t\t<label ref="jr:itext(\'yes-label\')" />\n\t\t\t\t<value>yes</value>\n\t\t\t</item>\n\t\t\t<item>\n\t\t\t\t<label ref="jr:itext(\'no-label\')" />\n\t\t\t\t<value>no</value>\n\t\t\t</item>\n\t\t</select1>\n\t</h:body>\n</h:html>\n'},9079:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/3760D84C-832E-48D0-80A8-FC206F09A767" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<text />\n\t\t\t\t\t<choice />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/text" nodeset="/data/text" type="xsd:string" />\n\t\t\t<bind vellum:nodeset="#form/choice" nodeset="/data/choice" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="default-label">\n\t\t\t\t\t\t<value>text with image</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="choice-label">\n\t\t\t\t\t\t<value>Do you like it?</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="choice-true-label">\n\t\t\t\t\t\t<value>Yes</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="choice-false-label">\n\t\t\t\t\t\t<value>No</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t\t<translation lang="hin">\n\t\t\t\t\t<text id="default-label">\n\t\t\t\t\t\t<value>text with image</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="choice-label">\n\t\t\t\t\t\t<value>Do you like it?</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="choice-true-label">\n\t\t\t\t\t\t<value>Yes</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="choice-false-label">\n\t\t\t\t\t\t<value>No</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<input vellum:ref="#form/text" ref="/data/text">\n\t\t\t<label ref="jr:itext(\'default-label\')" />\n\t\t</input>\n\t\t<select1 vellum:ref="#form/choice" ref="/data/choice">\n\t\t\t<label ref="jr:itext(\'choice-label\')" />\n\t\t\t<item>\n\t\t\t\t<label ref="jr:itext(\'choice-true-label\')" />\n\t\t\t\t<value>true</value>\n\t\t\t</item>\n\t\t\t<item>\n\t\t\t\t<label ref="jr:itext(\'choice-false-label\')" />\n\t\t\t\t<value>false</value>\n\t\t\t</item>\n\t\t</select1>\n\t</h:body>\n</h:html>\n'},55:t=>{"use strict";t.exports='<span>&lt;?xml version="1.0" encoding="UTF-8" ?&gt;<br>&lt;node&gt;<br>    &lt;value&gt;</span><del style="background:#ffe6e6;">aaa&lt;/value&gt;<br>&lt;/node&gt;<br>&lt;node&gt;<br>    &lt;value&gt;bbb</del><ins style="background:#e6ffe6;">ccc</ins><span>&lt;/value&gt;<br>&lt;/node&gt;<br></span>\n'},1220:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<node>\n    <value>aaa</value>\n</node>\n<node>\n    <value>bbb</value>\n</node>\n'},8203:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<node>\n    <value>ccc</value>\n</node>\n'},6468:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n    <h:head>\n        <h:title>Untitled Form</h:title>\n        <model>\n            <instance>\n                <data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/35276137-89A8-4DB1-8605-17E5B92D058C" uiVersion="1" version="1" name="Untitled Form">\n                    <group>\n                        <question1 />\n                        <question2 />\n                    </group>\n                    <question2 />\n                </data>\n            </instance>\n            <bind vellum:nodeset="#form/group" nodeset="/data/group" />\n            <bind vellum:nodeset="#form/group/question1" nodeset="/data/group/question1" type="xsd:string" />\n            <bind vellum:nodeset="#form/group/question2" nodeset="/data/group/question2" type="xsd:string" />\n            <bind vellum:nodeset="#form/question2" nodeset="/data/question2" type="xsd:string" vellum:relevant="#form/group/question1 = \'valley girl\' and #form/group/question2 = \'dude\'" relevant="/data/group/question1 = \'valley girl\' and /data/group/question2 = \'dude\'" />\n            <itext>\n                <translation lang="en" default="">\n                    <text id="group-label">\n                        <value>group</value>\n                    </text>\n                    <text id="group/question1-label">\n                        <value>question1</value>\n                    </text>\n                    <text id="group/question2-label">\n                        <value>question2</value>\n                    </text>\n                    <text id="question2-label">\n                        <value>question2</value>\n                    </text>\n                </translation>\n            </itext>\n        </model>\n    </h:head>\n    <h:body>\n        <group vellum:ref="#form/group" ref="/data/group">\n            <label ref="jr:itext(\'group-label\')" />\n            <input vellum:ref="#form/group/question1" ref="/data/group/question1">\n                <label ref="jr:itext(\'group/question1-label\')" />\n            </input>\n            <input vellum:ref="#form/group/question2" ref="/data/group/question2">\n                <label ref="jr:itext(\'group/question2-label\')" />\n            </input>\n        </group>\n        <input vellum:ref="#form/question2" ref="/data/question2">\n            <label ref="jr:itext(\'question2-label\')" />\n        </input>\n    </h:body>\n</h:html>\n'},5771:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/CB7A3F20-EE93-4371-B761-053F0412398F" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<hidden1 />\n\t\t\t\t\t<select1 />\n\t\t\t\t\t<hidden2 />\n\t\t\t\t\t<select2 />\n\t\t\t\t\t<hidden3 />\n\t\t\t\t\t<group>\n\t\t\t\t\t\t<hidden4 />\n\t\t\t\t\t\t<text3 />\n\t\t\t\t\t\t<hidden5 />\n\t\t\t\t\t\t<text4 />\n\t\t\t\t\t\t<hidden6 />\n\t\t\t\t\t</group>\n\t\t\t\t\t<hidden7 />\n\t\t\t\t\t<text5 />\n\t\t\t\t\t<hidden8 />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/hidden1" nodeset="/data/hidden1" />\n\t\t\t<bind vellum:nodeset="#form/select1" nodeset="/data/select1" />\n\t\t\t<bind vellum:nodeset="#form/hidden2" nodeset="/data/hidden2" />\n\t\t\t<bind vellum:nodeset="#form/select2" nodeset="/data/select2" />\n\t\t\t<bind vellum:nodeset="#form/hidden3" nodeset="/data/hidden3" />\n\t\t\t<bind vellum:nodeset="#form/group" nodeset="/data/group" />\n\t\t\t<bind vellum:nodeset="#form/group/hidden4" nodeset="/data/group/hidden4" />\n\t\t\t<bind vellum:nodeset="#form/group/text3" nodeset="/data/group/text3" type="xsd:string" />\n\t\t\t<bind vellum:nodeset="#form/group/hidden5" nodeset="/data/group/hidden5" />\n\t\t\t<bind vellum:nodeset="#form/group/text4" nodeset="/data/group/text4" type="xsd:string" />\n\t\t\t<bind vellum:nodeset="#form/group/hidden6" nodeset="/data/group/hidden6" />\n\t\t\t<bind vellum:nodeset="#form/hidden7" nodeset="/data/hidden7" />\n\t\t\t<bind vellum:nodeset="#form/text5" nodeset="/data/text5" type="xsd:string" />\n\t\t\t<bind vellum:nodeset="#form/hidden8" nodeset="/data/hidden8" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="select1-label">\n\t\t\t\t\t\t<value>select1</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="select1-item1-label">\n\t\t\t\t\t\t<value>item1</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="select1-item2-label">\n\t\t\t\t\t\t<value>item2</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="select2-label">\n\t\t\t\t\t\t<value>select2</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="select2-item1-label">\n\t\t\t\t\t\t<value>item1</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="select2-item2-label">\n\t\t\t\t\t\t<value>item2</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="group-label">\n\t\t\t\t\t\t<value>group</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="group/text3-label">\n\t\t\t\t\t\t<value>text3</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="group/text4-label">\n\t\t\t\t\t\t<value>text4</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="text5-label">\n\t\t\t\t\t\t<value>text5</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<select1 vellum:ref="#form/select1" ref="/data/select1">\n\t\t\t<label ref="jr:itext(\'select1-label\')" />\n\t\t\t<item>\n\t\t\t\t<label ref="jr:itext(\'select1-item1-label\')" />\n\t\t\t\t<value>item1</value>\n\t\t\t</item>\n\t\t\t<item>\n\t\t\t\t<label ref="jr:itext(\'select1-item2-label\')" />\n\t\t\t\t<value>item2</value>\n\t\t\t</item>\n\t\t</select1>\n\t\t<select vellum:ref="#form/select2" ref="/data/select2">\n\t\t\t<label ref="jr:itext(\'select2-label\')" />\n\t\t\t<item>\n\t\t\t\t<label ref="jr:itext(\'select2-item1-label\')" />\n\t\t\t\t<value>item1</value>\n\t\t\t</item>\n\t\t\t<item>\n\t\t\t\t<label ref="jr:itext(\'select2-item2-label\')" />\n\t\t\t\t<value>item2</value>\n\t\t\t</item>\n\t\t</select>\n\t\t<group vellum:ref="#form/group" ref="/data/group">\n\t\t\t<label ref="jr:itext(\'group-label\')" />\n\t\t\t<input vellum:ref="#form/group/text3" ref="/data/group/text3">\n\t\t\t\t<label ref="jr:itext(\'group/text3-label\')" />\n\t\t\t</input>\n\t\t\t<input vellum:ref="#form/group/text4" ref="/data/group/text4">\n\t\t\t\t<label ref="jr:itext(\'group/text4-label\')" />\n\t\t\t</input>\n\t\t</group>\n\t\t<input vellum:ref="#form/text5" ref="/data/text5">\n\t\t\t<label ref="jr:itext(\'text5-label\')" />\n\t\t</input>\n\t</h:body>\n</h:html>\n'},3368:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/06C75779-84D8-4FB9-A9C6-77BF7EC832D7" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<repeat jr:template="">\n\t\t\t\t\t\t<text />\n\t\t\t\t\t\t<hidden />\n\t\t\t\t\t</repeat>\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind nodeset="/data/repeat" />\n\t\t\t<bind nodeset="/data/repeat/text" type="xsd:string" />\n\t\t\t<bind nodeset="/data/repeat/hidden" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default=""/>\n\t\t\t\t<translation lang="hin"/>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<group>\n\t\t\t<repeat nodeset="/data/repeat">\n\t\t\t\t<input ref="/data/repeat/text"/>\n\t\t\t</repeat>\n\t\t</group>\n\t</h:body>\n</h:html>\n'},893:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/D3F4F84E-9F8B-442B-BCD4-6A054E1B1624" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<question1 />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/question1" nodeset="/data/question1" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="question1-label">\n\t\t\t\t\t\t<value>question1</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="question1-choice1-label">\n\t\t\t\t\t\t<value>choice1</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="question1-choice2-label">\n\t\t\t\t\t\t<value>choice2</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t\t<translation lang="hin">\n\t\t\t\t\t<text id="question1-label">\n\t\t\t\t\t\t<value>question1</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="question1-choice1-label">\n\t\t\t\t\t\t<value>choice1</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="question1-choice2-label">\n\t\t\t\t\t\t<value>choice2</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<select1 vellum:ref="#form/question1" ref="/data/question1">\n\t\t\t<label ref="jr:itext(\'question1-label\')" />\n\t\t\t<item>\n\t\t\t\t<label ref="jr:itext(\'question1-choice1-label\')" />\n\t\t\t\t<value>choice1</value>\n\t\t\t</item>\n\t\t\t<item>\n\t\t\t\t<label ref="jr:itext(\'question1-choice2-label\')" />\n\t\t\t\t<value>choice2</value>\n\t\t\t</item>\n\t\t</select1>\n\t</h:body>\n</h:html>\n'},3727:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/CB7A3F20-EE93-4371-B761-053F0412398F" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<text1 />\n\t\t\t\t\t<text2 />\n\t\t\t\t\t<group>\n\t\t\t\t\t\t<text3 />\n\t\t\t\t\t\t<text4 />\n\t\t\t\t\t\t<hidden2 />\n\t\t\t\t\t</group>\n\t\t\t\t\t<text5 />\n\t\t\t\t\t<hidden1 />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/text1" nodeset="/data/text1" type="xsd:string" />\n\t\t\t<bind vellum:nodeset="#form/text2" nodeset="/data/text2" type="xsd:string" />\n\t\t\t<bind vellum:nodeset="#form/group" nodeset="/data/group" />\n\t\t\t<bind vellum:nodeset="#form/group/text3" nodeset="/data/group/text3" type="xsd:string" />\n\t\t\t<bind vellum:nodeset="#form/group/text4" nodeset="/data/group/text4" type="xsd:string" />\n\t\t\t<bind vellum:nodeset="#form/group/hidden2" nodeset="/data/group/hidden2" />\n\t\t\t<bind vellum:nodeset="#form/text5" nodeset="/data/text5" type="xsd:string" />\n\t\t\t<bind vellum:nodeset="#form/hidden1" nodeset="/data/hidden1" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="text1-label">\n\t\t\t\t\t\t<value>text1</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="text2-label">\n\t\t\t\t\t\t<value>text2</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="group-label">\n\t\t\t\t\t\t<value>group</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="group/text3-label">\n\t\t\t\t\t\t<value>text3</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="group/text4-label">\n\t\t\t\t\t\t<value>text4</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="text5-label">\n\t\t\t\t\t\t<value>text5</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<input vellum:ref="#form/text1" ref="/data/text1">\n\t\t\t<label ref="jr:itext(\'text1-label\')" />\n\t\t</input>\n\t\t<input vellum:ref="#form/text2" ref="/data/text2">\n\t\t\t<label ref="jr:itext(\'text2-label\')" />\n\t\t</input>\n\t\t<group vellum:ref="#form/group" ref="/data/group">\n\t\t\t<label ref="jr:itext(\'group-label\')" />\n\t\t\t<input vellum:ref="#form/group/text3" ref="/data/group/text3">\n\t\t\t\t<label ref="jr:itext(\'group/text3-label\')" />\n\t\t\t</input>\n\t\t\t<input vellum:ref="#form/group/text4" ref="/data/group/text4">\n\t\t\t\t<label ref="jr:itext(\'group/text4-label\')" />\n\t\t\t</input>\n\t\t</group>\n\t\t<input vellum:ref="#form/text5" ref="/data/text5">\n\t\t\t<label ref="jr:itext(\'text5-label\')" />\n\t\t</input>\n\t</h:body>\n</h:html>\n'},5023:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/C81D08FB-70D1-475D-80FD-467D44A47B7A" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<q0 />\n\t\t\t\t\t<q1 />\n\t\t\t\t\t<h1 />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/q0" nodeset="/data/q0" type="xsd:string" />\n\t\t\t<bind vellum:nodeset="#form/q1" nodeset="/data/q1" type="xsd:string" relevant="/data/q2 = \'missing\'" />\n\t\t\t<bind vellum:nodeset="#form/h1" nodeset="/data/h1" calculate="/data/q3" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="q0-label">\n\t\t\t\t\t\t<value>q0</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="q1-label">\n\t\t\t\t\t\t<value>q1</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t\t<translation lang="hin">\n\t\t\t\t\t<text id="q0-label">\n\t\t\t\t\t\t<value>q0</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="q1-label">\n\t\t\t\t\t\t<value>q1</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<input vellum:ref="#form/q0" ref="/data/q0">\n\t\t\t<label ref="jr:itext(\'q0-label\')" />\n\t\t</input>\n\t\t<input vellum:ref="#form/q1" ref="/data/q1">\n\t\t\t<label ref="jr:itext(\'q1-label\')" />\n\t\t</input>\n\t</h:body>\n</h:html>\n'},7239:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n    <h:head>\n        <h:title>Vellum testing</h:title>\n        <model>\n            <instance>\n                <data xmlns:jrm="http://dev.commcarehq.org/jr/xforms"\n                      xmlns="http://openrosa.org/formdesigner/FFD00941-A932-471A-AEC8-87F6EFEF767F"\n                      uiVersion="1" version="1" name="Vellum testing">\n                    <state />\n                </data>\n            </instance>\n            <instance id="states" src="jr://fixture/item-list:state"></instance>\n            <bind vellum:nodeset="#form/state" nodeset="/data/state" />\n            <itext>\n                <translation lang="en" default="">\n                    <text id="state-label">\n                        <value>State</value>\n                    </text>\n                </translation>\n            </itext>\n        </model>\n    </h:head>\n    <h:body>\n        <select1 vellum:ref="#form/state" ref="/data/state">\n            <label ref="jr:itext(\'state-label\')" />\n            <itemset nodeset="instance(\'states\')/state_list/state">\n              <label ref="name"></label>\n              <value ref="id"></value>\n            </itemset>\n        </select1>\n    </h:body>\n</h:html>\n'},5743:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/DC38FCC5-930C-4385-AE6C-5B15ED1F95B1" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<mug />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<instance src="jr://instance/casedb" id="casedb" />\n\t\t\t<instance src="jr://instance/session" id="commcaresession" />\n\t\t\t<bind nodeset="/data/mug" calculate="instance(\'casedb\')/cases/case[@case_id = instance(\'commcaresession\')/session/data/case_id]/dob" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t</h:body>\n</h:html>\n'},2695:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/DC38FCC5-930C-4385-AE6C-5B15ED1F95B1" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<mug />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<instance src="jr://instance/casedb" id="casedb" />\n\t\t\t<instance src="jr://instance/session" id="commcaresession" />\n\t\t\t<bind vellum:nodeset="#form/mug" nodeset="/data/mug" type="xsd:string" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="mug-label">\n\t\t\t\t\t\t<value><output value="instance(\'casedb\')/cases/case[@case_id = instance(\'commcaresession\')/session/data/case_id]/dob" vellum:value="#case/dob" /></value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t\t<translation lang="hin">\n\t\t\t\t\t<text id="mug-label">\n\t\t\t\t\t\t<value><output value="instance(\'casedb\')/cases/case[@case_id = instance(\'commcaresession\')/session/data/case_id]/dob" vellum:value="#case/dob" /></value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t\t<vellum:hashtags>{&quot;#case/dob&quot;:null}</vellum:hashtags>\n\t\t<vellum:hashtagTransforms>{&quot;prefixes&quot;:{&quot;#case/parent/&quot;:&quot;instance(\'casedb\')/cases/case[@case_id = instance(\'casedb\')/cases/case[@case_id = instance(\'commcaresession\')/session/data/case_id]/index/parent]/&quot;,&quot;#case/&quot;:&quot;instance(\'casedb\')/cases/case[@case_id = instance(\'commcaresession\')/session/data/case_id]/&quot;}}</vellum:hashtagTransforms>\n\t</h:head>\n\t<h:body>\n\t\t<input vellum:ref="#form/mug" ref="/data/mug">\n\t\t\t<label ref="jr:itext(\'mug-label\')" />\n\t\t</input>\n\t</h:body>\n</h:html>\n'},4385:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/DC38FCC5-930C-4385-AE6C-5B15ED1F95B1" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<mug />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<instance src="jr://instance/casedb" id="casedb" />\n\t\t\t<instance src="jr://instance/session" id="commcaresession" />\n\t\t\t<bind vellum:nodeset="#form/mug" nodeset="/data/mug" type="xsd:string" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="mug-label">\n\t\t\t\t\t\t<value><output value="instance(\'casedb\')/cases/case[@case_id = instance(\'commcaresession\')/session/data/case_id]/dob" vellum:value="#case/dob" /></value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t\t<vellum:hashtags>{&quot;#case/dob&quot;:null}</vellum:hashtags>\n\t\t<vellum:hashtagTransforms>{&quot;prefixes&quot;:{&quot;#case/parent/&quot;:&quot;instance(\'casedb\')/cases/case[@case_id = instance(\'casedb\')/cases/case[@case_id = instance(\'commcaresession\')/session/data/case_id]/index/parent]/&quot;,&quot;#case/&quot;:&quot;instance(\'casedb\')/cases/case[@case_id = instance(\'commcaresession\')/session/data/case_id]/&quot;}}</vellum:hashtagTransforms>\n\t</h:head>\n\t<h:body>\n\t\t<input vellum:ref="#form/mug" ref="/data/mug">\n\t\t\t<label ref="jr:itext(\'mug-label\')" />\n\t\t</input>\n\t</h:body>\n</h:html>\n'},6715:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/DC38FCC5-930C-4385-AE6C-5B15ED1F95B1" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<mug />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<instance src="jr://instance/casedb" id="casedb" />\n\t\t\t<instance src="jr://instance/session" id="commcaresession" />\n\t\t\t<bind vellum:nodeset="#form/mug" nodeset="/data/mug" vellum:calculate="#case/dob" calculate="instance(\'casedb\')/cases/case[@case_id = instance(\'commcaresession\')/session/data/case_id]/dob" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t\t<vellum:hashtags>{&quot;#case/dob&quot;:null}</vellum:hashtags>\n\t\t<vellum:hashtagTransforms>{&quot;prefixes&quot;:{&quot;#case/parent/&quot;:&quot;instance(\'casedb\')/cases/case[@case_id = instance(\'casedb\')/cases/case[@case_id = instance(\'commcaresession\')/session/data/case_id]/index/parent]/&quot;,&quot;#case/&quot;:&quot;instance(\'casedb\')/cases/case[@case_id = instance(\'commcaresession\')/session/data/case_id]/&quot;}}</vellum:hashtagTransforms>\n\t</h:head>\n\t<h:body>\n\t</h:body>\n</h:html>\n'},1942:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum" vellum:ignore="richText">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/C8476EEA-C514-44FE-BF1D-F287BC8BD28C" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<dob />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<instance src="jr://instance/casedb" id="casedb" />\n\t\t\t<instance src="jr://instance/session" id="commcaresession" />\n\t\t\t<bind vellum:nodeset="#form/dob" nodeset="/data/dob" calculate="" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="" />\n\t\t\t</itext>\n\t\t</model>\n\t\t<vellum:hashtags>{&quot;#case/dob&quot;:null}</vellum:hashtags>\n\t\t<vellum:hashtagTransforms>{&quot;prefixes&quot;:{&quot;#case/parent/&quot;:&quot;instance(\'casedb\')/cases/case[@case_id = instance(\'casedb\')/cases/case[@case_id = instance(\'commcaresession\')/session/data/case_id]/index/parent]/&quot;,&quot;#case/&quot;:&quot;instance(\'casedb\')/cases/case[@case_id = instance(\'commcaresession\')/session/data/case_id]/&quot;}}</vellum:hashtagTransforms>\n\t</h:head>\n\t<h:body />\n</h:html>'},3092:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/DC38FCC5-930C-4385-AE6C-5B15ED1F95B1" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<mug />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<instance src="jr://instance/casedb" id="casedb" />\n\t\t\t<instance id="commcaresession" src="jr://instance/session" />\n\t\t\t<bind vellum:nodeset="#form/mug" nodeset="/data/mug" vellum:calculate="#case/parent/edd" calculate="instance(\'casedb\')/cases/case[@case_id = instance(\'casedb\')/cases/case[@case_id = instance(\'commcaresession\')/session/data/case_id]/index/parent]/edd" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t\t<vellum:hashtags>\n\t\t\t{&quot;#case/parent/edd&quot;:null}\n\t\t</vellum:hashtags>\n\t\t<vellum:hashtagTransforms>{&quot;prefixes&quot;:{&quot;#case/parent/&quot;:&quot;instance(\'casedb\')/cases/case[@case_id = instance(\'casedb\')/cases/case[@case_id = instance(\'commcaresession\')/session/data/case_id]/index/parent]/&quot;,&quot;#case/&quot;:&quot;instance(\'casedb\')/cases/case[@case_id = instance(\'commcaresession\')/session/data/case_id]/&quot;}}</vellum:hashtagTransforms>\n\t</h:head>\n\t<h:body>\n\t</h:body>\n</h:html>\n'},5179:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/DC38FCC5-930C-4385-AE6C-5B15ED1F95B1" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<mug />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<instance src="jr://instance/casedb" id="casedb" />\n\t\t\t<instance src="jr://instance/session" id="commcaresession" />\n\t\t\t<bind vellum:nodeset="#form/mug" nodeset="/data/mug" vellum:calculate="#case/dob" calculate="instance(\'casedb\')/cases/case[@case_id = instance(\'commcaresession\')/session/data/case_id]/dob" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t\t<vellum:hashtags>\n\t\t\t{&quot;#case/dob&quot;:null}\n\t\t</vellum:hashtags>\n\t\t<vellum:hashtagTransforms>{&quot;prefixes&quot;:{&quot;#case/parent/&quot;:&quot;instance(\'casedb\')/cases/case[@case_id = instance(\'casedb\')/cases/case[@case_id = instance(\'commcaresession\')/session/data/case_id]/index/parent]/&quot;,&quot;#case/&quot;:&quot;instance(\'casedb\')/cases/case[@case_id = instance(\'commcaresession\')/session/data/case_id]/&quot;}}</vellum:hashtagTransforms>\n\t</h:head>\n\t<h:body>\n\t</h:body>\n</h:html>\n'},2066:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/DC38FCC5-930C-4385-AE6C-5B15ED1F95B1" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<mug />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<instance src="jr://instance/casedb" id="casedb" />\n\t\t\t<instance src="jr://instance/session" id="commcaresession" />\n\t\t\t<bind vellum:nodeset="#form/mug" nodeset="/data/mug" vellum:calculate="#case/dob = #case/unknown" calculate="instance(\'casedb\')/cases/case[@case_id = instance(\'commcaresession\')/session/data/case_id]/dob = instance(\'casedb\')/cases/case[@case_id = instance(\'commcaresession\')/session/data/case_id]/unknown" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t\t<vellum:hashtags>\n\t\t\t{&quot;#case/dob&quot;:null, &quot;#case/unknown&quot;:null}\n\t\t</vellum:hashtags>\n\t\t<vellum:hashtagTransforms>{&quot;prefixes&quot;:{&quot;#case/parent/&quot;:&quot;instance(\'casedb\')/cases/case[@case_id = instance(\'casedb\')/cases/case[@case_id = instance(\'commcaresession\')/session/data/case_id]/index/parent]/&quot;,&quot;#case/&quot;:&quot;instance(\'casedb\')/cases/case[@case_id = instance(\'commcaresession\')/session/data/case_id]/&quot;}}</vellum:hashtagTransforms>\n\t</h:head>\n\t<h:body>\n\t</h:body>\n</h:html>\n'},5737:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/C8476EEA-C514-44FE-BF1D-F287BC8BD28C" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<dob />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<instance src="jr://instance/casedb" id="casedb" />\n\t\t\t<instance src="jr://instance/session" id="commcaresession" />\n\t\t\t<bind vellum:nodeset="#form/dob" nodeset="/data/dob" vellum:calculate="#case/dob" calculate="instance(\'casedb\')/cases/case[@case_id = instance(\'commcaresession\')/session/data/case_id]/dob" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="" />\n\t\t\t</itext>\n\t\t</model>\n\t\t<vellum:hashtags>{&quot;#case/dob&quot;:null}</vellum:hashtags>\n\t\t<vellum:hashtagTransforms>{&quot;prefixes&quot;:{&quot;#case/parent/&quot;:&quot;instance(\'casedb\')/cases/case[@case_id = instance(\'casedb\')/cases/case[@case_id = instance(\'commcaresession\')/session/data/case_id]/index/parent]/&quot;,&quot;#case/&quot;:&quot;instance(\'casedb\')/cases/case[@case_id = instance(\'commcaresession\')/session/data/case_id]/&quot;}}</vellum:hashtagTransforms>\n\t</h:head>\n\t<h:body />\n</h:html>'},224:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/938C01FA-667D-49DD-BE72-E65D436289CB" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<text />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<instance src="jr://instance/casedb" id="casedb" />\n\t\t\t<instance src="jr://instance/session" id="commcaresession" />\n\t\t\t<bind vellum:nodeset="#form/text" nodeset="/data/text" type="xsd:string" vellum:relevant="#case/parent/edd + #case/grandparent/days + #user/days" relevant="instance(\'casedb\')/cases/case[@case_id = instance(\'casedb\')/cases/case[@case_id = instance(\'commcaresession\')/session/data/case_id]/index/parent]/edd + instance(\'casedb\')/cases/case[@case_id = instance(\'casedb\')/cases/case[@case_id = instance(\'casedb\')/cases/case[@case_id = instance(\'commcaresession\')/session/data/case_id]/index/parent]/index/parent]/days + instance(\'casedb\')/cases/case[@case_type = \'commcare-user\'][hq_user_id = instance(\'commcaresession\')/session/context/userid]/days" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="text-label">\n\t\t\t\t\t\t<value><output value="instance(\'casedb\')/cases/case[@case_id = instance(\'commcaresession\')/session/data/case_id]/dob" vellum:value="#case/dob" /> </value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t\t<vellum:hashtags>{&quot;#user/days&quot;:null,&quot;#case/parent/edd&quot;:null,&quot;#case/grandparent/days&quot;:null,&quot;#case/dob&quot;:null}</vellum:hashtags>\n\t\t<vellum:hashtagTransforms>{&quot;prefixes&quot;:{&quot;#case/parent/&quot;:&quot;instance(\'casedb\')/cases/case[@case_id = instance(\'casedb\')/cases/case[@case_id = instance(\'commcaresession\')/session/data/case_id]/index/parent]/&quot;,&quot;#case/grandparent/&quot;:&quot;instance(\'casedb\')/cases/case[@case_id = instance(\'casedb\')/cases/case[@case_id = instance(\'casedb\')/cases/case[@case_id = instance(\'commcaresession\')/session/data/case_id]/index/parent]/index/parent]/&quot;,&quot;#user/&quot;:&quot;instance(\'casedb\')/cases/case[@case_type = \'commcare-user\'][hq_user_id = instance(\'commcaresession\')/session/context/userid]/&quot;,&quot;#case/&quot;:&quot;instance(\'casedb\')/cases/case[@case_id = instance(\'commcaresession\')/session/data/case_id]/&quot;}}</vellum:hashtagTransforms>\n\t</h:head>\n\t<h:body>\n\t\t<input vellum:ref="#form/text" ref="/data/text">\n\t\t\t<label ref="jr:itext(\'text-label\')" />\n\t\t</input>\n\t</h:body>\n</h:html>'},6496:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/C8476EEA-C514-44FE-BF1D-F287BC8BD28C" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<hid />\n\t\t\t\t\t<text />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<instance src="jr://instance/casedb" id="casedb" />\n\t\t\t<instance src="jr://instance/session" id="commcaresession" />\n\t\t\t<bind vellum:nodeset="#form/hid" nodeset="/data/hid" vellum:calculate="#case/unknown" calculate="instance(\'casedb\')/cases/case[@case_id = instance(\'commcaresession\')/session/data/case_id]/unknown" />\n\t\t\t<bind vellum:nodeset="#form/text" nodeset="/data/text" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="text-label">\n\t\t\t\t\t\t<value>Ref <output value="instance(\'casedb\')/casedb/case[@case_id = instance(\'commcaresession\')/session/data/case_id]/unknown" vellum:value="#case/unknown" /> </value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t\t<vellum:hashtags>{&quot;#case/unknown&quot;:null}</vellum:hashtags>\n\t\t<vellum:hashtagTransforms>{&quot;prefixes&quot;:{&quot;#case/parent/&quot;:&quot;instance(\'casedb\')/cases/case[@case_id = instance(\'casedb\')/cases/case[@case_id = instance(\'commcaresession\')/session/data/case_id]/index/parent]/&quot;,&quot;#case/&quot;:&quot;instance(\'casedb\')/cases/case[@case_id = instance(\'commcaresession\')/session/data/case_id]/&quot;}}</vellum:hashtagTransforms>\n\t</h:head>\n\t<h:body>\n\t\t<input vellum:ref="#form/text" ref="/data/text">\n\t\t\t<label ref="jr:itext(\'text-label\')" />\n\t\t</input>\n\t</h:body>\n</h:html>'},4348:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/960D6510-6982-48D9-BDB0-A70E352F8A57" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<before-child />\n\t\t\t\t\t<parent>\n\t\t\t\t\t\t<child />\n\t\t\t\t\t</parent>\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/before-child" nodeset="/data/before-child" type="xsd:string" />\n\t\t\t<bind vellum:nodeset="#form/parent" nodeset="/data/parent" />\n\t\t\t<bind vellum:nodeset="#form/parent/child" nodeset="/data/parent/child" type="xsd:string" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="before-child-label">\n\t\t\t\t\t\t<value>before-child</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="child-label">\n\t\t\t\t\t\t<value>child</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="parent-label">\n\t\t\t\t\t\t<value>parent</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<input vellum:ref="#form/before-child" ref="/data/before-child">\n\t\t\t<label ref="jr:itext(\'before-child-label\')" />\n\t\t</input>\n\t\t<input vellum:ref="#form/parent/child" ref="/data/parent/child">\n\t\t\t<label ref="jr:itext(\'child-label\')" />\n\t\t</input>\n\t\t<group vellum:ref="#form/parent" ref="/data/parent">\n\t\t\t<label ref="jr:itext(\'parent-label\')" />\n\t\t</group>\n\t</h:body>\n</h:html>\n'},6889:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/960D6510-6982-48D9-BDB0-A70E352F8A57" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<after-child />\n\t\t\t\t\t<parent>\n\t\t\t\t\t\t<child />\n\t\t\t\t\t</parent>\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/after-child" nodeset="/data/after-child" type="xsd:string" />\n\t\t\t<bind vellum:nodeset="#form/parent" nodeset="/data/parent" />\n\t\t\t<bind vellum:nodeset="#form/parent/child" nodeset="/data/parent/child" type="xsd:string" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="child-label">\n\t\t\t\t\t\t<value>child</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="after-child-label">\n\t\t\t\t\t\t<value>after-child</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="parent-label">\n\t\t\t\t\t\t<value>parent</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<input vellum:ref="#form/parent/child" ref="/data/parent/child">\n\t\t\t<label ref="jr:itext(\'child-label\')" />\n\t\t</input>\n        <input vellum:ref="#form/after-child" ref="/data/after-child">\n            <label ref="jr:itext(\'after-child-label\')" />\n        </input>\n\t\t<group vellum:ref="#form/parent" ref="/data/parent">\n\t\t\t<label ref="jr:itext(\'parent-label\')" />\n\t\t</group>\n\t</h:body>\n</h:html>\n'},5290:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/960D6510-6982-48D9-BDB0-A70E352F8A57" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<before-child />\n\t\t\t\t\t<after-child />\n\t\t\t\t\t<parent>\n\t\t\t\t\t\t<child />\n\t\t\t\t\t</parent>\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/before-child" nodeset="/data/before-child" type="xsd:string" />\n\t\t\t<bind vellum:nodeset="#form/after-child" nodeset="/data/after-child" type="xsd:string" />\n\t\t\t<bind vellum:nodeset="#form/parent" nodeset="/data/parent" />\n\t\t\t<bind vellum:nodeset="#form/parent/child" nodeset="/data/parent/child" type="xsd:string" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="before-child-label">\n\t\t\t\t\t\t<value>before-child</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="child-label">\n\t\t\t\t\t\t<value>child</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="after-child-label">\n\t\t\t\t\t\t<value>after-child</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="parent-label">\n\t\t\t\t\t\t<value>parent</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<input vellum:ref="#form/before-child" ref="/data/before-child">\n\t\t\t<label ref="jr:itext(\'before-child-label\')" />\n\t\t</input>\n\t\t<input vellum:ref="#form/parent/child" ref="/data/parent/child">\n\t\t\t<label ref="jr:itext(\'child-label\')" />\n\t\t</input>\n\t\t<input vellum:ref="#form/after-child" ref="/data/after-child">\n\t\t\t<label ref="jr:itext(\'after-child-label\')" />\n\t\t</input>\n\t\t<group vellum:ref="#form/parent" ref="/data/parent">\n\t\t\t<label ref="jr:itext(\'parent-label\')" />\n\t\t</group>\n\t</h:body>\n</h:html>\n'},7359:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/960D6510-6982-48D9-BDB0-A70E352F8A57" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<parent>\n\t\t\t\t\t\t<normal-child />\n\t\t\t\t\t\t<different-child />\n\t\t\t\t\t</parent>\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/parent" nodeset="/data/parent" />\n\t\t\t<bind vellum:nodeset="#form/parent/normal-child" nodeset="/data/parent/normal-child" type="xsd:string" />\n\t\t\t<bind vellum:nodeset="#form/parent/different-child" nodeset="/data/parent/different-child" type="xsd:string" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="different-child-label">\n\t\t\t\t\t\t<value>different-child</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="parent-label">\n\t\t\t\t\t\t<value>parent</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="normal-child-label">\n\t\t\t\t\t\t<value>normal-child</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<input vellum:ref="#form/parent/different-child" ref="/data/parent/different-child">\n\t\t\t<label ref="jr:itext(\'different-child-label\')" />\n\t\t</input>\n\t\t<group vellum:ref="#form/parent" ref="/data/parent">\n\t\t\t<label ref="jr:itext(\'parent-label\')" />\n\t\t\t<input vellum:ref="#form/parent/normal-child" ref="/data/parent/normal-child">\n\t\t\t\t<label ref="jr:itext(\'normal-child-label\')" />\n\t\t\t</input>\n\t\t</group>\n\t</h:body>\n</h:html>\n'},6838:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/960D6510-6982-48D9-BDB0-A70E352F8A57" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<group />\n\t\t\t\t\t<text />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/group" nodeset="/data/group" />\n\t\t\t<bind vellum:nodeset="#form/text" nodeset="/data/text" type="xsd:string" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="group-label">\n\t\t\t\t\t\t<value>group</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="text-label">\n\t\t\t\t\t\t<value>text</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<group vellum:ref="#form/group" ref="/data/group">\n\t\t\t<label ref="jr:itext(\'group-label\')" />\n\t\t\t<input vellum:ref="#form/text" ref="/data/text">\n\t\t\t\t<label ref="jr:itext(\'text-label\')" />\n\t\t\t</input>\n\t\t</group>\n\t</h:body>\n</h:html>\n'},3634:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/939C596B-AD0C-4BB8-8717-F00707F71909" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<text />\n\t\t\t\t\t<hidden />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/text" nodeset="/data/text" type="xsd:string" vellum:relevant="#invalid/xpath (`#form/hidden`" relevant="(/data/hidden" />\n\t\t\t<bind vellum:nodeset="#form/hidden" nodeset="/data/hidden" vellum:calculate="#form/text" calculate="/data/text" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default=""/>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<input vellum:ref="#form/text" ref="/data/text"/>\n\t</h:body>\n</h:html>\n'},4345:t=>{"use strict";t.exports="Question\tType\tText (en)\tText (hin)\tAudio (en)\tAudio (hin)\tImage (en)\tImage (hin)\tVideo (en)\tVideo (hin)\tVideo Inline (en)\tVideo Inline (hin)\tDisplay Condition\tValidation Condition\tValidation Message\tCalculate Condition\tRequired\tHint Text\tHelp Text\tComment\n/group\tGroup\tgroup\tgroup\t\t\t\t\t\t\t\t\t\t\t\t\tno\t\t\t\n/group/question1\tMultiple Choice\tquestion1\tquestion1\t\t\t\t\t\t\t\t\t\t\t\t\tno\t\t\t\n/group/question1-1x\tChoice\titem1\titem1\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n/group/question1-2x\tChoice\titem2\titem2\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"},9593:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/A65D7357-3B8A-427E-8D11-356A8BA32173" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<group>\n\t\t\t\t\t\t<question1 />\n\t\t\t\t\t</group>\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/group" nodeset="/data/group" />\n\t\t\t<bind vellum:nodeset="#form/group/question1" nodeset="/data/group/question1" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="group-label">\n\t\t\t\t\t\t<value>group</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="question1-label">\n\t\t\t\t\t\t<value>question1</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="question1-1x-label">\n\t\t\t\t\t\t<value>item1</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="question1-2x-label">\n\t\t\t\t\t\t<value>item2</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<group vellum:ref="#form/group" ref="/data/group">\n\t\t\t<label ref="jr:itext(\'group-label\')" />\n\t\t\t<select1 vellum:ref="#form/group/question1" ref="/data/group/question1">\n\t\t\t\t<label ref="jr:itext(\'question1-label\')" />\n\t\t\t\t<item>\n\t\t\t\t\t<label ref="jr:itext(\'question1-1x-label\')" />\n\t\t\t\t\t<value>1x</value>\n\t\t\t\t</item>\n\t\t\t\t<item>\n\t\t\t\t\t<label ref="jr:itext(\'question1-2x-label\')" />\n\t\t\t\t\t<value>2x</value>\n\t\t\t\t</item>\n\t\t\t</select1>\n\t\t</group>\n\t</h:body>\n</h:html>\n'},7217:t=>{"use strict";t.exports="Question\tType\tText (en)\tText (hin)\tAudio (en)\tAudio (hin)\tImage (en)\tImage (hin)\tVideo (en)\tVideo (hin)\tVideo Inline (en)\tVideo Inline (hin)\tDisplay Condition\tValidation Condition\tValidation Message\tCalculate Condition\tRequired\tHint Text\tHelp Text\tComment\n/question1\tText\tquestion1\tquestion1\t\t\t\t\tjr://file/commcare/video/data/question1.3gp\tjr://file/commcare/video/data/question1.3gp\tjr://file/commcare/video-inline/data/question1.3gp\tjr://file/commcare/video-inline/data/question1.3gp\t\t\t\t\tno\t\t\t"},9489:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/48883BF5-AE38-44B7-B08C-77BA528EDA8E" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<question1 />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/question1" nodeset="/data/question1" type="xsd:string" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="question1-label">\n\t\t\t\t\t\t<value>question1</value>\n\t\t\t\t\t\t<value form="video">jr://file/commcare/video/data/question1.3gp</value>\n\t\t\t\t\t\t<value form="video-inline">jr://file/commcare/video-inline/data/question1.3gp</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t\t<translation lang="hin">\n\t\t\t\t\t<text id="question1-label">\n\t\t\t\t\t\t<value>question1</value>\n\t\t\t\t\t\t<value form="video">jr://file/commcare/video/data/question1.3gp</value>\n\t\t\t\t\t\t<value form="video-inline">jr://file/commcare/video-inline/data/question1.3gp</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<input vellum:ref="#form/question1" ref="/data/question1">\n\t\t\t<label ref="jr:itext(\'question1-label\')" />\n\t\t</input>\n\t</h:body>\n</h:html>\n'},206:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<other xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/B0006B1B-5417-453A-9997-4F7D7B54B3B8" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<blue />\n\t\t\t\t</other>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/blue" nodeset="/other/blue" type="xsd:string" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="blue-label">\n\t\t\t\t\t\t<value>blue</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<input ref="blue">\n\t\t\t<label ref="jr:itext(\'blue-label\')" />\n\t\t</input>\n\t</h:body>\n</h:html>\n'},4526:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/D84CF253-0C19-40B4-B6A0-62D4D3E9492C" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<red />\n\t\t\t\t\t<group>\n\t\t\t\t\t\t<blue />\n\t\t\t\t\t\t<green />\n\t\t\t\t\t</group>\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/red" nodeset="/data/red" type="xsd:string" />\n\t\t\t<bind vellum:nodeset="#form/group" nodeset="/data/group" />\n\t\t\t<bind vellum:nodeset="#form/group/blue" nodeset="/data/group/blue" type="xsd:string" />\n\t\t\t<bind vellum:nodeset="#form/group/green" nodeset="/data/group/green" type="xsd:string" vellum:relevant="#form/group/blue = \'red\' and #form/red = \'blue\'" relevant="/data/group/blue = \'red\' and /data/red = \'blue\'" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="red-label">\n\t\t\t\t\t\t<value>red</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="group-label">\n\t\t\t\t\t\t<value>group</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="group/blue-label">\n\t\t\t\t\t\t<value>blue</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="group/green-label">\n\t\t\t\t\t\t<value>green</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<input vellum:ref="#form/red" ref="/data/red">\n\t\t\t<label ref="jr:itext(\'red-label\')" />\n\t\t</input>\n\t\t<group vellum:ref="#form/group" ref="/data/group">\n\t\t\t<label ref="jr:itext(\'group-label\')" />\n\t\t\t<input vellum:ref="#form/group/blue" ref="/data/group/blue">\n\t\t\t\t<label ref="jr:itext(\'group/blue-label\')" />\n\t\t\t</input>\n\t\t\t<input vellum:ref="#form/group/green" ref="/data/group/green">\n\t\t\t\t<label ref="jr:itext(\'group/green-label\')" />\n\t\t\t</input>\n\t\t</group>\n\t</h:body>\n</h:html>\n'},1055:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/F1210EA5-49BA-4B44-A572-7C625D480C88" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<group>\n\t\t\t\t\t\t<label />\n\t\t\t\t\t\t<hidden />\n\t\t\t\t\t</group>\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/group" nodeset="/data/group" />\n\t\t\t<bind vellum:nodeset="#form/group/label" nodeset="/data/group/label" vellum:relevant="#form/group/hidden = \'abc\'" relevant="/data/group/hidden = \'abc\'" />\n\t\t\t<bind vellum:nodeset="#form/group/hidden" nodeset="/data/group/hidden" calculate="1" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="group-label">\n\t\t\t\t\t\t<value>group</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="group/label-label">\n\t\t\t\t\t\t<value>label <output vellum:value="#form/group/hidden" value="/data/group/hidden"></output></value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<group vellum:ref="#form/group" ref="/data/group">\n\t\t\t<label ref="jr:itext(\'group-label\')" />\n\t\t\t<trigger vellum:ref="#form/group/label" ref="/data/group/label" appearance="minimal">\n\t\t\t\t<label ref="jr:itext(\'group/label-label\')" />\n\t\t\t</trigger>\n\t\t</group>\n\t</h:body>\n</h:html>\n'},3295:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n    <h:head>\n        <h:title>Untitled Form</h:title>\n        <model>\n            <instance>\n                <data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/606D428D-4D37-43A5-81E2-EB793CE4E441" uiVersion="1" version="1" name="Untitled Form">\n                    <question1 />\n                    <question5 />\n                    <question2>\n                        <question3 />\n                    </question2>\n                    <question6 />\n                    <question4 />\n                </data>\n            </instance>\n            <bind vellum:nodeset="#form/question1" nodeset="/data/question1" type="xsd:string" />\n            <bind vellum:nodeset="#form/question5" nodeset="/data/question5" />\n            <bind vellum:nodeset="#form/question2" nodeset="/data/question2" />\n            <bind vellum:nodeset="#form/question2/question3" nodeset="/data/question2/question3" type="xsd:string" />\n            <bind vellum:nodeset="#form/question6" nodeset="/data/question6" />\n            <bind vellum:nodeset="#form/question4" nodeset="/data/question4" type="xsd:string" />\n            <itext>\n                <translation lang="en" default="">\n                    <text id="question1-label">\n                        <value>question1</value>\n                    </text>\n                    <text id="question2-label">\n                        <value>question2</value>\n                    </text>\n                    <text id="question2/question3-label">\n                        <value>question3</value>\n                    </text>\n                    <text id="question4-label">\n                        <value>question4</value>\n                    </text>\n                </translation>\n            </itext>\n        </model>\n    </h:head>\n    <h:body>\n        <input vellum:ref="#form/question1" ref="/data/question1">\n            <label ref="jr:itext(\'question1-label\')" />\n        </input>\n        <group vellum:ref="#form/question2" ref="/data/question2">\n            <label ref="jr:itext(\'question2-label\')" />\n            <input vellum:ref="#form/question2/question3" ref="/data/question2/question3">\n                <label ref="jr:itext(\'question2/question3-label\')" />\n            </input>\n        </group>\n        <input vellum:ref="#form/question4" ref="/data/question4">\n            <label ref="jr:itext(\'question4-label\')" />\n        </input>\n    </h:body>\n</h:html>\n'},688:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/38975ec8a2d227893fa2ef64793d2afb4cb94dc7" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<contact_chiefdom />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<instance id="groups" src="jr://fixture/user-groups"/>\n\t\t\t<bind vellum:nodeset="#form/contact_chiefdom" nodeset="/data/contact_chiefdom" required="true()" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="question7-label">\n\t\t\t\t\t\t<value>Contact\'s Chiefdom</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<select1 vellum:ref="#form/contact_chiefdom" ref="/data/contact_chiefdom">\n\t\t\t<label ref="jr:itext(\'question7-label\')" />\n\t\t\t<itemset nodeset="instance(\'groups\')/groups/group[count(group_data/data[@key = \'group_type\'][. = \'chiefdom\']) &gt; 0]">\n\t\t\t\t<label ref="name" />\n\t\t\t\t<value ref="@id" />\n\t\t\t</itemset>\n\t\t</select1>\n\t</h:body>\n</h:html>\n'},9675:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/C1D14B65-7FA3-4A88-B5C6-217B6DBB3BB2" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<score />\n\t\t\t\t\t<output />\n\t\t\t\t\t<result />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<instance id="scores">\n\t\t\t\t<score low="0.0" high="500.0">You\'re really bad</score>\n\t\t\t\t<score low="500.0" high="99999999.0">You\'re really good</score>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/score" nodeset="/data/score" type="xsd:int" />\n\t\t\t<bind vellum:nodeset="#form/output" nodeset="/data/output" vellum:calculate="instance(\'scores\')/score[@high &gt; #form/score][@low &lt; #form/score]" calculate="instance(\'scores\')/score[@high &gt; /data/score][@low &lt; /data/score]" />\n\t\t\t<bind vellum:nodeset="#form/result" nodeset="/data/result" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="score-label">\n\t\t\t\t\t\t<value>What was your score</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="result-label">\n\t\t\t\t\t\t<value><output vellum:value="#form/output" value="/data/output" /></value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<input vellum:ref="#form/score" ref="/data/score">\n\t\t\t<label ref="jr:itext(\'score-label\')" />\n\t\t</input>\n\t\t<trigger vellum:ref="#form/result" ref="/data/result" appearance="minimal">\n\t\t\t<label ref="jr:itext(\'result-label\')" />\n\t\t</trigger>\n\t</h:body>\n</h:html>\n'},9755:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n    <h:head>\n        <h:title>Untitled Form</h:title>\n        <model>\n            <instance>\n                <data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/606D428D-4D37-43A5-81E2-EB793CE4E441" uiVersion="1" version="1" name="Untitled Form">\n                    <question1 />\n                    <question5 />\n                    <question2>\n                        <question3 />\n                    </question2>\n                    <question6 />\n                    <question4 />\n                </data>\n            </instance>\n            <bind vellum:nodeset="#form/question1" nodeset="/data/question1" type="xsd:string" />\n            <bind vellum:nodeset="#form/question5" nodeset="/data/question5" />\n            <bind vellum:nodeset="#form/question2" nodeset="/data/question2" />\n            <bind vellum:nodeset="#form/question2/question3" nodeset="/data/question2/question3" type="xsd:string" />\n            <bind vellum:nodeset="#form/question6" nodeset="/data/question6" />\n            <bind vellum:nodeset="#form/question4" nodeset="/data/question4" type="xsd:string" />\n            <itext>\n                <translation lang="en" default="">\n                    <text id="question1-label">\n                        <value>question1</value>\n                    </text>\n                    <text id="question2-label">\n                        <value>question2</value>\n                    </text>\n                    <text id="question2/question3-label">\n                        <value>question3</value>\n                    </text>\n                    <text id="question2/question4-label">\n                        <value>question4</value>\n                    </text>\n                </translation>\n            </itext>\n        </model>\n    </h:head>\n    <h:body>\n        <input vellum:ref="#form/question1" ref="/data/question1">\n            <label ref="jr:itext(\'question1-label\')" />\n        </input>\n        <input vellum:ref="#form/question4" ref="/data/question4">\n            <label ref="jr:itext(\'question2/question4-label\')" />\n        </input>\n        <group vellum:ref="#form/question2" ref="/data/question2">\n            <label ref="jr:itext(\'question2-label\')" />\n            <input vellum:ref="#form/question2/question3" ref="/data/question2/question3">\n                <label ref="jr:itext(\'question2/question3-label\')" />\n            </input>\n        </group>\n    </h:body>\n</h:html>\n'},7025:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/510328F4-59B2-4168-ABF7-F96FA40BB790" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<choice />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/choice" nodeset="/data/choice" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="choice-label">\n\t\t\t\t\t\t<value>choice</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="choice-empty-label">\n\t\t\t\t\t\t<value>empty</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<select1 vellum:ref="#form/choice" ref="/data/choice">\n\t\t\t<label ref="jr:itext(\'choice-label\')" />\n\t\t\t<item>\n\t\t\t\t<label ref="jr:itext(\'choice-empty-label\')" />\n\t\t\t</item>\n\t\t</select1>\n\t</h:body>\n</h:html>\n'},9521:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<%=title%>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/E5EA8911-36D1-418B-99DE-9DA98BB0F333" uiVersion="1" version="1" <%=dataName%> />\n\t\t\t</instance>\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="" />\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body />\n</h:html>'},3951:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/2F1F2BF5-6244-4C20-9B6F-2EF2A7BD2F34" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<group1>\n\t\t\t\t\t\t<group2>\n\t\t\t\t\t\t\t<group3 />\n\t\t\t\t\t\t</group2>\n\t\t\t\t\t</group1>\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/group1" nodeset="/data/group1" />\n\t\t\t<bind vellum:nodeset="#form/group1/group2" nodeset="/data/group1/group2" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="group1-label">\n\t\t\t\t\t\t<value>group1</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="group1/group2-label">\n\t\t\t\t\t\t<value>group2</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="group1/group2/group3-label">\n\t\t\t\t\t\t<value>group3</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<group vellum:ref="#form/group1" ref="/data/group1">\n\t\t\t<label ref="jr:itext(\'group1-label\')" />\n\t\t\t<group vellum:ref="#form/group1/group2" ref="/data/group1/group2">\n\t\t\t\t<label ref="jr:itext(\'group1/group2-label\')" />\n\t\t\t\t<group vellum:ref="#form/group1/group2/group3" ref="/data/group1/group2/group3">\n\t\t\t\t\t<label ref="jr:itext(\'group1/group2/group3-label\')" />\n\t\t\t\t</group>\n\t\t\t</group>\n\t\t</group>\n\t</h:body>\n</h:html>\n'},6973:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/B0006B1B-5417-453A-9997-4F7D7B54B3B8" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<blue />\n\t\t\t\t\t<green />\n\t\t\t\t\t<black />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/blue" nodeset="/data/blue" type="xsd:string" />\n\t\t\t<bind vellum:nodeset="#form/green" nodeset="/data/green" type="xsd:string" />\n\t\t\t<bind vellum:nodeset="#form/black" nodeset="/data/black" type="xsd:string" vellum:relevant="#form/blue = \'abc\'" relevant="/data/blue = \'abc\'" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="blue-label">\n\t\t\t\t\t\t<value>blue</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="green-label">\n\t\t\t\t\t\t<value>green</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="black-label">\n\t\t\t\t\t\t<value>black</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<input vellum:ref="#form/blue" ref="/data/blue">\n\t\t\t<label ref="jr:itext(\'blue-label\')" />\n\t\t</input>\n\t\t<input vellum:ref="#form/green" ref="/data/green">\n\t\t\t<label ref="jr:itext(\'green-label\')" />\n\t\t</input>\n\t\t<input vellum:ref="#form/black" ref="/data/black">\n\t\t\t<label ref="jr:itext(\'black-label\')" />\n\t\t</input>\n\t</h:body>\n</h:html>\n'},3261:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n    <h:head>\n        <h:title>Untitled Form</h:title>\n        <model>\n            <instance>\n                <data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/D1202637-1EFD-4A9C-A0CE-958FD137F9AF" uiVersion="1" version="1" name="Untitled Form">\n                    <question1 />\n                    <question2 />\n                </data>\n            </instance>\n            <bind vellum:nodeset="#form/question1" nodeset="/data/question1" />\n            <bind vellum:nodeset="#form/question2" nodeset="/data/question2" />\n            <itext>\n                <translation lang="en" default="">\n                    <text id="question1-label">\n                        <value>question1</value>\n                    </text>\n                    <text id="question1-item1-label">\n                        <value>item1</value>\n                    </text>\n                    <text id="question2-item1-label">\n                        <value>item1</value>\n                    </text>\n                    <text id="question1-item2-label">\n                        <value>item2</value>\n                    </text>\n                    <text id="question2-label">\n                        <value>question2</value>\n                    </text>\n                    <text id="question2-item2-label">\n                        <value>item2</value>\n                    </text>\n                </translation>\n            </itext>\n        </model>\n    </h:head>\n    <h:body>\n        <select1 vellum:ref="#form/question1" ref="/data/question1">\n            <label ref="jr:itext(\'question1-label\')" />\n            <item>\n                <label ref="jr:itext(\'question1-item1-label\')" />\n                <value>item1</value>\n            </item>\n            <item>\n                <label ref="jr:itext(\'question2-item1-label\')" />\n                <value>item1</value>\n            </item>\n            <item>\n                <label ref="jr:itext(\'question1-item2-label\')" />\n                <value>item2</value>\n            </item>\n        </select1>\n        <select vellum:ref="#form/question2" ref="/data/question2">\n            <label ref="jr:itext(\'question2-label\')" />\n            <item>\n                <label ref="jr:itext(\'question2-item2-label\')" />\n                <value>item2</value>\n            </item>\n        </select>\n    </h:body>\n</h:html>\n'},1148:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/4552C9DD-F297-49CD-8606-AB59AD2C4EA7" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<question/>\n\t\t\t\t\t<case vellum:ignore="retain" xmlns="http://commcarehq.org/case/transaction/v2" case_id="" date_modified="" user_id="">\n\t\t\t\t\t\t<update>\n\t\t\t\t\t\t\t<case_name/>\n\t\t\t\t\t\t\t<owner_id/>\n\t\t\t\t\t\t</update>\n\t\t\t\t\t</case>\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/question" nodeset="/data/question" type="xsd:string"/>\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="question-label">\n\t\t\t\t\t\t<value>question</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<input vellum:ref="#form/question" ref="/data/question">\n\t\t\t<label ref="jr:itext(\'question-label\')"/>\n\t\t</input>\n\t</h:body>\n</h:html>\n'},6099:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8"?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/B3D39778-3AF6-4163-8D51-52DC9A105662" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<question1/>\n\t\t\t\t\t<question9>\n\t\t\t\t\t\t<question10 vellum:ignore="retain"/>\n\t\t\t\t\t\t<question11/>\n\t\t\t\t\t</question9>\n\t\t\t\t\t<question4 vellum:ignore="retain"/>\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/question1" nodeset="/data/question1" type="xsd:string"/>\n\t\t\t<bind vellum:nodeset="#form/question9" nodeset="/data/question9"/>\n\t\t\t<bind nodeset="/data/question9/question10" type="xsd:int" vellum:ignore="retain"/>\n\t\t\t<bind vellum:nodeset="#form/question9/question11" nodeset="/data/question9/question11" type="xsd:int"/>\n\t\t\t<bind nodeset="/data/question4" vellum:ignore="retain"/>\n\t\t\t<setvalue event="xforms-revalidate" vellum:ref="#form/question1" ref="/data/question1" value="0"/>\n\t\t\t<setvalue event="xforms-ready" ref="/data/question3" value="3"/>\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="question1-label">\n\t\t\t\t\t\t<value>question1</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="question9-label">\n\t\t\t\t\t\t<value>question9</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="question11-label">\n\t\t\t\t\t\t<value>question11</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t\x3c!-- body nodes, including nesting --\x3e\n\t<h:body>\n\t\t<input vellum:ref="#form/question1" ref="/data/question1">\n\t\t\t<label ref="jr:itext(\'question1-label\')"/>\n\t\t</input>\n\t\t<group vellum:ref="#form/question9" ref="/data/question9">\n\t\t\t<label ref="jr:itext(\'question9-label\')"/>\n\t\t\t\x3c!-- ignored node after an inner label --\x3e\n\t\t\t<input ref="/data/question9/question10" vellum:ignore="retain">\n\t\t\t\t<label ref="jr:itext(\'question10-label\')"/>\n\t\t\t</input>\n\t\t\t<input vellum:ref="#form/question9/question11" ref="/data/question9/question11">\n\t\t\t\t<label ref="jr:itext(\'question11-label\')"/>\n\t\t\t</input>\n\t\t</group>\n\t\t<select1 ref="/data/question4" vellum:ignore="retain">\n\t\t\t<label ref="jr:itext(\'question4-label\')"/>\n\t\t\t<item>\n\t\t\t\t<label ref="jr:itext(\'question4-item5-label\')"/>\n\t\t\t\t<value>item5</value>\n\t\t\t</item>\n\t\t\t<item>\n\t\t\t\t<label ref="jr:itext(\'question4-item6-label\')"/>\n\t\t\t\t<value>item6</value>\n\t\t\t</item>\n\t\t</select1>\n\t</h:body>\n</h:html>\n'},7370:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8"?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/B3D39778-3AF6-4163-8D51-52DC9A105662" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<question1/>\n\t\t\t\t\t<question9>\n\t\t\t\t\t\t<question10 vellum:ignore="retain"/>\n\t\t\t\t\t\t<question11/>\n\t\t\t\t\t</question9>\n\t\t\t\t\t<question4 vellum:ignore="retain"/>\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/question1" nodeset="/data/question1" type="xsd:string"/>\n\t\t\t<bind vellum:nodeset="#form/question9" nodeset="/data/question9"/>\n\t\t\t<bind nodeset="/data/question9/question10" type="xsd:int" vellum:ignore="retain"/>\n\t\t\t<bind vellum:nodeset="#form/question9/question11" nodeset="/data/question9/question11" type="xsd:int"/>\n\t\t\t<bind nodeset="/data/question4" vellum:ignore="retain"/>\n\t\t\t<setvalue event="xforms-revalidate" vellum:ref="#form/question1" ref="/data/question1" value="0"/>\n\t\t\t<setvalue event="xforms-ready" ref="/data/question1" value="1" vellum:ignore="retain"/>\n\t\t\t<setvalue event="xforms-ready" ref="/data/question2" value="2" vellum:ignore="retain"/>\n\t\t\t<setvalue event="xforms-ready" ref="/data/question3" value="3"/>\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="question1-label">\n\t\t\t\t\t\t<value>question1</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="question9-label">\n\t\t\t\t\t\t<value>question9</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="question11-label">\n\t\t\t\t\t\t<value>question11</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t\x3c!-- body nodes, including nesting --\x3e\n\t<h:body>\n\t\t<input vellum:ref="#form/question1" ref="/data/question1">\n\t\t\t<label ref="jr:itext(\'question1-label\')"/>\n\t\t</input>\n\t\t<group vellum:ref="#form/question9" ref="/data/question9">\n\t\t\t<label ref="jr:itext(\'question9-label\')"/>\n\t\t\t\x3c!-- ignored node after an inner label --\x3e\n\t\t\t<input ref="/data/question9/question10" vellum:ignore="retain">\n\t\t\t\t<label ref="jr:itext(\'question10-label\')"/>\n\t\t\t</input>\n\t\t\t<input vellum:ref="#form/question9/question11" ref="/data/question9/question11">\n\t\t\t\t<label ref="jr:itext(\'question11-label\')"/>\n\t\t\t</input>\n\t\t</group>\n\t\t<select1 ref="/data/question4" vellum:ignore="retain">\n\t\t\t<label ref="jr:itext(\'question4-label\')"/>\n\t\t\t<item>\n\t\t\t\t<label ref="jr:itext(\'question4-item5-label\')"/>\n\t\t\t\t<value>item5</value>\n\t\t\t</item>\n\t\t\t<item>\n\t\t\t\t<label ref="jr:itext(\'question4-item6-label\')"/>\n\t\t\t\t<value>item6</value>\n\t\t\t</item>\n\t\t</select1>\n\t</h:body>\n</h:html>\n'},2104:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/4552C9DD-F297-49CD-8606-AB59AD2C4EA7" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<before/>\n\t\t\t\t\t<ignored vellum:ignore="retain"/>\n\t\t\t\t\t<after/>\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/before" nodeset="/data/before" type="xsd:string"/>\n\t\t\t<bind nodeset="/data/ignored" type="xsd:string" vellum:ignore="retain"/>\n\t\t\t<bind vellum:nodeset="#form/after" nodeset="/data/after" type="xsd:string"/>\n\t\t\t<setvalue event="when-youre-strange" ref="/data/ignored[inner]" value="super()/flip"/>\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="before-label">\n\t\t\t\t\t\t<value>before</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="ignored-label" vellum:ignore="retain">\n\t\t\t\t\t\t<value>ignored</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="after-label">\n\t\t\t\t\t\t<value>after</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<input vellum:ref="#form/before" ref="/data/before">\n\t\t\t<label ref="jr:itext(\'before-label\')"/>\n\t\t</input>\n\t\t<input ref="/data/ignored" vellum:ignore="retain">\n\t\t\t<label ref="jr:itext(\'ignored-label\')"/>\n\t\t</input>\n\t\t<input vellum:ref="#form/after" ref="/data/after">\n\t\t\t<label ref="jr:itext(\'after-label\')"/>\n\t\t</input>\n\t</h:body>\n</h:html>\n'},6213:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/4552C9DD-F297-49CD-8606-AB59AD2C4EA7" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<before/>\n\t\t\t\t\t<delete-me/>\n\t\t\t\t\t<ignored vellum:ignore="retain"/>\n\t\t\t\t\t<after/>\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/before" nodeset="/data/before" type="xsd:string"/>\n\t\t\t<bind vellum:nodeset="#form/delete-me" nodeset="/data/delete-me" type="xsd:string"/>\n\t\t\t<bind nodeset="/data/ignored" type="xsd:string" vellum:ignore="retain"/>\n\t\t\t<bind vellum:nodeset="#form/after" nodeset="/data/after" type="xsd:string"/>\n\t\t\t<setvalue event="when-youre-strange" ref="/data/ignored[inner]" value="super()/flip"/>\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="before-label">\n\t\t\t\t\t\t<value>before</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="delete-me-label">\n\t\t\t\t\t\t<value>delete-me</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="ignored-label" vellum:ignore="retain">\n\t\t\t\t\t\t<value>ignored</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="after-label">\n\t\t\t\t\t\t<value>after</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<input vellum:ref="#form/before" ref="/data/before">\n\t\t\t<label ref="jr:itext(\'before-label\')"/>\n\t\t</input>\n\t\t<input vellum:ref="#form/delete-me" ref="/data/delete-me">\n\t\t\t<label ref="jr:itext(\'delete-me-label\')"/>\n\t\t</input>\n\t\t<input ref="/data/ignored" vellum:ignore="retain">\n\t\t\t<label ref="jr:itext(\'ignored-label\')"/>\n\t\t</input>\n\t\t<input vellum:ref="#form/after" ref="/data/after">\n\t\t\t<label ref="jr:itext(\'after-label\')"/>\n\t\t</input>\n\t</h:body>\n</h:html>\n'},6777:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8"?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/398C9010-61DC-42D3-8A85-B857AC3A9CA0" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<question1/>\n\t\t\t\t\t<case>\n\n\t\t\t\t\t<update vellum:ignore="retain"/></case>\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/question1" nodeset="/data/question1" type="xsd:string" />\n\t\t\t<bind vellum:nodeset="#form/case" nodeset="/data/case"/>\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default=""/>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body></h:body>\n</h:html>\n'},7520:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8"?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/398C9010-61DC-42D3-8A85-B857AC3A9CA0" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<question1 />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/question1" nodeset="/data/question1" type="xsd:string" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default=""/>\n\t\t\t</itext>\n\t\t</model>\n\t\t<odkx:intent vellum:ignore="retain" xmlns:odkx="http://opendatakit.org/xforms" id="search" class="com.biometrac.core.PIPE">\n\t\t</odkx:intent>\r\n\t</h:head>\n\t<h:body></h:body>\n</h:html>\n'},9700:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/4552C9DD-F297-49CD-8606-AB59AD2C4EA7" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<question vellum:ignore="retain"/>\n\t\t\t\t\t<question2/>\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind nodeset="/data/question" type="xsd:string"/>\n\t\t\t<bind nodeset="/data/question/extra/path" type="xsd:string"/>\n\t\t\t<bind nodeset="/data/question[extra = path]" type="xsd:string"/>\n\t\t\t<bind nodeset="/data/question[with][extra = path]" type="xsd:string"/>\n\t\t\t<bind vellum:nodeset="#form/question2" nodeset="/data/question2" type="xsd:string"/>\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="question2-label">\n\t\t\t\t\t\t<value>question2</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<input vellum:ref="#form/question2" ref="/data/question2">\n\t\t\t<label ref="jr:itext(\'question2-label\')"/>\n\t\t</input>\n\t</h:body>\n</h:html>\n'},378:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/4552C9DD-F297-49CD-8606-AB59AD2C4EA7" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<question/>\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/question" nodeset="/data/question" type="xsd:string"/>\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="question-label" vellum:ignore="retain">\n\t\t\t\t\t\t<value>question</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<input ref="/data/question" vellum:ignore="retain">\n\t\t\t<label ref="jr:itext(\'question-label\')"/>\n\t\t</input>\n\t</h:body>\n</h:html>\n'},4505:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/4552C9DD-F297-49CD-8606-AB59AD2C4EA7" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<question vellum:ignore="retain"/>\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind nodeset="/data/question" type="xsd:string"/>\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="question-label" vellum:ignore="retain">\n\t\t\t\t\t\t<value>question</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<input ref="/data/question">\n\t\t\t<label ref="jr:itext(\'question-label\')"/>\n\t\t</input>\n\t</h:body>\n</h:html>\n'},6885:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<ext vellum:ignore="retain"><content /></ext>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/4552C9DD-F297-49CD-8606-AB59AD2C4EA7" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<question/>\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/question" nodeset="/data/question" type="xsd:string"/>\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="question-label">\n\t\t\t\t\t\t<value>question</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<input vellum:ref="#form/question" ref="/data/question">\n\t\t\t<label ref="jr:itext(\'question-label\')"/>\n\t\t</input>\n\t</h:body>\n</h:html>\n'},6458:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8"?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/398C9010-61DC-42D3-8A85-B857AC3A9CA0" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<question1/>\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/question1" nodeset="/data/question1" type="xsd:string"/>\n\t\t\t<bind nodeset="/data/question1" vellum:ignore="retain"/>\n\t\t\t<bind nodeset="/data/question1" vellum:ignore="retain"/>\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default=""/>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body></h:body>\n</h:html>\n'},3320:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8"?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/398C9010-61DC-42D3-8A85-B857AC3A9CA0" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<question1 />\n\t\t\t\t\t<question9 vellum:ignore="retain" />\n\t\t\t\t\t<question4 vellum:ignore="retain" />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/question1" nodeset="/data/question1" type="xsd:string" />\n\t\t\t<bind nodeset="/data/question9" vellum:ignore="retain" />\n\t\t\t<bind nodeset="/data/question4" vellum:ignore="retain" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default=""/>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body></h:body>\n</h:html>\n'},5721:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/4552C9DD-F297-49CD-8606-AB59AD2C4EA7" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<question/>\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/question" nodeset="/data/question" type="xsd:string"/>\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="question-label">\n\t\t\t\t\t\t<value>question</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t\t<ext vellum:ignore="retain">\n\t\t\t<one vellum:ignore="retain"/>\n\t\t\t<x><two vellum:ignore="retain"/></x>\n\t\t</ext>\n\t</h:head>\n\t<h:body>\n\t\t<input vellum:ref="#form/question" ref="/data/question">\n\t\t\t<label ref="jr:itext(\'question-label\')"/>\n\t\t</input>\n\t</h:body>\n</h:html>\n'},2533:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8"?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/398C9010-61DC-42D3-8A85-B857AC3A9CA0" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<foobar/>\n\t\t\t\t\t<question9 vellum:ignore="retain"/>\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/foobar" nodeset="/data/foobar" type="xsd:string"/>\n\t\t\t<bind nodeset="/data/question9" calculate="1 + /data/foobar" vellum:ignore="retain"/>\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default=""/>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body></h:body>\n</h:html>\n'},4082:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8"?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/398C9010-61DC-42D3-8A85-B857AC3A9CA0" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<question1 />\n\t\t\t\t\t<question9 vellum:ignore="retain" />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/question1" nodeset="/data/question1" type="xsd:string" />\n\t\t\t<bind nodeset="/data/question9" calculate="1 + /data/question1" vellum:ignore="retain"/>\n\t\t</model>\n\t</h:head>\n\t<h:body></h:body>\n</h:html>\n'},3879:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8"?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/398C9010-61DC-42D3-8A85-B857AC3A9CA0" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<question1/>\n\t\t\t\t\t<question9a>\n\t\t\t\t\t\t<question10 vellum:ignore="retain"/>\n\t\t\t\t\t\t<question11/>\n\t\t\t\t\t</question9a>\n\t\t\t\t\t<question4 vellum:ignore="retain"/>\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/question1" nodeset="/data/question1" type="xsd:string"/>\n\t\t\t<bind vellum:nodeset="#form/question9a" nodeset="/data/question9a"/>\n\t\t\t<bind type="xsd:int" vellum:ignore="retain" nodeset="/data/question9a/question10"/>\n\t\t\t<bind vellum:nodeset="#form/question9a/question11" nodeset="/data/question9a/question11" type="xsd:int"/>\n\t\t\t<bind vellum:ignore="retain" nodeset="/data/question4"/>\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="question1-label">\n\t\t\t\t\t\t<value>question1</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="question9a-label">\n\t\t\t\t\t\t<value>question9</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="question10-label" vellum:ignore="retain">\n\t\t\t\t\t\t<value>question10</value>\n\t\t\t\t\t</text><text id="question11-label">\n\t\t\t\t\t\t<value>question11</value>\n\t\t\t\t\t</text><text id="question4-label" vellum:ignore="retain">\n\t\t\t\t\t\t<value>question4</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<input vellum:ref="#form/question1" ref="/data/question1">\n\t\t\t<label ref="jr:itext(\'question1-label\')"/>\n\t\t</input>\n\t\t<group vellum:ref="#form/question9a" ref="/data/question9a">\n\t\t\t<label ref="jr:itext(\'question9a-label\')"/>\n\t\t\t<input vellum:ignore="retain" ref="/data/question9a/question10">\n\t\t\t\t<label ref="jr:itext(\'question10-label\')"/>\n\t\t\t</input>\n\t\t\t<input vellum:ref="#form/question9a/question11" ref="/data/question9a/question11">\n\t\t\t\t<label ref="jr:itext(\'question11-label\')"/>\n\t\t\t</input>\n\t\t</group>\n\t\t<select1 vellum:ignore="retain" ref="/data/question4">\n\t\t\t<label ref="jr:itext(\'question4-label\')"/>\n\t\t\t<item>\n\t\t\t\t<label ref="jr:itext(\'question4-item5-label\')"/>\n\t\t\t\t<value>item5</value>\n\t\t\t</item>\n\t\t\t<item>\n\t\t\t\t<label ref="jr:itext(\'question4-item6-label\')"/>\n\t\t\t\t<value>item6</value>\n\t\t\t</item>\n\t\t</select1>\n\t</h:body>\n</h:html>\n'},9896:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/4552C9DD-F297-49CD-8606-AB59AD2C4EA7" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<question />\n\t\t\t\t\t<question2 vellum:ignore="retain"/>\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/question" nodeset="/data/question" type="xsd:string" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="" />\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<unknown vellum:ref="#form/question" ref="/data/question" />\n\t</h:body>\n</h:html>\n'},8408:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8"?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/398C9010-61DC-42D3-8A85-B857AC3A9CA0" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<question1 />\n\t\t\t\t\t<question9>\n\t\t\t\t\t\t<question10 vellum:ignore="retain" />\n\t\t\t\t\t\t<question11 />\n\t\t\t\t\t</question9>\n\t\t\t\t\t<question4 vellum:ignore="retain" />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/question1" nodeset="/data/question1" type="xsd:string" />\n\t\t\t<bind vellum:nodeset="#form/question9" nodeset="/data/question9" />\n\t\t\t<bind nodeset="/data/question9/question10" type="xsd:int" vellum:ignore="retain" />\n\t\t\t<bind vellum:nodeset="#form/question9/question11" nodeset="/data/question9/question11" type="xsd:int" />\n\t\t\t<bind nodeset="/data/question4" vellum:ignore="retain" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="question1-label">\n\t\t\t\t\t\t<value>question1</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="question9-label">\n\t\t\t\t\t\t<value>question9</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="question10-label" vellum:ignore="retain">\n\t\t\t\t\t\t<value>question10</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="question11-label">\n\t\t\t\t\t\t<value>question11</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="question4-label" vellum:ignore="retain">\n\t\t\t\t\t\t<value>question4</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<input vellum:ref="#form/question1" ref="/data/question1">\n\t\t\t<label ref="jr:itext(\'question1-label\')" />\n\t\t</input>\n\t\t<group vellum:ref="#form/question9" ref="/data/question9">\n\t\t\t<label ref="jr:itext(\'question9-label\')" />\n\t\t\t<input ref="/data/question9/question10" vellum:ignore="retain">\n\t\t\t\t<label ref="jr:itext(\'question10-label\')" />\n\t\t\t</input>\n\t\t\t<input vellum:ref="#form/question9/question11" ref="/data/question9/question11">\n\t\t\t\t<label ref="jr:itext(\'question11-label\')" />\n\t\t\t</input>\n\t\t</group>\n\t\t<select1 ref="/data/question4" vellum:ignore="retain">\n\t\t\t<label ref="jr:itext(\'question4-label\')" />\n\t\t\t<item>\n\t\t\t\t<label ref="jr:itext(\'question4-item5-label\')" />\n\t\t\t\t<value>item5</value>\n\t\t\t</item>\n\t\t\t<item>\n\t\t\t\t<label ref="jr:itext(\'question4-item6-label\')" />\n\t\t\t\t<value>item6</value>\n\t\t\t</item>\n\t\t</select1>\n\t</h:body>\n</h:html>\n'},562:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/DCA5F7B5-E9C1-4F7F-B432-A94B00252A46" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<not_breath_count />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/not_breath_count" nodeset="/data/not_breath_count" type="intent" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="not_breath_count-label">\n\t\t\t\t\t\t<value>not_breath_count</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t\t<odkx:intent xmlns:odkx="http://opendatakit.org/xforms" id="not_breath_count" type="vnd.android-dir/mms-sms" class="android.intent.action.VIEW" button-label="Send SMS">\n\t\t\t<extra key="sms_body" ref="/data/content" />\n\t\t\t<extra key="address" ref="/data/address" />\n\t\t</odkx:intent>\n\t</h:head>\n\t<h:body>\n\t\t<input vellum:ref="#form/not_breath_count" ref="/data/not_breath_count" appearance="intent:not_breath_count">\n\t\t\t<label ref="jr:itext(\'not_breath_count-label\')" />\n\t\t</input>\n\t</h:body>\n</h:html>\n'},1891:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/DCA5F7B5-E9C1-4F7F-B432-A94B00252A46" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<breath_count />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/breath_count" nodeset="/data/breath_count" type="xsd:string" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="breath_count-label">\n\t\t\t\t\t\t<value>breath_count</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t\t<odkx:intent xmlns:odkx="http://opendatakit.org/xforms" id="not-here" type="vnd.android-dir/mms-sms" class="android.intent.action.VIEW" button-label="Send SMS">\n\t\t\t<extra key="sms_body" ref="/data/content" />\n\t\t\t<extra key="address" ref="/data/address" />\n\t\t</odkx:intent>\n\t</h:head>\n\t<h:body>\n\t\t<input vellum:ref="#form/breath_count" ref="/data/breath_count">\n\t\t\t<label ref="jr:itext(\'breath_count-label\')" />\n\t\t</input>\n\t</h:body>\n</h:html>\n'},6487:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/DCA5F7B5-E9C1-4F7F-B432-A94B00252A46" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<breath_count />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/breath_count" nodeset="/data/breath_count" type="intent" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="breath_count-label">\n\t\t\t\t\t\t<value>breath_count</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t\t<odkx:intent xmlns:odkx="http://opendatakit.org/xforms" id="breath_count" type="vnd.android-dir/mms-sms" class="android.intent.action.VIEW" button-label="Send SMS">\n\t\t\t<extra key="sms_body" ref="/data/content" />\n\t\t\t<extra key="address" ref="/data/address" />\n\t\t</odkx:intent>\n\t</h:head>\n\t<h:body>\n\t\t<input vellum:ref="#form/breath_count" ref="/data/breath_count" appearance="intent:breath_count">\n\t\t\t<label ref="jr:itext(\'breath_count-label\')" />\n\t\t</input>\n\t</h:body>\n</h:html>\n'},9948:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/DCA5F7B5-E9C1-4F7F-B432-A94B00252A46" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<text />\n\t\t\t\t\t<print_data />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/text" nodeset="/data/text" type="xsd:string" />\n\t\t\t<bind vellum:nodeset="#form/print_data" nodeset="/data/print_data" type="intent" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="text-label">\n\t\t\t\t\t\t<value>text</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="print_data-label">\n\t\t\t\t\t\t<value>print_data</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t\t<odkx:intent xmlns:odkx="http://opendatakit.org/xforms" id="print_data" class="org.commcare.dalvik.action.PRINT">\n\t\t\t<extra key="text" ref="/data/text" vellum:ref="#form/text" />\n\t\t\t<extra key="cc:print_template_reference" ref="\'jr://file/commcare/doc/data/print_data.doc\'" />\n\t\t</odkx:intent>\n\t</h:head>\n\t<h:body>\n\t\t<input vellum:ref="#form/text" ref="/data/text">\n\t\t\t<label ref="jr:itext(\'text-label\')" />\n\t\t</input>\n\t\t<input vellum:ref="#form/print_data" ref="/data/print_data" appearance="intent:print_data">\n\t\t\t<label ref="jr:itext(\'print_data-label\')" />\n\t\t</input>\n\t</h:body>\n</h:html>\n'},8368:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/1D568275-1D19-46DB-8C54-2C9765DF6335" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<itemset />\n\t\t\t\t\t<hidden />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/itemset" nodeset="/data/itemset" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="itemset-label">\n\t\t\t\t\t\t<value>itemset</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<select1 vellum:ref="#form/itemset" ref="/data/itemset">\n\t\t\t<label ref="jr:itext(\'itemset-label\')" />\n\t\t\t<itemset nodeset="/data/hidden[final_age &gt; 16][sex = \'F\']">\n\t\t\t\t<label ref="label" />\n\t\t\t\t<value ref="value" />\n\t\t\t</itemset>\n\t\t</select1>\n\t</h:body>\n</h:html>\n'},7999:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/4BE1309B-ABCF-4184-8175-9E381F3E0DD7" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<question2 />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<instance id="some-fixture" src="jr://fixture/item-list:some-fixture" />\n\t\t\t<bind vellum:nodeset="#form/question2" nodeset="/data/question2" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="question2-label">\n\t\t\t\t\t\t<value>question2</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<select1 vellum:ref="#form/question2" ref="/data/question2">\n\t\t\t<label ref="jr:itext(\'question2-label\')" />\n            <itemset nodeset="instance(\'some-fixture\')/some-fixture_list/some-fixture">\n\t\t\t\t<label ref="name" />\n\t\t\t\t<value ref="@id" />\n\t\t\t</itemset>\n\t\t</select1>\n\t</h:body>\n</h:html>\n'},6272:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/45D58D8B-834F-495E-8439-0190233678CA" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<lookup />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<instance src="jr://instance/casedb" id="casedb" />\n\t\t\t<instance src="jr://instance/session" id="commcaresession" />\n\t\t\t<instance src="jr://fixture/item-list:some-fixture" id="some-fixture" />\n\t\t\t<bind vellum:nodeset="#form/lookup" nodeset="/data/lookup" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="lookup-label">\n\t\t\t\t\t\t<value>lookup</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t\t<vellum:hashtags>{&quot;#case/dob&quot;:null}</vellum:hashtags>\n\t\t<vellum:hashtagTransforms>{&quot;prefixes&quot;:{&quot;#case/grandparent/&quot;:&quot;instance(\'casedb\')/cases/case[@case_id = instance(\'casedb\')/cases/case[@case_id = instance(\'casedb\')/cases/case[@case_id = instance(\'commcaresession\')/session/data/case_id]/index/parent]/index/parent]/&quot;,&quot;#case/parent/&quot;:&quot;instance(\'casedb\')/cases/case[@case_id = instance(\'casedb\')/cases/case[@case_id = instance(\'commcaresession\')/session/data/case_id]/index/parent]/&quot;,&quot;#case/&quot;:&quot;instance(\'casedb\')/cases/case[@case_id = instance(\'commcaresession\')/session/data/case_id]/&quot;,&quot;#user/&quot;:&quot;instance(\'casedb\')/cases/case[@case_type = \'commcare-user\'][hq_user_id = instance(\'commcaresession\')/session/context/userid]/&quot;}}</vellum:hashtagTransforms>\n\t</h:head>\n\t<h:body>\n\t\t<select vellum:ref="#form/lookup" ref="/data/lookup">\n\t\t\t<label ref="jr:itext(\'lookup-label\')" />\n\t\t\t<itemset vellum:nodeset="instance(\'some-fixture\')/some-fixture_list/some-fixture[name = #case/dob]" nodeset="instance(\'some-fixture\')/some-fixture_list/some-fixture[name = instance(\'casedb\')/cases/case[@case_id = instance(\'commcaresession\')/session/data/case_id]/dob]">\n\t\t\t\t<label ref="name" />\n\t\t\t\t<value ref="@id" />\n\t\t\t\t<sort ref="inner-attribute" />\n\t\t\t</itemset>\n\t\t</select>\n\t</h:body>\n</h:html>'},3220:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/4BE1309B-ABCF-4184-8175-9E381F3E0DD7" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<question2 />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<instance id="somefixture" src="jr://fixture/some-fixture" />\n\t\t\t<bind vellum:nodeset="#form/question2" nodeset="/data/question2" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="question2-label">\n\t\t\t\t\t\t<value>question2</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<select1 vellum:ref="#form/question2" ref="/data/question2">\n\t\t\t<label ref="jr:itext(\'question2-label\')" />\n\t\t\t<itemset nodeset="instance(\'somefixture\')/foos/foo[@foo_type=\'woo\'][1=2]/bar[@bar_type=\'eggs\']">\n\t\t\t\t<label ref="case_name" />\n\t\t\t\t<value ref="@case_id" />\n\t\t\t</itemset>\n\t\t</select1>\n\t</h:body>\n</h:html>\n'},2444:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/77F64702-954B-42B8-B670-6D962CD20846" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<select />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<instance src="jr://fixture/item-list:some-fixture" id="some-fixture" />\n\t\t\t<bind vellum:nodeset="#form/select" nodeset="/data/select" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="" />\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<select1 vellum:ref="#form/select" ref="/data/select">\n\t\t\t<itemset nodeset="instance(\'some-fixture\')/some-fixture_list/some-fixture">\n\t\t\t\t<label ref="name" />\n\t\t\t\t<value ref="@id" />\n\t\t\t\t<sort ref="inner-attribute" />\n\t\t\t</itemset>\n\t\t</select1>\n\t</h:body>\n</h:html>'},8311:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="undefined" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<state />\n\t\t\t\t\t<district />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<instance src="jr://fixture/item-list:some-fixture" id="some-fixture" />\n\t\t\t<bind vellum:nodeset="#form/state" nodeset="/data/state" type="xsd:string" />\n\t\t\t<bind vellum:nodeset="#form/district" nodeset="/data/district" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default=""/>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<input vellum:ref="#form/state" ref="/data/state"/>\n\t\t<select1 vellum:ref="#form/district" ref="/data/district">\n\t\t\t<itemset vellum:nodeset="instance(\'some-fixture\')/some-fixture_list/some-fixture[name = #form/state]" nodeset="instance(\'some-fixture\')/some-fixture_list/some-fixture[name = /data/state]">\n\t\t\t\t<label ref="name" />\n\t\t\t\t<value ref="@id" />\n\t\t\t</itemset>\n\t\t</select1>\n\t</h:body>\n</h:html>\n'},3027:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/4BE1309B-ABCF-4184-8175-9E381F3E0DD7" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<question1 />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<instance id="casedb" src="jr://instance/casedb" />\n\t\t\t<bind vellum:nodeset="#form/question1" nodeset="/data/question1" constraint="1 = 1" jr:constraintMsg="jr:itext(\'question1-constraintMsg\')"/>\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="question1-label">\n\t\t\t\t\t\t<value>question1</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="question1-constraintMsg">\n\t\t\t\t\t\t<value>constraint</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<select1 vellum:ref="#form/question1" ref="/data/question1" appearance="minimal">\n\t\t\t<label ref="jr:itext(\'question1-label\')" />\n\t\t\t<alert ref="jr:itext(\'question1-constraintMsg\')" />\n\t\t\t<itemset nodeset="instance(\'casedb\')/casedb/case[@case_type=\'mother\']">\n\t\t\t\t<label ref="case_name" />\n\t\t\t\t<value ref="@case_id" />\n\t\t\t</itemset>\n\t\t</select1>\n\t</h:body>\n</h:html>\n'},7508:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/4BE1309B-ABCF-4184-8175-9E381F3E0DD7" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<question1 />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<instance id="casedb" src="jr://instance/casedb" />\n\t\t\t<bind vellum:nodeset="#form/question1" nodeset="/data/question1" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="question1-label">\n\t\t\t\t\t\t<value>question1</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<select1 vellum:ref="#form/question1" ref="/data/question1">\n\t\t\t<label ref="jr:itext(\'question1-label\')" />\n\t\t\t<itemset nodeset="instance(\'casedb\')/casedb/case[@case_type=\'mother\']">\n\t\t\t\t<label ref="case_name" />\n\t\t\t\t<value ref="@case_id" />\n\t\t\t</itemset>\n\t\t</select1>\n\t</h:body>\n</h:html>\n'},2295:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/4BE1309B-ABCF-4184-8175-9E381F3E0DD7" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<question1 />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<instance id="casedb" src="jr://instance/casedb" />\n\t\t\t<bind vellum:nodeset="#form/question1" nodeset="/data/question1" constraint="1 = 1" jr:constraintMsg="jr:itext(\'question1-constraintMsg\')"/>\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="question1-label">\n\t\t\t\t\t\t<value>question1</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="question1-constraintMsg">\n\t\t\t\t\t\t<value>constraint</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<select1 vellum:ref="#form/question1" ref="/data/question1">\n\t\t\t<label ref="jr:itext(\'question1-label\')" />\n\t\t\t<alert ref="jr:itext(\'question1-constraintMsg\')" />\n\t\t\t<itemset nodeset="instance(\'casedb\')/casedb/case[@case_type=\'mother\']">\n\t\t\t\t<label ref="case_name" />\n\t\t\t\t<value ref="@case_id" />\n\t\t\t</itemset>\n\t\t</select1>\n\t</h:body>\n</h:html>\n'},6344:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/E2D9313B-4D8F-4E79-B37C-A2A286928A47" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<output />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/output" nodeset="/data/output" type="xsd:string" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="output-label">\n\t\t\t\t\t\t<value>x <output /> x</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<input vellum:ref="#form/output" ref="/data/output">\n\t\t\t<label ref="jr:itext(\'output-label\')" />\n\t\t</input>\n\t</h:body>\n</h:html>'},5960:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/4f203b784b4f49328949420c7047ebaf091774e6" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<question1 />\n\t\t\t\t\t<Group />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/question1" nodeset="/data/question1" />\n\t\t\t<bind vellum:nodeset="#form/Group" nodeset="/data/Group" relevant="true()" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="question1-label">\n\t\t\t\t\t\t<value>This is a label.</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<trigger vellum:ref="#form/question1" ref="/data/question1" appearance="minimal">\n\t\t\t<label ref="jr:itext(\'question1-label\')" />\n\t\t</trigger>\n\t\t<group vellum:ref="#form/Group" ref="/data/Group" />\n\t</h:body>\n</h:html>\n'},5557:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/94711904-28FF-45AA-AFB3-E8543F2AA534" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<question1 />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/question1" nodeset="/data/question1" type="xsd:string" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="question1-label">\n\t\t\t\t\t\t<value><output value="concat(1, 2" /></value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t\t<translation lang="hin">\n\t\t\t\t\t<text id="question1-label">\n\t\t\t\t\t\t<value><output value="concat(1, 2" /></value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<input vellum:ref="#form/question1" ref="/data/question1">\n\t\t\t<label ref="jr:itext(\'question1-label\')" />\n\t\t</input>\n\t</h:body>\n</h:html>\n'},9028:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/514DB9BA-636E-4B9F-A913-4E0B66BC415F" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<north />\n\t\t\t\t\t<south />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/north" nodeset="/data/north" type="xsd:string" />\n\t\t\t<bind vellum:nodeset="#form/south" nodeset="/data/south" type="xsd:string" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="north-label">\n\t\t\t\t\t\t<value>north</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t\t<translation lang="hin">\n\t\t\t\t\t<text id="north-label">\n\t\t\t\t\t\t<value>north</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<input vellum:ref="#form/north" ref="/data/north">\n\t\t\t<label ref="jr:itext(\'north-label\')" />\n\t\t</input>\n\t\t<input vellum:ref="#form/south" ref="/data/south">\n\t\t\t<label ref="jr:itext(\'north-label\')" />\n\t\t</input>\n\t</h:body>\n</h:html>\n'},4017:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/10123843-8ECB-4F20-A41E-59ABD9764D4C" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<blue>\n\t\t\t\t\t\t<text />\n\t\t\t\t\t</blue>\n\t\t\t\t\t<green />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/blue" nodeset="/data/blue" />\n\t\t\t<bind vellum:nodeset="#form/blue/text" nodeset="/data/blue/text" type="xsd:string" />\n\t\t\t<bind vellum:nodeset="#form/green" nodeset="/data/green" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default=""/>\n\t\t\t\t<translation lang="hin"/>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<group vellum:ref="#form/blue" ref="/data/blue">\n\t\t\t<input vellum:ref="#form/blue/text" ref="/data/blue/text"/>\n\t\t</group>\n\t\t<group vellum:ref="#form/green" ref="/data/green"/>\n\t</h:body>\n</h:html>\n'},6265:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/09ACF7A7-5D23-41F7-BFF6-E6977A5CA913" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<ns />\n\t\t\t\t\t<ew />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/ns" nodeset="/data/ns" />\n\t\t\t<bind vellum:nodeset="#form/ew" nodeset="/data/ew" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="ns-north-label">\n\t\t\t\t\t\t<value>choice1</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="ns-south-label">\n\t\t\t\t\t\t<value>choice1</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="ns-choice2-label">\n\t\t\t\t\t\t<value>choice2</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="ew-choice2-label">\n\t\t\t\t\t\t<value>choice2</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t\t<translation lang="hin">\n\t\t\t\t\t<text id="ns-north-label">\n\t\t\t\t\t\t<value>choice1</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="ns-south-label">\n\t\t\t\t\t\t<value>choice1</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="ns-choice2-label">\n\t\t\t\t\t\t<value>choice2</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="ew-choice2-label">\n\t\t\t\t\t\t<value>choice2</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<select1 vellum:ref="#form/ns" ref="/data/ns">\n\t\t\t<item>\n\t\t\t\t<label ref="jr:itext(\'ns-north-label\')" />\n\t\t\t\t<value>north</value>\n\t\t\t</item>\n\t\t\t<item>\n\t\t\t\t<label ref="jr:itext(\'ns-south-label\')" />\n\t\t\t\t<value>south</value>\n\t\t\t</item>\n\t\t\t<item>\n\t\t\t\t<label ref="jr:itext(\'ns-choice2-label\')" />\n\t\t\t\t<value>choice2</value>\n\t\t\t</item>\n\t\t</select1>\n\t\t<select1 vellum:ref="#form/ew" ref="/data/ew">\n\t\t\t<item>\n\t\t\t\t<label ref="jr:itext(\'ew-choice2-label\')" />\n\t\t\t\t<value>choice2</value>\n\t\t\t</item>\n\t\t</select1>\n\t</h:body>\n</h:html>\n'},8077:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/8AC3DA3F-68C7-4451-A399-4553BB0A138F" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<text />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/text" nodeset="/data/text" type="xsd:string" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="text-label">\n\t\t\t\t\t\t<value>"Text</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t\t<translation lang="hin">\n\t\t\t\t\t<text id="text-label">\n\t\t\t\t\t\t<value>"Text</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<input vellum:ref="#form/text" ref="/data/text">\n\t\t\t<label ref="jr:itext(\'text-label\')" />\n\t\t</input>\n\t</h:body>\n</h:html>\n'},2756:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/D2AEA80D-D518-430A-924B-39D1AE2207F8" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<question1 />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/question1" nodeset="/data/question1" type="xsd:string" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="question1-label">\n\t\t\t\t\t\t<value>First "line\nSecond" line\nThird line</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t\t<translation lang="hin">\n\t\t\t\t\t<text id="question1-label">\n\t\t\t\t\t\t<value>Hindu trans</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<input vellum:ref="#form/question1" ref="/data/question1">\n\t\t\t<label ref="jr:itext(\'question1-label\')" />\n\t\t</input>\n\t</h:body>\n</h:html>\n'},840:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/0423112D-4950-4768-B59F-A4E4616FF73D" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<label />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/label" nodeset="/data/label" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="label-label">\n\t\t\t\t\t\t<value></value>\n\t\t\t\t\t\t<value form="image">jr://file/commcare/image/data/label.png</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<trigger vellum:ref="#form/label" ref="/data/label" appearance="minimal">\n\t\t\t<label ref="jr:itext(\'label-label\')" />\n\t\t</trigger>\n\t</h:body>\n</h:html>\n'},8211:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/D6EA20CE-34CD-47A5-B783-A827F5E7DA86" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<text />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/text" nodeset="/data/text" type="xsd:string" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="text-label">\n\t\t\t\t\t\t<value>test</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t\t<translation lang="hin">\n\t\t\t\t\t<text id="text-label">\n\t\t\t\t\t\t<value>test</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<input vellum:ref="#form/text" ref="/data/text">\n\t\t\t<label ref="jr:itext(\'text-label\')" />\n\t\t</input>\n\t</h:body>\n</h:html>\n'},1316:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/8D6CF8A5-4396-45C3-9D05-64C3FD97A5D0" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<first_question />\n\t\t\t\t\t<question2 />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/first_question" nodeset="/data/first_question" type="xsd:string" />\n\t\t\t<bind vellum:nodeset="#form/question2" nodeset="/data/question2" type="xsd:string" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="question2-label">\n\t\t\t\t\t\t<value><output vellum:value="#form/first_question" value="/data/first_question" /> <output value="/data/question11" /> <output value="/data/question1/b" /> <output value="/data/question1b" /></value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t\t<translation lang="hin">\n\t\t\t\t\t<text id="question2-label">\n\t\t\t\t\t\t<value><output value="/data/first_question" vellum:value="#form/first_question" /> <output value="/data/question11" /> <output value="/data/question1/b" /> <output value="/data/question1b" /></value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<input vellum:ref="#form/first_question" ref="/data/first_question"/>\n\t\t<input vellum:ref="#form/question2" ref="/data/question2">\n\t\t\t<label ref="jr:itext(\'question2-label\')" />\n\t\t</input>\n\t</h:body>\n</h:html>\n'},9271:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/F8FD5842-815C-4DE5-9E27-BB623064695F" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<question1 />\n\t\t\t\t\t<question2>\n\t\t\t\t\t\t<question3 />\n\t\t\t\t\t</question2>\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind nodeset="/data/question1" type="xsd:string" />\n\t\t\t<bind nodeset="/data/question2" />\n\t\t\t<bind nodeset="/data/question2/question3" type="xsd:string" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="question1-label">\n\t\t\t\t\t\t<value>question1 <output value="/data/question2/question3"></output></value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="question2-label">\n\t\t\t\t\t\t<value>group</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="question2/question3-label">\n\t\t\t\t\t\t<value>question3</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t\t<translation lang="hin">\n\t\t\t\t\t<text id="question1-label">\n\t\t\t\t\t\t<value>question1 <output value="/data/question2/question3"></output></value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="question2-label">\n\t\t\t\t\t\t<value>group</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="question2/question3-label">\n\t\t\t\t\t\t<value>question3</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<input ref="/data/question1">\n\t\t\t<label ref="jr:itext(\'question1-label\')" />\n\t\t</input>\n\t\t<group ref="/data/question2">\n\t\t\t<label ref="jr:itext(\'question2-label\')" />\n\t\t\t<input ref="/data/question2/question3">\n\t\t\t\t<label ref="jr:itext(\'question2/question3-label\')" />\n\t\t\t</input>\n\t\t</group>\n\t</h:body>\n</h:html>\n'},4523:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/D26EC2F3-D3B5-42F4-81BD-38A8342E8202" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<product />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<instance src="jr://fixture/commtrack:products" id="products"></instance>\n\t\t\t<bind nodeset="/data/product" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="product-label">\n\t\t\t\t\t\t<value><output value="if(1 &lt; 2 or 2 &gt; 3 or 3 &lt;= 3 or 4 &gt;= 5, \'product\', \'other\')" /></value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t\t<translation lang="hin">\n\t\t\t\t\t<text id="product-label">\n\t\t\t\t\t\t<value><output value="if(1 &lt; 2 or 2 &gt; 3 or 3 &lt;= 3 or 4 &gt;= 5, \'product\', \'other\')" /></value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<select1 ref="/data/product">\n\t\t\t<label ref="jr:itext(\'product-label\')" />\n\t\t\t<itemset nodeset="instance(\'products\')/products/product[(@id &gt; 3 and @id &lt; 6) or (@id &gt;= 3 and @id &lt;= 6)]">\n\t\t\t\t<label ref="name" />\n\t\t\t\t<value ref="@id" />\n\t\t\t</itemset>\n\t\t</select1>\n\t</h:body>\n</h:html>\n'},855:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/4CA64B95-95E9-420A-90A8-7649C745D336" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<question1 />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/question1" nodeset="/data/question1" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="question1-label">\n\t\t\t\t\t\t<value>question1</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="question1-help">\n\t\t\t\t\t\t<value>help</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="question1-item1-label">\n\t\t\t\t\t\t<value>item1</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="question1-item2-label">\n\t\t\t\t\t\t<value>item2</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t\t<translation lang="hin">\n\t\t\t\t\t<text id="question1-label">\n\t\t\t\t\t\t<value>question1</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="question1-help">\n\t\t\t\t\t\t<value>help</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="question1-item1-label">\n\t\t\t\t\t\t<value>item1</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="question1-item2-label">\n\t\t\t\t\t\t<value>item2</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<select1 vellum:ref="#form/question1" ref="/data/question1">\n\t\t\t<label ref="jr:itext(\'question1-label\')" />\n\t\t\t<help ref="jr:itext(\'question1-help\')" />\n\t\t\t<item>\n\t\t\t\t<label ref="jr:itext(\'question1-item1-label\')" />\n\t\t\t\t<value>item1</value>\n\t\t\t</item>\n\t\t\t<item>\n\t\t\t\t<label ref="jr:itext(\'question1-item2-label\')" />\n\t\t\t\t<value>item2</value>\n\t\t\t</item>\n\t\t</select1>\n\t</h:body>\n</h:html>\n'},7138:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/DB593648-07B6-4C6A-A8DB-D71E826DA82D" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<question1 />\n\t\t\t\t\t<select />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/select" nodeset="/data/select" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="select-label">\n\t\t\t\t\t\t<value>select</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="select-help">\n\t\t\t\t\t\t<value>**help**</value>\n\t\t\t\t\t\t<value form="markdown">**help**</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="select-choice-label">\n\t\t\t\t\t\t<value>choice</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<input vellum:ref="#form/question1" ref="/data/question1">\n\t\t\t<label ref="jr:itext(\'select-label\')" />\n\t\t</input>\n\t\t<select1 vellum:ref="#form/select" ref="/data/select">\n\t\t\t<label ref="jr:itext(\'select-label\')" />\n\t\t\t<help ref="jr:itext(\'select-help\')" />\n\t\t\t<item>\n\t\t\t\t<label ref="jr:itext(\'select-choice-label\')" />\n\t\t\t\t<value>choice</value>\n\t\t\t</item>\n\t\t</select1>\n\t</h:body>\n</h:html>'},3854:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/DB593648-07B6-4C6A-A8DB-D71E826DA82D" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<select />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/select" nodeset="/data/select" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="select-label">\n\t\t\t\t\t\t<value>select</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="select-choice-label">\n\t\t\t\t\t\t<value>choice</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<select1 vellum:ref="#form/select" ref="/data/select">\n\t\t\t<label ref="jr:itext(\'select-label\')" />\n\t\t\t<item>\n\t\t\t\t<label ref="jr:itext(\'select-choice-label\')" />\n\t\t\t\t<value>choice</value>\n\t\t\t</item>\n\t\t</select1>\n\t</h:body>\n</h:html>'},302:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml"\n\txmlns:orx="http://openrosa.org/jr/xforms"\n\txmlns="http://www.w3.org/2002/xforms"\n\txmlns:xsd="http://www.w3.org/2001/XMLSchema"\n\txmlns:jr="http://openrosa.org/javarosa"\n\txmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms"\n\t\t\t\t\txmlns="http://openrosa.org/formdesigner/8D6CF8A5-4396-45C3-9D05-64C3FD97A5D0"\n\t\t\t\t\tuiVersion="1"\n\t\t\t\t\tversion="1"\n\t\t\t\t\tname="Untitled Form">\n\t\t\t\t\t<question1 />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/question1" nodeset="/data/question1"\n\t\t\t\ttype="xsd:string"\n\t\t\t\tconstraint="1"\n\t\t\t\tjr:constraintMsg="jr:itext(\'question1-constraintMsg\')" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="question1-label">\n\t\t\t\t\t\t<value>question1</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t\t<translation lang="hin">\n\t\t\t\t\t<text id="question1-constraintMsg">\n\t\t\t\t\t\t<value>xyz</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<input vellum:ref="#form/question1" ref="/data/question1">\n\t\t\t<label ref="jr:itext(\'question1-label\')" />\n\t\t</input>\n\t</h:body>\n</h:html>\n'},7532:t=>{"use strict";t.exports='<h:html xmlns:h="http://www.w3.org/1999/xhtml"\n\txmlns:orx="http://openrosa.org/jr/xforms"\n\txmlns="http://www.w3.org/2002/xforms"\n\txmlns:xsd="http://www.w3.org/2001/XMLSchema"\n\txmlns:jr="http://openrosa.org/javarosa"\n\txmlns:vellum="http://commcarehq.org/xforms/vellum"\n\tvellum:ignore="richText">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms"\n\t\t\t\t\txmlns="http://openrosa.org/formdesigner/8D6CF8A5-4396-45C3-9D05-64C3FD97A5D0"\n\t\t\t\t\tuiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<question1/>\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind nodeset="/data/question1" type="xsd:string" \n\t\t\t\tjr:constraintMsg="jr:itext(\'question1-blah-constraintMsg\')" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="question1-label">\n\t\t\t\t\t\t<value>question1 en label</value>\n\t\t\t\t\t\t<value form="image">jr://file/commcare/image/data/question1.png</value>\n\t\t\t\t\t\t<value form="audio">jr://file/commcare/audio/data/question1.mp3</value>\n\t\t\t\t\t\t<value form="video">jr://file/commcare/video/data/question1.3gp</value>\n\t\t\t\t\t\t<value form="video-inline">jr://file/commcare/video-inline/data/question1.3gp</value>\n\t\t\t\t\t\t<value form="long">question1 en long</value>\n\t\t\t\t\t\t<value form="short">question1 en short</value>\n\t\t\t\t\t\t<value form="custom">question1 en custom</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="question1-hint">\n\t\t\t\t\t\t<value>question1 en hint</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="question1-help">\n\t\t\t\t\t\t<value>question1 en help</value>\n\t\t\t\t\t\t<value form="image">jr://file/commcare/image/help/data/question1.png</value>\n\t\t\t\t\t\t<value form="audio">jr://file/commcare/audio/help/data/question1.mp3</value>\n\t\t\t\t\t\t<value form="video">jr://file/commcare/video/help/data/question1.3gp</value>\n\t\t\t\t\t\t<value form="video-inline">jr://file/commcare/video-inline/help/data/question1.3gp</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="question1-constraintMsg">\n\t\t\t\t\t\t<value>question1 en validation</value>\n\t\t\t\t\t\t<value form="image">jr://file/commcare/image/constraintMsg/data/question1.png</value>\n\t\t\t\t\t\t<value form="audio">jr://file/commcare/audio/constraintMsg/data/question1.mp3</value>\n\t\t\t\t\t\t<value form="video">jr://file/commcare/video/constraintMsg/data/question1.3gp</value>\n\t\t\t\t\t\t<value form="video-inline">jr://file/commcare/video-inline/constraintMsg/data/question1.3gp</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t\t<translation lang="hin">\n\t\t\t\t\t<text id="question1-label">\n\t\t\t\t\t\t<value>question1 hin label</value>\n\t\t\t\t\t\t<value form="image">jr://file/commcare/image/data/question1.png</value>\n\t\t\t\t\t\t<value form="audio">jr://file/commcare/audio/data/question1.mp3</value>\n\t\t\t\t\t\t<value form="video">jr://file/commcare/video/data/question1.3gp</value>\n\t\t\t\t\t\t<value form="video-inline">jr://file/commcare/video-inline/data/question1.3gp</value>\n\t\t\t\t\t\t<value form="long">question1 hin long</value>\n\t\t\t\t\t\t<value form="short">question1 hin short</value>\n\t\t\t\t\t\t<value form="custom">question1 hin custom</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="question1-hint">\n\t\t\t\t\t\t<value>question1 hin hint</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="question1-help">\n\t\t\t\t\t\t<value>question1 hin help</value>\n\t\t\t\t\t\t<value form="image">jr://file/commcare/image/help/data/question1.png</value>\n\t\t\t\t\t\t<value form="audio">jr://file/commcare/audio/help/data/question1.mp3</value>\n\t\t\t\t\t\t<value form="video">jr://file/commcare/video/help/data/question1.3gp</value>\n\t\t\t\t\t\t<value form="video-inline">jr://file/commcare/video-inline/help/data/question1.3gp</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="question1-constraintMsg">\n\t\t\t\t\t\t<value>question1 hin validation</value>\n\t\t\t\t\t\t<value form="image">jr://file/commcare/image/constraintMsg/data/question1.png</value>\n\t\t\t\t\t\t<value form="audio">jr://file/commcare/audio/constraintMsg/data/question1.mp3</value>\n\t\t\t\t\t\t<value form="video">jr://file/commcare/video/constraintMsg/data/question1.3gp</value>\n\t\t\t\t\t\t<value form="video-inline">jr://file/commcare/video-inline/constraintMsg/data/question1.3gp</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<input ref="/data/question1">\n\t\t\t<label ref="jr:itext(\'question1-label\')"/>\n\t\t\t<hint ref="jr:itext(\'question1-hint\')"/>\n\t\t\t<help ref="jr:itext(\'question1-help\')"/>\n\t\t\t<alert ref="jr:itext(\'question1-constraintMsg\')"/>\n\t\t</input>\n\t</h:body>\n</h:html>\n'},2477:t=>{"use strict";t.exports='<h:html xmlns:h="http://www.w3.org/1999/xhtml"\n\txmlns:orx="http://openrosa.org/jr/xforms"\n\txmlns="http://www.w3.org/2002/xforms"\n\txmlns:xsd="http://www.w3.org/2001/XMLSchema"\n\txmlns:jr="http://openrosa.org/javarosa"\n\txmlns:vellum="http://commcarehq.org/xforms/vellum"\n\tvellum:ignore="richText">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms"\n\t\t\t\t\txmlns="http://openrosa.org/formdesigner/8D6CF8A5-4396-45C3-9D05-64C3FD97A5D0"\n\t\t\t\t\tuiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<question1/>\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind nodeset="/data/question1" type="xsd:string" \n\t\t\t\tjr:constraintMsg="jr:itext(\'question1-constraintMsg\')" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="question1-label">\n\t\t\t\t\t\t<value>question1 en label</value>\n\t\t\t\t\t\t<value form="image">jr://file/commcare/image/data/question1.png</value>\n\t\t\t\t\t\t<value form="audio">jr://file/commcare/audio/data/question1.mp3</value>\n\t\t\t\t\t\t<value form="video">jr://file/commcare/video/data/question1.3gp</value>\n\t\t\t\t\t\t<value form="video-inline">jr://file/commcare/video-inline/data/question1.3gp</value>\n\t\t\t\t\t\t<value form="long">question1 en long</value>\n\t\t\t\t\t\t<value form="short">question1 en short</value>\n\t\t\t\t\t\t<value form="custom">question1 en custom</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="question1-hint">\n\t\t\t\t\t\t<value>question1 en hint</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="question1-help">\n\t\t\t\t\t\t<value>question1 en help</value>\n\t\t\t\t\t\t<value form="image">jr://file/commcare/image/help/data/question1.png</value>\n\t\t\t\t\t\t<value form="audio">jr://file/commcare/audio/help/data/question1.mp3</value>\n\t\t\t\t\t\t<value form="video">jr://file/commcare/video/help/data/question1.3gp</value>\n\t\t\t\t\t\t<value form="video-inline">jr://file/commcare/video-inline/help/data/question1.3gp</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="question1-constraintMsg">\n\t\t\t\t\t\t<value>question1 en validation</value>\n\t\t\t\t\t\t<value form="image">jr://file/commcare/image/constraintMsg/data/question1.png</value>\n\t\t\t\t\t\t<value form="audio">jr://file/commcare/audio/constraintMsg/data/question1.mp3</value>\n\t\t\t\t\t\t<value form="video">jr://file/commcare/video/constraintMsg/data/question1.3gp</value>\n\t\t\t\t\t\t<value form="video-inline">jr://file/commcare/video-inline/constraintMsg/data/question1.3gp</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t\t<translation lang="hin">\n\t\t\t\t\t<text id="question1-label">\n\t\t\t\t\t\t<value>question1 hin label</value>\n\t\t\t\t\t\t<value form="image">jr://file/commcare/image/data/question1.png</value>\n\t\t\t\t\t\t<value form="audio">jr://file/commcare/audio/data/question1.mp3</value>\n\t\t\t\t\t\t<value form="video">jr://file/commcare/video/data/question1.3gp</value>\n\t\t\t\t\t\t<value form="video-inline">jr://file/commcare/video-inline/data/question1.3gp</value>\n\t\t\t\t\t\t<value form="long">question1 hin long</value>\n\t\t\t\t\t\t<value form="short">question1 hin short</value>\n\t\t\t\t\t\t<value form="custom">question1 hin custom</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="question1-hint">\n\t\t\t\t\t\t<value>question1 hin hint</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="question1-help">\n\t\t\t\t\t\t<value>question1 hin help</value>\n\t\t\t\t\t\t<value form="image">jr://file/commcare/image/help/data/question1.png</value>\n\t\t\t\t\t\t<value form="audio">jr://file/commcare/audio/help/data/question1.mp3</value>\n\t\t\t\t\t\t<value form="video">jr://file/commcare/video/help/data/question1.3gp</value>\n\t\t\t\t\t\t<value form="video-inline">jr://file/commcare/video-inline/help/data/question1.3gp</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="question1-constraintMsg">\n\t\t\t\t\t\t<value>question1 hin validation</value>\n\t\t\t\t\t\t<value form="image">jr://file/commcare/image/constraintMsg/data/question1.png</value>\n\t\t\t\t\t\t<value form="audio">jr://file/commcare/audio/constraintMsg/data/question1.mp3</value>\n\t\t\t\t\t\t<value form="video">jr://file/commcare/video/constraintMsg/data/question1.3gp</value>\n\t\t\t\t\t\t<value form="video-inline">jr://file/commcare/video-inline/constraintMsg/data/question1.3gp</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<input ref="/data/question1">\n\t\t\t<label ref="jr:itext(\'question1-label\')"/>\n\t\t\t<hint ref="jr:itext(\'question1-hint\')"/>\n\t\t\t<help ref="jr:itext(\'question1-help\')"/>\n\t\t</input>\n\t</h:body>\n</h:html>\n'},5745:t=>{"use strict";t.exports='<h:html xmlns:h="http://www.w3.org/1999/xhtml"\n\txmlns:orx="http://openrosa.org/jr/xforms"\n\txmlns="http://www.w3.org/2002/xforms"\n\txmlns:xsd="http://www.w3.org/2001/XMLSchema"\n\txmlns:jr="http://openrosa.org/javarosa"\n\txmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms"\n\t\t\t\t\txmlns="http://openrosa.org/formdesigner/8D6CF8A5-4396-45C3-9D05-64C3FD97A5D0"\n\t\t\t\t\tuiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<question1/>\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind nodeset="/data/question1" type="xsd:string"\n\t\t\t\tjr:constraintMsg="jr:itext(\'question1-constraintMsg\')" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="question1-label">\n\t\t\t\t\t\t<value>question1 en label</value>\n\t\t\t\t\t\t<value form="image">jr://file/commcare/image/data/question1.png</value>\n\t\t\t\t\t\t<value form="audio">jr://file/commcare/audio/data/question1.mp3</value>\n\t\t\t\t\t\t<value form="video">jr://file/commcare/video/data/question1.3gp</value>\n\t\t\t\t\t\t<value form="video-inline">jr://file/commcare/video-inline/data/question1.3gp</value>\n\t\t\t\t\t\t<value form="long">question1 en long</value>\n\t\t\t\t\t\t<value form="short">question1 en short</value>\n\t\t\t\t\t\t<value form="custom">question1 en custom</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="question1-hint">\n\t\t\t\t\t\t<value>question1 en hint</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="question1-help">\n\t\t\t\t\t\t<value>question1 en help</value>\n\t\t\t\t\t\t<value form="image">jr://file/commcare/image/help/data/question1.png</value>\n\t\t\t\t\t\t<value form="audio">jr://file/commcare/audio/help/data/question1.mp3</value>\n\t\t\t\t\t\t<value form="video">jr://file/commcare/video/help/data/question1.3gp</value>\n\t\t\t\t\t\t<value form="video-inline">jr://file/commcare/video-inline/help/data/question1.3gp</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="question1-constraintMsg">\n\t\t\t\t\t\t<value>question1 en validation</value>\n\t\t\t\t\t\t<value form="image">jr://file/commcare/image/constraintMsg/data/question1.png</value>\n\t\t\t\t\t\t<value form="audio">jr://file/commcare/audio/constraintMsg/data/question1.mp3</value>\n\t\t\t\t\t\t<value form="video">jr://file/commcare/video/constraintMsg/data/question1.3gp</value>\n\t\t\t\t\t\t<value form="video-inline">jr://file/commcare/video-inline/constraintMsg/data/question1.3gp</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t\t<translation lang="hin">\n\t\t\t\t\t<text id="question1-label">\n\t\t\t\t\t\t<value>question1 hin label</value>\n\t\t\t\t\t\t<value form="image">jr://file/commcare/image/data/question1.png</value>\n\t\t\t\t\t\t<value form="audio">jr://file/commcare/audio/data/question1.mp3</value>\n\t\t\t\t\t\t<value form="video">jr://file/commcare/video/data/question1.3gp</value>\n\t\t\t\t\t\t<value form="video-inline">jr://file/commcare/video-inline/data/question1.3gp</value>\n\t\t\t\t\t\t<value form="long">question1 hin long</value>\n\t\t\t\t\t\t<value form="short">question1 hin short</value>\n\t\t\t\t\t\t<value form="custom">question1 hin custom</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="question1-hint">\n\t\t\t\t\t\t<value>question1 hin hint</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="question1-help">\n\t\t\t\t\t\t<value>question1 hin help</value>\n\t\t\t\t\t\t<value form="image">jr://file/commcare/image/help/data/question1.png</value>\n\t\t\t\t\t\t<value form="audio">jr://file/commcare/audio/help/data/question1.mp3</value>\n\t\t\t\t\t\t<value form="video">jr://file/commcare/video/help/data/question1.3gp</value>\n\t\t\t\t\t\t<value form="video-inline">jr://file/commcare/video-inline/help/data/question1.3gp</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="question1-constraintMsg">\n\t\t\t\t\t\t<value>question1 hin validation</value>\n\t\t\t\t\t\t<value form="image">jr://file/commcare/image/constraintMsg/data/question1.png</value>\n\t\t\t\t\t\t<value form="audio">jr://file/commcare/audio/constraintMsg/data/question1.mp3</value>\n\t\t\t\t\t\t<value form="video">jr://file/commcare/video/constraintMsg/data/question1.3gp</value>\n\t\t\t\t\t\t<value form="video-inline">jr://file/commcare/video-inline/constraintMsg/data/question1.3gp</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<input ref="/data/question1">\n\t\t\t<label ref="jr:itext(\'question1-label\')"/>\n\t\t\t<hint ref="jr:itext(\'question1-hint\')"/>\n\t\t\t<help ref="jr:itext(\'question1-help\')"/>\n\t\t\t<alert ref="jr:itext(\'question1-constraintMsg\')"/>\n\t\t</input>\n\t</h:body>\n</h:html>\n'},8984:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml"\n\txmlns:orx="http://openrosa.org/jr/xforms"\n\txmlns="http://www.w3.org/2002/xforms"\n\txmlns:xsd="http://www.w3.org/2001/XMLSchema"\n\txmlns:jr="http://openrosa.org/javarosa"\n\txmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms"\n\t\t\t\t\txmlns="http://openrosa.org/formdesigner/8D6CF8A5-4396-45C3-9D05-64C3FD97A5D0"\n\t\t\t\t\tuiVersion="1"\n\t\t\t\t\tversion="1"\n\t\t\t\t\tname="Untitled Form">\n\t\t\t\t\t<question1 />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/question1" nodeset="/data/question1" type="xsd:string" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="question1-label">\n\t\t\t\t\t\t<value>question1</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t\t<translation lang="hin">\n\t\t\t\t\t<text id="question1-label">\n\t\t\t\t\t\t<value>xyz</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t\t<translation lang="es">\n\t\t\t\t\t<text id="question1-label">\n\t\t\t\t\t\t<value>Spanish!</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<input vellum:ref="#form/question1" ref="/data/question1">\n\t\t\t<label ref="jr:itext(\'question1-label\')" />\n\t\t</input>\n\t</h:body>\n</h:html>\n'},7587:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/8D6CF8A5-4396-45C3-9D05-64C3FD97A5D0" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<first_question />\n\t\t\t\t\t<question2 />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/first_question" nodeset="/data/first_question" type="xsd:string" />\n\t\t\t<bind vellum:nodeset="#form/question2" nodeset="/data/question2" type="xsd:string" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="question2-label">\n\t\t\t\t\t\t<value><output vellum:value="#form/first_question" value="/data/first_question" /> a <output vellum:value="#form/first_question" value="/data/first_question" /> b <output vellum:value="#form/first_question" value="/data/first_question" /> c <output vellum:value="#form/first_question" value="/data/first_question" /> d <output vellum:value="if(#form/first_question = \'\', \'\', format-date(date(#form/first_question), \'%a%b%c\'))" value="if(/data/first_question = \'\', \'\', format-date(date(/data/first_question), \'%a%b%c\'))" /></value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t\t<translation lang="hin">\n\t\t\t\t\t<text id="question2-label">\n\t\t\t\t\t\t<value><output vellum:value="#form/first_question" value="/data/first_question" /> a <output vellum:value="#form/first_question" value="/data/first_question" /> b <output vellum:value="#form/first_question" value="/data/first_question" /> c <output vellum:value="#form/first_question" value="/data/first_question" /> d <output vellum:value="if(#form/first_question = \'\', \'\', format-date(date(#form/first_question), \'%a%b%c\'))" value="if(/data/first_question = \'\', \'\', format-date(date(/data/first_question), \'%a%b%c\'))" /></value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<input vellum:ref="#form/first_question" ref="/data/first_question"/>\n\t\t<input vellum:ref="#form/question2" ref="/data/question2">\n\t\t\t<label ref="jr:itext(\'question2-label\')" />\n\t\t</input>\n\t</h:body>\n</h:html>\n'},292:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/D2AEA80D-D518-430A-924B-39D1AE2207F8" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<question1 />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/question1" nodeset="/data/question1" type="xsd:string" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="question1-label">\n\t\t\t\t\t\t<value>question1</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t\t<translation lang="hin">\n\t\t\t\t\t<text id="question1-label">\n\t\t\t\t\t\t<value>question1</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<input vellum:ref="#form/question1" ref="/data/question1">\n\t\t\t<label ref="jr:itext(\'question1-label\')" />\n\t\t</input>\n\t</h:body>\n</h:html>\n'},4494:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/10B97029-578C-4D07-B016-3351C63972F0" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<text />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/text" nodeset="/data/text" type="xsd:string" constraint="1 = 2" jr:constraintMsg="jr:itext(\'text-constraintMsg\')" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="text-label">\n\t\t\t\t\t\t<value>text</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="text-constraintMsg">\n\t\t\t\t\t\t<value>English</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t\t<translation lang="hin">\n\t\t\t\t\t<text id="text-label">\n\t\t\t\t\t\t<value>text</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="text-constraintMsg">\n\t\t\t\t\t\t<value>Hindi</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<input vellum:ref="#form/text" ref="/data/text">\n\t\t\t<label ref="jr:itext(\'text-label\')" />\n\t\t</input>\n\t</h:body>\n</h:html>\n'},3012:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml"\n\txmlns:orx="http://openrosa.org/jr/xforms"\n\txmlns="http://www.w3.org/2002/xforms"\n\txmlns:xsd="http://www.w3.org/2001/XMLSchema"\n\txmlns:jr="http://openrosa.org/javarosa"\n\txmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" \n\t\t\t\t\txmlns="http://openrosa.org/formdesigner/4BE1309B-ABCF-4184-8175-9E381F3E0DD7"\n\t\t\t\t\tuiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<node_locked />\n\t\t\t\t\t<value_locked />\n\t\t\t\t\t<none_locked />\n\t\t\t\t\t<normal />\n\t\t\t\t\t<group />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/node_locked" nodeset="/data/node_locked" type="xsd:string" vellum:lock="node" />\n\t\t\t<bind vellum:nodeset="#form/value_locked" nodeset="/data/value_locked" type="xsd:string" vellum:lock="value"/>\n\t\t\t<bind vellum:nodeset="#form/none_locked" nodeset="/data/none_locked" type="xsd:string" vellum:lock="none" />\n\t\t\t<bind vellum:nodeset="#form/normal" nodeset="/data/normal" type="xsd:string" />\n\t\t\t<bind vellum:nodeset="#form/group" nodeset="/data/group" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="node_locked-label">\n\t\t\t\t\t\t<value>node_locked</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="value_locked-label">\n\t\t\t\t\t\t<value>value_locked</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="none_locked-label">\n\t\t\t\t\t\t<value>none_locked</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="normal-label">\n\t\t\t\t\t\t<value>normal</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<input vellum:ref="#form/node_locked" ref="/data/node_locked">\n\t\t\t<label ref="jr:itext(\'node_locked-label\')" />\n\t\t</input>\n\t\t<input vellum:ref="#form/value_locked" ref="/data/value_locked">\n\t\t\t<label ref="jr:itext(\'value_locked-label\')" />\n\t\t</input>\n\t\t<input vellum:ref="#form/none_locked" ref="/data/none_locked">\n\t\t\t<label ref="jr:itext(\'none_locked-label\')" />\n\t\t</input>\n\t\t<input vellum:ref="#form/normal" ref="/data/normal">\n\t\t\t<label ref="jr:itext(\'normal-label\')" />\n\t\t</input>\n\t\t<group vellum:ref="#form/group" ref="/data/group"></group>\n\t</h:body>\n</h:html>\n'},6684:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/1F4E4E8D-1C50-45D7-82DB-EFCD982B0046" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<calc />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/calc" nodeset="/data/calc" vellum:calculate="#invalid/xpath count( `#case/dob` [1=1])" calculate="count( instance(\'casedb\')/cases/case[@case_id = instance(\'commcaresession\')/session/data/case_id]/dob [1=1])" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="" />\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body />\n</h:html>\n'},3357:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/BDBF500D-13AD-40F0-90B5-EE65A56F92E5" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<question1 />\n\t\t\t\t\t<question2 />\n\t\t\t\t\t<question3 />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/question1" nodeset="/data/question1" type="xsd:string" />\n\t\t\t<bind vellum:nodeset="#form/question2" nodeset="/data/question2" type="xsd:string" vellum:relevant="#form/question1 = #case/dob" relevant="/data/question1 = instance(\'casedb\')/cases/case[@case_id = instance(\'commcaresession\')/session/data/case_id]/dob" />\n\t\t\t<bind vellum:nodeset="#form/question3" nodeset="/data/question3" type="xsd:string" vellum:relevant="#form/question2 = #form/question1" relevant="/data/question2 = /data/question1" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="question1-label">\n\t\t\t\t\t\t<value>question1</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="question2-label">\n\t\t\t\t\t\t<value>question2</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="question3-label">\n\t\t\t\t\t\t<value>question3</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t\t<translation lang="hin">\n\t\t\t\t\t<text id="question1-label">\n\t\t\t\t\t\t<value>question1</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="question2-label">\n\t\t\t\t\t\t<value>question2</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="question3-label">\n\t\t\t\t\t\t<value>question3</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<input vellum:ref="#form/question1" ref="/data/question1">\n\t\t\t<label ref="jr:itext(\'question1-label\')" />\n\t\t</input>\n\t\t<input vellum:ref="#form/question2" ref="/data/question2">\n\t\t\t<label ref="jr:itext(\'question2-label\')" />\n\t\t</input>\n\t\t<input vellum:ref="#form/question3" ref="/data/question3">\n\t\t\t<label ref="jr:itext(\'question3-label\')" />\n\t\t</input>\n\t</h:body>\n</h:html>\n'},9996:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum" vellum:ignore="markdown">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/565C9D13-E3BE-4055-B272-5A5C69688FAD" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<markdown_question />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind nodeset="/data/markdown_question" type="xsd:string" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="markdown_question-label">\n\t\t\t\t\t\t<value>**some markdown**</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t\t<translation lang="hin">\n\t\t\t\t\t<text id="markdown_question-label">\n\t\t\t\t\t\t<value>**some markdown**</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<input ref="/data/markdown_question">\n\t\t\t<label ref="jr:itext(\'markdown_question-label\')" />\n\t\t</input>\n\t</h:body>\n</h:html>\n'},3927:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/565C9D13-E3BE-4055-B272-5A5C69688FAD" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<markdown_question />\n\t\t\t\t\t<question1 />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind nodeset="/data/markdown_question" type="xsd:string" />\n\t\t\t<bind nodeset="/data/question1" type="xsd:string" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="markdown_question-label">\n\t\t\t\t\t\t<value>**some markdown**</value>\n\t\t\t\t\t\t<value form="markdown">**some markdown**</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="question1-label">\n\t\t\t\t\t\t<value>* <output value="/data/markdown_question" /></value>\n\t\t\t\t\t\t<value form="markdown">* <output value="/data/markdown_question" /></value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t\t<translation lang="hin">\n\t\t\t\t\t<text id="markdown_question-label">\n\t\t\t\t\t\t<value>**some markdown**</value>\n\t\t\t\t\t\t<value form="markdown">**some markdown**</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="question1-label">\n\t\t\t\t\t\t<value>* <output value="/data/markdown_question" /></value>\n\t\t\t\t\t\t<value form="markdown">* <output value="/data/markdown_question" /></value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<input ref="/data/markdown_question">\n\t\t\t<label ref="jr:itext(\'markdown_question-label\')" />\n\t\t</input>\n\t\t<input ref="/data/question1">\n\t\t\t<label ref="jr:itext(\'question1-label\')" />\n\t\t</input>\n\t</h:body>\n</h:html>\n'},3436:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/565C9D13-E3BE-4055-B272-5A5C69688FAD" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<markdown_question />\n\t\t\t\t\t<no_markdown />\n\t\t\t\t\t<markdown_but_not />\n\t\t\t\t\t<escaped_markdown />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind nodeset="/data/markdown_question" type="xsd:string" />\n\t\t\t<bind nodeset="/data/no_markdown" type="xsd:string" />\n\t\t\t<bind nodeset="/data/markdown_but_not" type="xsd:string" />\n\t\t\t<bind nodeset="/data/escaped_markdown" type="xsd:string" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="markdown_question-label">\n\t\t\t\t\t\t<value>some markdown</value>\n\t\t\t\t\t\t<value form="markdown">**some markdown**</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="no_markdown-label">\n\t\t\t\t\t\t<value>just text</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="markdown_but_not-label">\n\t\t\t\t\t\t<value>**no markdown here**</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="escaped_markdown-label">\n\t\t\t\t\t\t<value>**no markdown here either**</value>\n\t\t\t\t\t\t<value form="markdown">**\\*\\*no markdown here either\\*\\***</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t\t<translation lang="hin">\n\t\t\t\t\t<text id="markdown_question-label">\n\t\t\t\t\t\t<value>some markdown</value>\n\t\t\t\t\t\t<value form="markdown">**some markdown**</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="no_markdown-label">\n\t\t\t\t\t\t<value>just text</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="markdown_but_not-label">\n\t\t\t\t\t\t<value>**no markdown here**</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="escaped_markdown-label">\n\t\t\t\t\t\t<value>**no markdown here either**</value>\n\t\t\t\t\t\t<value form="markdown">**\\*\\*no markdown here either\\*\\***</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<input ref="/data/markdown_question">\n\t\t\t<label ref="jr:itext(\'markdown_question-label\')" />\n\t\t</input>\n\t\t<input ref="/data/no_markdown">\n\t\t\t<label ref="jr:itext(\'no_markdown-label\')" />\n\t\t</input>\n\t\t<input ref="/data/markdown_but_not">\n\t\t\t<label ref="jr:itext(\'markdown_but_not-label\')" />\n\t\t</input>\n\t\t<input ref="/data/escaped_markdown">\n\t\t\t<label ref="jr:itext(\'escaped_markdown-label\')" />\n\t\t</input>\n\t</h:body>\n</h:html>\n'},5437:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/AB0BB100-747E-474C-B3A0-B965AEF2CA55" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<markdown_question />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind nodeset="/data/markdown_question" type="xsd:string" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="markdown_question-label">\n\t\t\t\t\t\t<value>**no markdown**</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t\t<translation lang="hin">\n\t\t\t\t\t<text id="markdown_question-label">\n\t\t\t\t\t\t<value>**no markdown**</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<input ref="/data/markdown_question">\n\t\t\t<label ref="jr:itext(\'markdown_question-label\')" />\n\t\t</input>\n\t</h:body>\n</h:html>\n'},2325:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/AB0BB100-747E-474C-B3A0-B965AEF2CA55" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<markdown_question />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind nodeset="/data/markdown_question" type="xsd:string" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="markdown_question-label">\n\t\t\t\t\t\t<value>no markdown</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t\t<translation lang="hin">\n\t\t\t\t\t<text id="markdown_question-label">\n\t\t\t\t\t\t<value>no markdown</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<input ref="/data/markdown_question">\n\t\t\t<label ref="jr:itext(\'markdown_question-label\')" />\n\t\t</input>\n\t</h:body>\n</h:html>\n'},7166:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/565C9D13-E3BE-4055-B272-5A5C69688FAD" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<markdown_question />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind nodeset="/data/markdown_question" type="xsd:string" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="markdown_question-label">\n\t\t\t\t\t\t<value>some markdown</value>\n\t\t\t\t\t\t<value form="markdown">some markdown</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t\t<translation lang="hin">\n\t\t\t\t\t<text id="markdown_question-label">\n\t\t\t\t\t\t<value>some markdown</value>\n\t\t\t\t\t\t<value form="markdown">some markdown</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<input ref="/data/markdown_question">\n\t\t\t<label ref="jr:itext(\'markdown_question-label\')" />\n\t\t</input>\n\t</h:body>\n</h:html>\n'},2248:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/565C9D13-E3BE-4055-B272-5A5C69688FAD" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<markdown_question />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind nodeset="/data/markdown_question" type="xsd:string" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="markdown_question-label">\n\t\t\t\t\t\t<value>**some markdown**</value>\n\t\t\t\t\t\t<value form="markdown">**some markdown**</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t\t<translation lang="hin">\n\t\t\t\t\t<text id="markdown_question-label">\n\t\t\t\t\t\t<value>**some markdown**</value>\n\t\t\t\t\t\t<value form="markdown">**some markdown**</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<input ref="/data/markdown_question">\n\t\t\t<label ref="jr:itext(\'markdown_question-label\')" />\n\t\t</input>\n\t</h:body>\n</h:html>\n'},8018:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/F38617FC-F2C2-4B94-90BC-CF1B77407F85" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<hidden />\n\t\t\t\t\t<group ids="" count="" current_index="" vellum:role="Repeat">\n\t\t\t\t\t\t<item id="" index="" jr:template="">\n\t\t\t\t\t\t\t<phone />\n\t\t\t\t\t\t\t<hidden />\n\t\t\t\t\t\t</item>\n\t\t\t\t\t</group>\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<instance src="jr://instance/casedb" id="casedb"></instance>\n\t\t\t<bind vellum:nodeset="#form/hidden" nodeset="/data/hidden" />\n\t\t\t<bind nodeset="/data/group/@current_index" vellum:calculate="count(#form/group/item)" calculate="count(/data/group/item)" />\n\t\t\t<bind vellum:nodeset="#form/group/item" nodeset="/data/group/item" />\n\t\t\t<bind vellum:nodeset="#form/group/item/phone" nodeset="/data/group/item/phone" type="xsd:string" />\n\t\t\t<bind vellum:nodeset="#form/group/item/hidden" nodeset="/data/group/item/hidden" vellum:calculate="#form/group/item/phone = \'12345\'" calculate="/data/group/item/phone = \'12345\'" />\n\t\t\t<setvalue event="xforms-ready" vellum:ref="#form/hidden" ref="/data/hidden" value="\'blah\'" />\n\t\t\t<setvalue event="xforms-ready" ref="/data/group/@ids" value="join(\' \', instance(\'casedb\')/mother/child/@case_id)" />\n\t\t\t<setvalue event="xforms-ready" ref="/data/group/@count" value="count-selected(/data/group/@ids)" />\n\t\t\t<setvalue event="jr-insert" ref="/data/group/item/@index" value="int(/data/group/@current_index)" />\n\t\t\t<setvalue event="jr-insert" ref="/data/group/item/@id" value="selected-at(/data/group/@ids, ../@index)" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default=""/>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<group>\n\t\t\t<repeat jr:count="/data/group/@count" jr:noAddRemove="true()" vellum:nodeset="#form/group/item" nodeset="/data/group/item">\n\t\t\t\t<input vellum:ref="#form/group/item/phone" ref="/data/group/item/phone" appearance="numeric"/>\n\t\t\t</repeat>\n\t\t</group>\n\t</h:body>\n</h:html>\n'},5575:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/F38617FC-F2C2-4B94-90BC-CF1B77407F85" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<group ids="" count="" current_index="" vellum:role="Repeat">\n\t\t\t\t\t\t<item id="" index="" jr:template="">\n\t\t\t\t\t\t\t<phone />\n\t\t\t\t\t\t\t<hidden />\n\t\t\t\t\t\t</item>\n\t\t\t\t\t</group>\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<instance src="jr://instance/casedb" id="casedb"></instance>\n\t\t\t<bind nodeset="/data/group/@current_index" vellum:calculate="count(#form/group/item)" calculate="count(/data/group/item)" />\n\t\t\t<bind vellum:nodeset="#form/group/item" nodeset="/data/group/item" />\n\t\t\t<bind vellum:nodeset="#form/group/item/phone" nodeset="/data/group/item/phone" type="xsd:string" />\n\t\t\t<bind vellum:nodeset="#form/group/item/hidden" nodeset="/data/group/item/hidden" vellum:calculate="#form/group/item/phone = \'12345\'" calculate="/data/group/item/phone = \'12345\'" />\n\t\t\t<setvalue event="xforms-ready" ref="/data/group/@ids" value="join(\' \', instance(\'casedb\')/mother/child/@case_id)" />\n\t\t\t<setvalue event="xforms-ready" ref="/data/group/@count" value="count-selected(/data/group/@ids)" />\n\t\t\t<setvalue event="jr-insert" ref="/data/group/item/@index" value="int(/data/group/@current_index)" />\n\t\t\t<setvalue event="jr-insert" ref="/data/group/item/@id" value="selected-at(/data/group/@ids, ../@index)" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default=""/>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<group>\n\t\t\t<repeat jr:count="/data/group/@count" jr:noAddRemove="true()" vellum:nodeset="#form/group/item" nodeset="/data/group/item">\n\t\t\t\t<input vellum:ref="#form/group/item/phone" ref="/data/group/item/phone" appearance="numeric"/>\n\t\t\t</repeat>\n\t\t</group>\n\t</h:body>\n</h:html>\n'},3784:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/28B1D8B9-1144-4600-968A-349FD99FFCA5" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<child ids="" count="" current_index="" vellum:role="Repeat">\n\t\t\t\t\t\t<item id="" index="" jr:template="" />\n\t\t\t\t\t</child>\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<instance id="casedb" src="jr://instance/casedb"></instance>\n\t\t\t<bind nodeset="/data/child/@current_index" vellum:calculate="count(#form/child/item)" calculate="count(/data/child/item)" />\n\t\t\t<bind vellum:nodeset="#form/child/item" nodeset="/data/child/item" />\n\t\t\t<setvalue event="xforms-ready" ref="/data/child/@ids" value="join(\' \', instance(\'casedb\')/mother/child/@case_id)" />\n\t\t\t<setvalue event="xforms-ready" ref="/data/child/@count" value="count-selected(/data/child/@ids)" />\n\t\t\t<setvalue event="jr-insert" ref="/data/child/item/@index" value="int(/data/child/@current_index)" />\n\t\t\t<setvalue event="jr-insert" ref="/data/child/item/@id" value="selected-at(/data/child/@ids, ../@index)" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default=""/>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<group>\n\t\t\t<repeat vellum:nodeset="#form/child/item" nodeset="/data/child/item" jr:count="/data/child/@count" jr:noAddRemove="true()" />\n\t\t</group>\n\t</h:body>\n</h:html>\n'},6070:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/28B1D8B9-1144-4600-968A-349FD99FFCA5" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<product ids="" count="" current_index="" vellum:role="Repeat">\n\t\t\t\t\t\t<item id="" index="" jr:template=""/>\n\t\t\t\t\t</product>\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<instance id="products" src="jr://fixture/commtrack:products" />\n\t\t\t<bind nodeset="/data/product/@current_index" vellum:calculate="count(#form/product/item)" calculate="count(/data/product/item)" />\n\t\t\t<bind vellum:nodeset="#form/product/item" nodeset="/data/product/item" />\n\t\t\t<setvalue event="xforms-ready" ref="/data/product/@ids" value="join(\' \', instance(\'products\')/products/product/@id)" />\n\t\t\t<setvalue event="xforms-ready" ref="/data/product/@count" value="count-selected(/data/product/@ids)" />\n\t\t\t<setvalue event="jr-insert" ref="/data/product/item/@index" value="int(/data/product/@current_index)" />\n\t\t\t<setvalue event="jr-insert" ref="/data/product/item/@id" value="selected-at(/data/product/@ids, ../@index)" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default=""/>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<group>\n\t\t\t<repeat vellum:nodeset="#form/product/item" nodeset="/data/product/item" jr:count="/data/product/@count" jr:noAddRemove="true()" />\n\t\t</group>\n\t</h:body>\n</h:html>\n'},4083:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/28B1D8B9-1144-4600-968A-349FD99FFCA5" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<product jr:template="" />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/product" nodeset="/data/product" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default=""/>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<group>\n\t\t\t<repeat vellum:nodeset="#form/product" nodeset="/data/product" />\n\t\t</group>\n\t</h:body>\n</h:html>\n'},7977:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/05EB6EEF-AC1D-416C-A949-1BABAD81B57A" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<select />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/select" nodeset="/data/select" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="" />\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<select1 vellum:ref="#form/select" ref="/data/select">\n\t\t\t<item>\n\t\t\t\t<label ref="jr:itext(\'select-blank-label\')" />\n\t\t\t\t<value>blank</value>\n\t\t\t</item>\n\t\t</select1>\n\t</h:body>\n</h:html>'},4365:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/65D6BDD4-99E2-40CB-A8D0-71BE3CED64E7" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<tèxt />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind nodeset="#form/tèxt" type="xsd:string" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="tèxt-label">\n\t\t\t\t\t\t<value>text</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t\t<translation lang="hin">\n\t\t\t\t\t<text id="tèxt-label">\n\t\t\t\t\t\t<value>text</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<input ref="#form/tèxt">\n\t\t\t<label ref="jr:itext(\'tèxt-label\')" />\n\t\t</input>\n\t</h:body>\n</h:html>'},3314:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/8730E8C4-2374-47E4-B293-7BA3936D0A4A" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<body>\n\t\t\t\t\t\t<text />\n\t\t\t\t\t</body>\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/body" nodeset="/data/body" />\n\t\t\t<bind vellum:nodeset="#form/body/text" nodeset="/data/body/text" type="xsd:string" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="body-label">\n\t\t\t\t\t\t<value>body</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<group vellum:ref="#form/body" ref="/data/body">\n\t\t\t<label ref="jr:itext(\'body-label\')" />\n\t\t\t<input vellum:ref="#form/body/text" ref="/data/body/text">\n\t\t\t\t<label ref="jr:itext(\'body/text-label\')" />\n\t\t\t</input>\n\t\t</group>\n\t</h:body>\n</h:html>'},9811:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/4D3DAB74-EEED-4487-90F4-3E06E66B367C" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<question1 />\n\t\t\t\t\t<question2 />\n\t\t\t\t\t<question3 />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind nodeset="/data/question1" type="xsd:string" />\n\t\t\t<bind nodeset="/data/question2" type="xsd:string" constraint="/data/question1" relevant="/data/question1" />\n\t\t\t<bind nodeset="/data/question3" calculate="/data/question1" />\n\t\t\t<setvalue event="xforms-ready" ref="/data/question2" value="/data/question1" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="question1-label">\n\t\t\t\t\t\t<value>question1</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="question2-label">\n\t\t\t\t\t\t<value><output value="/data/question1" /> question2</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<input ref="/data/question1">\n\t\t\t<label ref="jr:itext(\'question1-label\')" />\n\t\t</input>\n\t\t<input ref="/data/question2">\n\t\t\t<label ref="jr:itext(\'question2-label\')" />\n\t\t</input>\n\t</h:body>\n</h:html>\n'},1208:t=>{"use strict";t.exports='<h:html xmlns="http://www.w3.org/2002/xforms" xmlns:h="http://www.w3.org/1999/xhtml" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa">\n<h:head>\n\t<h:title>Reference Format Tests</h:title>\n\t<model>\n\t\t<instance>\n\t\t\t<data xmlns="http://www.commcarehq.org/a/corpora/tests/references" version="1">\n\t\t\t\t<group>\n\t\t\t\t\t<a/>\n\t\t\t\t</group>\n\t\t\t\t<text />\n\t\t\t</data>\n\t\t</instance>\n\t</model>\n</h:head>\t\t\t\n<h:body>\n\t<group ref="group">\n\t\t<label>The group</label>\n\t\t<select1 ref="a">\n\t\t\t<label>The label</label>\n\t\t\t<item><label>Yes</label><value>y</value></item>\n\t\t\t<item><label>No</label><value>n</value></item>\n\t\t</select1>\n\t</group>\n\t<group appearance="field-list">\n\t\t<trigger ref="/data/text">\n\t\t\t<label>The text</label>\n\t\t</trigger>\n\t</group>\n</h:body>\n</h:html>\n'},5416:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/5C09561F-A531-44F3-B6D1-EACE9F879D4B" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<text />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="text-label">\n\t\t\t\t\t\t<value>text</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<input vellum:ref="#form/text" ref="/data/text">\n\t\t\t<label ref="jr:itext(\'text-label\')" />\n\t\t</input>\n\t</h:body>\n</h:html>\n'},1972:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8"?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n  <h:head>\n    <h:title>Untitled Form</h:title>\n    <model>\n      <itext>\n        <translation lang="en" default="">\n          <text id="/ClassroomObservationV3/Q0003:label">\n            <value>Places</value>\n          </text>\n          <text id="/ClassroomObservationV3/Q0003/1:label">\n            <value>Central</value>\n          </text>\n        </translation>\n      </itext>\n      <instance>\n        <ClassroomObservationV3 xmlns="http://openrosa.org/formdesigner/a530b6d48dc56c027fdb579c0b0f251e9273c701" id="class_observationv3">\n          <Q0003/>\n        </ClassroomObservationV3>\n      </instance>\n      <bind nodeset="/ClassroomObservationV3/Q0003" required="true()" type="select1" />\n    </model>\n  </h:head>\n  <h:body>\n    <select1 ref="/ClassroomObservationV3/Q0003">\n      <label ref="jr:itext(\'/ClassroomObservationV3/Q0003:label\')" />\n      <item>\n        <label ref="jr:itext(\'/ClassroomObservationV3/Q0003/1:label\')"/>\n        <value>1</value>\n      </item>\n      <item>\n        <label>Other</label>\n        <value>other</value>\n      </item>\n    </select1>\n  </h:body>\n</h:html>\n'},32:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/4D3DAB74-EEED-4487-90F4-3E06E66B367C" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<question1 />\n\t\t\t\t\t<question2 />\n\t\t\t\t\t<question3 />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/question1" nodeset="/data/question1" type="xsd:string" />\n\t\t\t<bind vellum:nodeset="#form/question2" nodeset="/data/question2" type="xsd:string" vellum:constraint="#form/question1" constraint="/data/question1" vellum:relevant="#form/question1" relevant="/data/question1" />\n\t\t\t<bind vellum:nodeset="#form/question3" nodeset="/data/question3" vellum:calculate="#form/question1" calculate="/data/question1" />\n\t\t\t<setvalue event="xforms-ready" vellum:ref="#form/question2" ref="/data/question2" vellum:value="#form/question1" value="/data/question1" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="question1-label">\n\t\t\t\t\t\t<value>question1</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="question2-label">\n\t\t\t\t\t\t<value><output vellum:value="#form/question1" value="/data/question1" /> question2</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<input vellum:ref="#form/question1" ref="/data/question1">\n\t\t\t<label ref="jr:itext(\'question1-label\')" />\n\t\t</input>\n\t\t<input vellum:ref="#form/question2" ref="/data/question2">\n\t\t\t<label ref="jr:itext(\'question2-label\')" />\n\t\t</input>\n\t</h:body>\n</h:html>\n'},5952:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/4D3DAB74-EEED-4487-90F4-3E06E66B367C" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<question1 />\n\t\t\t\t\t<question2 />\n\t\t\t\t\t<question3 />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/question1" nodeset="overriden" type="xsd:string" />\n\t\t\t<bind vellum:nodeset="#form/question2" nodeset="overriden" type="xsd:string" vellum:constraint="#form/question1" constraint="overridden" vellum:relevant="#form/question1" relevant="overridden" />\n\t\t\t<bind vellum:nodeset="#form/question3" nodeset="overriden" vellum:calculate="#form/question1" calculate="overridden" />\n\t\t\t<setvalue event="xforms-ready" vellum:ref="#form/question2" ref="overridden" vellum:value="#form/question1" value="overridden" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="question1-label">\n\t\t\t\t\t\t<value>question1</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="question2-label">\n\t\t\t\t\t\t<value><output vellum:value="#form/question1" value="overridden" /> question2</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<input vellum:ref="#form/question1" ref="overridden">\n\t\t\t<label ref="jr:itext(\'question1-label\')" />\n\t\t</input>\n\t\t<input vellum:ref="#form/question2" ref="overridden">\n\t\t\t<label ref="jr:itext(\'question2-label\')" />\n\t\t</input>\n\t</h:body>\n</h:html>\n'},3346:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/6830242E-8941-4752-BF6F-F40F4C964878" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<question1 />\n\t\t\t\t\t<question2 jr:template="">\n\t\t\t\t\t\t<question3 />\n\t\t\t\t\t</question2>\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/question1" nodeset="/data/question1" type="xsd:int" />\n\t\t\t<bind vellum:nodeset="#form/question2" nodeset="/data/question2" />\n\t\t\t<bind vellum:nodeset="#form/question2/question3" nodeset="/data/question2/question3" type="xsd:string" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default=""/>\n\t\t\t\t<translation lang="hin"/>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<input vellum:ref="#form/question1" ref="/data/question1"/>\n\t\t<group>\n\t\t\t<repeat vellum:jr__count="#form/question1" jr:noAddRemove="true()" vellum:nodeset="#form/question2" nodeset="/data/question2">\n\t\t\t\t<input vellum:ref="#form/question2/question3" ref="/data/question2/question3"/>\n\t\t\t</repeat>\n\t\t</group>\n\t</h:body>\n</h:html>\n'},7519:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/D893A901-3F22-449C-B292-7D2BA95C3D59" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<question1 />\n\t\t\t\t\t<question2 />\n\t\t\t\t\t<question3 />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/question1" nodeset="/data/question1" type="xsd:string" required="true()" />\n\t\t\t<bind vellum:nodeset="#form/question2" nodeset="/data/question2" type="xsd:string" vellum:required="#form/question1 = \'hi\'" required="/data/question1 = \'hi\'" vellum:requiredCondition="#form/question1 = \'hi\'" requiredCondition="/data/question1 = \'hi\'" />\n\t\t\t<bind vellum:nodeset="#form/question3" nodeset="/data/question3" type="xsd:string" vellum:requiredCondition="#form/question2 = \'hello\'" requiredCondition="/data/question2 = \'hello\'" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="" />\n\t\t\t\t<translation lang="hin" />\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<input vellum:ref="#form/question1" ref="/data/question1" />\n\t\t<input vellum:ref="#form/question2" ref="/data/question2" />\n\t\t<input vellum:ref="#form/question3" ref="/data/question3" />\n\t</h:body>\n</h:html>\n'},9398:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Vellum testing</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms"\n\t\t\t\t\t  xmlns="http://openrosa.org/formdesigner/FFD00941-A932-471A-AEC8-87F6EFEF767F"\n\t\t\t\t\t  uiVersion="1" version="1" name="Vellum testing">\n\t\t\t\t\t<state />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<instance id="states" src="jr://fixture/item-list:state"></instance>\n\t\t\t<bind vellum:nodeset="#form/state" nodeset="/data/state" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="state-label">\n\t\t\t\t\t\t<value>State</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<select1 vellum:ref="#form/state" ref="/data/state">\n\t\t\t<label ref="jr:itext(\'state-label\')" />\n\t\t\t<itemset nodeset="instance(\'states\')/state_list/state">\n\t\t\t  <label ref="name"></label>\n\t\t\t  <value ref="id"></value>\n\t\t\t</itemset>\n\t\t</select1>\n\t</h:body>\n</h:html>\n'},1737:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8"?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/398C9010-61DC-42D3-8A85-B857AC3A9CA0" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<question1 />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/question1" nodeset="/data/question1" calculate="concat(&quot;Line 1&quot;,&quot;&#10;Line 2&quot;)" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default=""/>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body></h:body>\n</h:html>\n'},4246:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/939C596B-AD0C-4BB8-8717-F00707F71909" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<mug vellum:comment="This is a comment" />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/mug" nodeset="/data/mug" type="xsd:string" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default=""/>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<input vellum:ref="#form/mug" ref="/data/mug"/>\n\t</h:body>\n</h:html>\n'},1444:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/15D715A0-49F7-4619-B59A-118155653F32" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<image />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/image" nodeset="/data/image" type="binary" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="image-label">\n\t\t\t\t\t\t<value>image</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t\t<translation lang="hin">\n\t\t\t\t\t<text id="image-label">\n\t\t\t\t\t\t<value>image</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<upload mediatype="image/*" vellum:ref="#form/image" ref="/data/image">\n\t\t\t<label ref="jr:itext(\'image-label\')" />\n\t\t</upload>\n\t</h:body>\n</h:html>\n'},3377:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/4CA64B95-95E9-420A-90A8-7649C745D336" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<question1 />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/question1" nodeset="/data/question1" type="select1" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="question1-label">\n\t\t\t\t\t\t<value>question1</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="question1-help">\n\t\t\t\t\t\t<value>help</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="question1-item1-label">\n\t\t\t\t\t\t<value>item1</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="question1-item2-label">\n\t\t\t\t\t\t<value>item2</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t\t<translation lang="hin">\n\t\t\t\t\t<text id="question1-label">\n\t\t\t\t\t\t<value>question1</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="question1-help">\n\t\t\t\t\t\t<value>help</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="question1-item1-label">\n\t\t\t\t\t\t<value>item1</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="question1-item2-label">\n\t\t\t\t\t\t<value>item2</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<select1 vellum:ref="#form/question1" ref="/data/question1">\n\t\t\t<label ref="jr:itext(\'question1-label\')" />\n\t\t\t<help ref="jr:itext(\'question1-help\')" />\n\t\t\t<item>\n\t\t\t\t<label ref="jr:itext(\'question1-item1-label\')" />\n\t\t\t\t<value>item1</value>\n\t\t\t</item>\n\t\t\t<item>\n\t\t\t\t<label ref="jr:itext(\'question1-item2-label\')" />\n\t\t\t\t<value>item2</value>\n\t\t\t</item>\n\t\t</select1>\n\t</h:body>\n</h:html>\n'},2933:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/9CC6B54C-CFF6-429C-83FB-9D56B2B330D9" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<verify_current_num_burpees />\n\t\t\t\t\t<new_burpee_data>\n\t\t\t\t\t\t<burpee_date />\n\t\t\t\t\t\t<num_burpees />\n\t\t\t\t\t</new_burpee_data>\n\t\t\t\t\t<prev_num_burpees />\n\t\t\t\t\t<total_num_burpees />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/verify_current_num_burpees" nodeset="/data/verify_current_num_burpees" />\n\t\t\t<bind vellum:nodeset="#form/new_burpee_data" nodeset="/data/new_burpee_data" />\n\t\t\t<bind vellum:nodeset="#form/new_burpee_data/burpee_date" nodeset="/data/new_burpee_data/burpee_date" type="xsd:date" constraint=". &lt;= today()" jr:constraintMsg="jr:itext(\'burpee_date-constraintMsg\')" />\n\t\t\t<bind vellum:nodeset="#form/new_burpee_data/num_burpees" nodeset="/data/new_burpee_data/num_burpees" type="xsd:int" constraint=". &lt;= 1000" jr:constraintMsg="jr:itext(\'num_burpees-constraintMsg\')" />\n\t\t\t<bind vellum:nodeset="#form/prev_num_burpees" nodeset="/data/prev_num_burpees" />\n\t\t\t<bind vellum:nodeset="#form/total_num_burpees" nodeset="/data/total_num_burpees" vellum:calculate="#form/new_burpee_data/num_burpees + #form/prev_num_burpees" calculate="/data/new_burpee_data/num_burpees + /data/prev_num_burpees" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="verify_current_num_burpees-label">\n\t\t\t\t\t\t<value>Nice work! \nOur records show you have done <output vellum:value="#form/prev_num_burpees" value="/data/prev_num_burpees" /> burpees so far. If this does not sound right, you may need to go back to the home screen and sync your phone to get the latest data before proceeding.</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="new_burpee_data/burpee_date-label">\n\t\t\t\t\t\t<value>What day did you burp?</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="burpee_date-constraintMsg">\n\t\t\t\t\t\t<value>That\'s in the future! Liars will be disqualified from the competition.</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="new_burpee_data/num_burpees-label">\n\t\t\t\t\t\t<value>How many burpees did you do on <output vellum:value="format-date(date(#form/new_burpee_data/burpee_date), \'%a, %b %e, %Y\')" value="format-date(date(/data/new_burpee_data/burpee_date), \'%a, %b %e, %Y\')" /> ?</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="num_burpees-constraintMsg">\n\t\t\t\t\t\t<value>That\'s too many burpees. Liars will be disqualified from the competition</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<trigger vellum:ref="#form/verify_current_num_burpees" ref="/data/verify_current_num_burpees" appearance="minimal">\n\t\t\t<label ref="jr:itext(\'verify_current_num_burpees-label\')" />\n\t\t</trigger>\n\t\t<group vellum:ref="#form/new_burpee_data" ref="/data/new_burpee_data" appearance="field-list">\n\t\t\t<input vellum:ref="#form/new_burpee_data/burpee_date" ref="/data/new_burpee_data/burpee_date">\n\t\t\t\t<label ref="jr:itext(\'new_burpee_data/burpee_date-label\')" />\n\t\t\t\t<alert ref="jr:itext(\'burpee_date-constraintMsg\')" />\n\t\t\t</input>\n\t\t\t<input vellum:ref="#form/new_burpee_data/num_burpees" ref="/data/new_burpee_data/num_burpees">\n\t\t\t\t<label ref="jr:itext(\'new_burpee_data/num_burpees-label\')" />\n\t\t\t\t<alert ref="jr:itext(\'num_burpees-constraintMsg\')" />\n\t\t\t</input>\n\t\t</group>\n\t</h:body>\n</h:html>\n'},1033:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n  <h:head>\n    <h:title>Untitled Form</h:title>\n    <model>\n      <instance>\n        <data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/5BB149AC-6665-4C04-8B27-E23A0B267C24" uiVersion="1" version="1" name="Untitled Form">\n          <name />\n        </data>\n      </instance>\n      <instance src="jr://instance/casedb" id="casedb" />\n      <bind nodeset="/data/name" type="xsd:string" required="true()" />\n      <itext>\n        <translation lang="en" default="">\n          <text id="name-label">\n            <value><output ref="instance(\'casedb\')/casedb/case[@case_id = current()/../../@id]/case_name" /></value>\n          </text>\n        </translation>\n      </itext>\n    </model>\n  </h:head>\n  <h:body>\n    <input ref="/data/name">\n      <label ref="jr:itext(\'name-label\')" />\n    </input>\n  </h:body>\n</h:html>\n'},5053:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n  <h:head>\n    <h:title>Untitled Form</h:title>\n    <model>\n      <instance>\n        <data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/5BB149AC-6665-4C04-8B27-E23A0B267C24" uiVersion="1" version="1" name="Untitled Form">\n          <name />\n        </data>\n      </instance>\n      <instance src="jr://instance/casedb" id="casedb" />\n      <bind vellum:nodeset="#form/name" nodeset="/data/name" type="xsd:string" required="true()" />\n      <itext>\n        <translation lang="en" default="">\n          <text id="name-label">\n            <value><output value="instance(\'casedb\')/casedb/case[@case_id = current()/../../@id]/case_name" /></value>\n          </text>\n        </translation>\n      </itext>\n    </model>\n  </h:head>\n  <h:body>\n    <input vellum:ref="#form/name" ref="/data/name">\n      <label ref="jr:itext(\'name-label\')" />\n    </input>\n  </h:body>\n</h:html>\n'},6350:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/2F7E3113-5827-455B-B5E0-2E8856FE23E8" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<question1 />\n\t\t\t\t\t<save_to_case vellum:role="SaveToCase" vellum:case_type="" >\n\t\t\t\t\t\t<case xmlns="http://commcarehq.org/case/transaction/v2" case_id="" date_modified="" user_id="">\n\t\t\t\t\t\t\t<attachment>\n\t\t\t\t\t\t\t\t<attach from="local" name="name" />\n\t\t\t\t\t\t\t</attachment>\n\t\t\t\t\t\t</case>\n\t\t\t\t\t</save_to_case>\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/question1" nodeset="/data/question1" type="binary" />\n\t\t\t<bind nodeset="/data/save_to_case/case/attachment/attach/@src" vellum:calculate="#form/question1" calculate="/data/question1" />\n\t\t\t<bind nodeset="/data/save_to_case/case/@date_modified" calculate="/data/meta/timeEnd" type="xsd:dateTime" />\n\t\t\t<bind nodeset="/data/save_to_case/case/@user_id" calculate="/data/meta/userID" />\n\t\t\t<bind nodeset="/data/save_to_case/case/@case_id" calculate="/data/meta/caseID" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="question1-label">\n\t\t\t\t\t\t<value>question1</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<upload mediatype="image/*" vellum:ref="#form/question1" ref="/data/question1">\n\t\t\t<label ref="jr:itext(\'question1-label\')" />\n\t\t</upload>\n\t</h:body>\n</h:html>\n'},2330:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/E1B03643-109D-4DC6-9737-815E4401DE79" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<name />\n\t\t\t\t\t<save_to_case vellum:role="SaveToCase" vellum:case_type="household" >\n\t\t\t\t\t\t<case xmlns="http://commcarehq.org/case/transaction/v2" case_id="" date_modified="" user_id="">\n\t\t\t\t\t\t\t<close />\n\t\t\t\t\t\t</case>\n\t\t\t\t\t</save_to_case>\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/name" nodeset="/data/name" type="xsd:string" />\n\t\t\t<bind nodeset="/data/save_to_case/case/close" relevant="1=1" />\n\t\t\t<bind nodeset="/data/save_to_case/case/@date_modified" calculate="/data/meta/timeEnd" type="xsd:dateTime" />\n\t\t\t<bind nodeset="/data/save_to_case/case/@user_id" calculate="/data/meta/userID" />\n\t\t\t<bind nodeset="/data/save_to_case/case/@case_id" calculate="/data/meta/caseID" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="name-label">\n\t\t\t\t\t\t<value>name</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<input vellum:ref="#form/name" ref="/data/name">\n\t\t\t<label ref="jr:itext(\'name-label\')" />\n\t\t</input>\n\t</h:body>\n</h:html>\n'},9347:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/E1B03643-109D-4DC6-9737-815E4401DE79" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<name />\n\t\t\t\t\t<save_to_case vellum:role="SaveToCase" vellum:case_type="" >\n\t\t\t\t\t\t<case xmlns="http://commcarehq.org/case/transaction/v2" case_id="" date_modified="" user_id="">\n\t\t\t\t\t\t\t<close />\n\t\t\t\t\t\t</case>\n\t\t\t\t\t</save_to_case>\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/name" nodeset="/data/name" type="xsd:string" />\n\t\t\t<bind nodeset="/data/save_to_case/case/close" relevant="1=1" />\n\t\t\t<bind nodeset="/data/save_to_case/case/@date_modified" calculate="/data/meta/timeEnd" type="xsd:dateTime" />\n\t\t\t<bind nodeset="/data/save_to_case/case/@user_id" calculate="/data/meta/userID" />\n\t\t\t<bind nodeset="/data/save_to_case/case/@case_id" calculate="/data/meta/caseID" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="name-label">\n\t\t\t\t\t\t<value>name</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<input vellum:ref="#form/name" ref="/data/name">\n\t\t\t<label ref="jr:itext(\'name-label\')" />\n\t\t</input>\n\t</h:body>\n</h:html>\n'},770:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/E1B03643-109D-4DC6-9737-815E4401DE79" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<name />\n\t\t\t\t\t<create1 vellum:role="SaveToCase" vellum:case_type="" >\n\t\t\t\t\t\t<case xmlns="http://commcarehq.org/case/transaction/v2" case_id="" date_modified="" user_id="">\n\t\t\t\t\t\t\t<create>\n\t\t\t\t\t\t\t\t<case_type />\n\t\t\t\t\t\t\t\t<case_name />\n\t\t\t\t\t\t\t\t<owner_id />\n\t\t\t\t\t\t\t</create>\n\t\t\t\t\t\t</case>\n\t\t\t\t\t</create1>\n\t\t\t\t\t<create2 vellum:role="SaveToCase" vellum:case_type="" >\n\t\t\t\t\t\t<case xmlns="http://commcarehq.org/case/transaction/v2" case_id="" date_modified="" user_id="">\n\t\t\t\t\t\t\t<create>\n\t\t\t\t\t\t\t\t<case_type />\n\t\t\t\t\t\t\t\t<case_name />\n\t\t\t\t\t\t\t\t<owner_id />\n\t\t\t\t\t\t\t</create>\n\t\t\t\t\t\t</case>\n\t\t\t\t\t</create2>\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/name" nodeset="/data/name" type="xsd:string" />\n\t\t\t<bind nodeset="/data/create1/case/create/case_type" calculate="caseType" />\n\t\t\t<bind nodeset="/data/create1/case/create/case_name" vellum:calculate="#form/name" calculate="/data/name" />\n\t\t\t<bind nodeset="/data/create1/case/create/owner_id" calculate="/data/meta/userID" />\n\t\t\t<bind nodeset="/data/create1/case/@date_modified" calculate="/data/meta/timeEnd" type="xsd:dateTime" />\n\t\t\t<bind nodeset="/data/create1/case/@user_id" calculate="/data/meta/userID" />\n\t\t\t<bind nodeset="/data/create2/case/create/case_type" calculate="caseType" />\n\t\t\t<bind nodeset="/data/create2/case/create/case_name" vellum:calculate="#form/name" calculate="/data/name" />\n\t\t\t<bind nodeset="/data/create2/case/create/owner_id" calculate="/data/meta/userID" />\n\t\t\t<bind nodeset="/data/create2/case/@date_modified" calculate="/data/meta/timeEnd" type="xsd:dateTime" />\n\t\t\t<bind nodeset="/data/create2/case/@user_id" calculate="/data/meta/userID" />\n\t\t\t<setvalue event="xforms-ready" ref="/data/create1/case/@case_id" value="1" />\n\t\t\t<setvalue event="xforms-ready" ref="/data/create2/case/@case_id" value="1" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="name-label">\n\t\t\t\t\t\t<value>name</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<input vellum:ref="#form/name" ref="/data/name">\n\t\t\t<label ref="jr:itext(\'name-label\')" />\n\t\t</input>\n\t</h:body>\n</h:html>\n'},9091:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/E1B03643-109D-4DC6-9737-815E4401DE79" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<name />\n\t\t\t\t\t<save_to_case vellum:role="SaveToCase" vellum:case_type="" >\n\t\t\t\t\t\t<case xmlns="http://commcarehq.org/case/transaction/v2" case_id="" date_modified="" user_id="">\n\t\t\t\t\t\t\t<create>\n\t\t\t\t\t\t\t\t<case_type />\n\t\t\t\t\t\t\t\t<case_name />\n\t\t\t\t\t\t\t\t<owner_id />\n\t\t\t\t\t\t\t</create>\n\t\t\t\t\t\t</case>\n\t\t\t\t\t</save_to_case>\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/name" nodeset="/data/name" type="xsd:string" />\n\t\t\t<bind nodeset="/data/save_to_case/case/create/case_type" calculate="caseType" />\n\t\t\t<bind nodeset="/data/save_to_case/case/create/case_name" vellum:calculate="#form/name" calculate="/data/name" />\n\t\t\t<bind nodeset="/data/save_to_case/case/create/owner_id" calculate="/data/meta/userID" />\n\t\t\t<bind nodeset="/data/save_to_case/case/@date_modified" calculate="/data/meta/timeEnd" type="xsd:dateTime" />\n\t\t\t<bind nodeset="/data/save_to_case/case/@user_id" calculate="/data/meta/userID" />\n\t\t\t<setvalue event="xforms-ready" ref="/data/save_to_case/case/@case_id" value="uuid()" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="name-label">\n\t\t\t\t\t\t<value>name</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<input vellum:ref="#form/name" ref="/data/name">\n\t\t\t<label ref="jr:itext(\'name-label\')" />\n\t\t</input>\n\t</h:body>\n</h:html>\n'},4235:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/E1B03643-109D-4DC6-9737-815E4401DE79" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<name />\n\t\t\t\t\t<save_to_case vellum:role="SaveToCase" vellum:case_type="" >\n\t\t\t\t\t\t<case xmlns="http://commcarehq.org/case/transaction/v2" case_id="" date_modified="" user_id="">\n\t\t\t\t\t\t\t<index>\n\t\t\t\t\t\t\t\t<extension case_type="extension_case" relationship="extension" />\n\t\t\t\t\t\t\t</index>\n\t\t\t\t\t\t</case>\n\t\t\t\t\t</save_to_case>\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/name" nodeset="/data/name" type="xsd:string" />\n\t\t\t<bind nodeset="/data/save_to_case/case/index/extension" calculate="/data/meta/caseID" />\n\t\t\t<bind nodeset="/data/save_to_case/case/@date_modified" calculate="/data/meta/timeEnd" type="xsd:dateTime" />\n\t\t\t<bind nodeset="/data/save_to_case/case/@user_id" calculate="/data/meta/userID" />\n\t\t\t<bind nodeset="/data/save_to_case/case/@case_id" calculate="/data/meta/caseID" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="name-label">\n\t\t\t\t\t\t<value>name</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<input vellum:ref="#form/name" ref="/data/name">\n\t\t\t<label ref="jr:itext(\'name-label\')" />\n\t\t</input>\n\t</h:body>\n</h:html>\n'},3842:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/080C5E4A-0EA8-4AFD-92F1-75B79B5FC627" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<save_to_case_create vellum:case_type="mother" vellum:role="SaveToCase">\n\t\t\t\t\t\t<case xmlns="http://commcarehq.org/case/transaction/v2" case_id="" date_modified="" user_id="">\n\t\t\t\t\t\t\t<create>\n\t\t\t\t\t\t\t\t<case_name />\n\t\t\t\t\t\t\t\t<case_type />\n\t\t\t\t\t\t\t</create>\n\t\t\t\t\t\t\t<update>\n\t\t\t\t\t\t\t\t<p1 />\n\t\t\t\t\t\t\t\t<p2 />\n\t\t\t\t\t\t\t</update>\n\t\t\t\t\t\t</case>\n\t\t\t\t\t</save_to_case_create>\n\t\t\t\t\t<save_to_case_close vellum:case_type="close_case" vellum:role="SaveToCase">\n\t\t\t\t\t\t<case xmlns="http://commcarehq.org/case/transaction/v2" case_id="" date_modified="" user_id="">\n\t\t\t\t\t\t\t<close />\n\t\t\t\t\t\t</case>\n\t\t\t\t\t</save_to_case_close>\n\t\t\t\t\t<group>\n\t\t\t\t\t\t<save_to_case_in_group vellum:case_type="child" vellum:role="SaveToCase">\n\t\t\t\t\t\t\t<case xmlns="http://commcarehq.org/case/transaction/v2" case_id="" date_modified="" user_id="">\n\t\t\t\t\t\t\t\t<update>\n\t\t\t\t\t\t\t\t\t<p1 />\n\t\t\t\t\t\t\t\t\t<p3 />\n\t\t\t\t\t\t\t\t</update>\n\t\t\t\t\t\t\t</case>\n\t\t\t\t\t\t</save_to_case_in_group>\n\t\t\t\t\t</group>\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind nodeset="/data/save_to_case_create/case/create/case_name" calculate="\'name\'" />\n\t\t\t<bind nodeset="/data/save_to_case_create/case/create/case_type" calculate="\'mother\'" />\n\t\t\t<bind nodeset="/data/save_to_case_create/case/update/p1" calculate="\'property 1\'" />\n\t\t\t<bind nodeset="/data/save_to_case_create/case/update/p2" calculate="\'property 2\'" />\n\t\t\t<bind nodeset="/data/save_to_case_create/case/@date_modified" calculate="/data/meta/timeEnd" type="xsd:dateTime" />\n\t\t\t<bind nodeset="/data/save_to_case_create/case/@user_id" calculate="\'user_id\'" />\n\t\t\t<bind nodeset="/data/save_to_case_close/case/close" />\n\t\t\t<bind nodeset="/data/save_to_case_close/case/@date_modified" calculate="/data/meta/timeEnd" type="xsd:dateTime" />\n\t\t\t<bind nodeset="/data/save_to_case_close/case/@user_id" calculate="\'user_id\'" />\n\t\t\t<bind nodeset="/data/save_to_case_close/case/@case_id" calculate="\'case_id_close\'" />\n\t\t\t<bind vellum:nodeset="#form/group" nodeset="/data/group" />\n\t\t\t<bind nodeset="/data/group/save_to_case_in_group/case/update/p1" calculate="\'property 1\'" />\n\t\t\t<bind nodeset="/data/group/save_to_case_in_group/case/update/p3" calculate="\'property 3\'" />\n\t\t\t<bind nodeset="/data/group/save_to_case_in_group/case/@date_modified" calculate="/data/meta/timeEnd" type="xsd:dateTime" />\n\t\t\t<bind nodeset="/data/group/save_to_case_in_group/case/@user_id" calculate="\'user_id\'" />\n\t\t\t<bind nodeset="/data/group/save_to_case_in_group/case/@case_id" calculate="\'case_id_in_group\'" />\n\t\t\t<setvalue event="xforms-ready" ref="/data/save_to_case_create/case/@case_id" value="\'case_id_normal\'" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="" />\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<group vellum:ref="#form/group" ref="/data/group" />\n\t</h:body>\n</h:html>\n'},3348:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/45D58D8B-834F-495E-8439-0190233678CA" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<one>\n\t\t\t\t\t\t<save vellum:role="SaveToCase" vellum:case_type="case">\n\t\t\t\t\t\t\t<case xmlns="http://commcarehq.org/case/transaction/v2" case_id="" date_modified="" user_id="">\n\t\t\t\t\t\t\t\t<create>\n\t\t\t\t\t\t\t\t\t<case_type />\n\t\t\t\t\t\t\t\t\t<case_name />\n\t\t\t\t\t\t\t\t</create>\n\t\t\t\t\t\t\t</case>\n\t\t\t\t\t\t</save>\n\t\t\t\t\t</one>\n\t\t\t\t\t<two>\n\t\t\t\t\t\t<save vellum:role="SaveToCase" vellum:case_type="case">\n\t\t\t\t\t\t\t<case xmlns="http://commcarehq.org/case/transaction/v2" case_id="" date_modified="" user_id="">\n\t\t\t\t\t\t\t\t<create>\n\t\t\t\t\t\t\t\t\t<case_type />\n\t\t\t\t\t\t\t\t\t<case_name />\n\t\t\t\t\t\t\t\t</create>\n\t\t\t\t\t\t\t</case>\n\t\t\t\t\t\t</save>\n\t\t\t\t\t</two>\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/one" nodeset="/data/one" />\n\t\t\t<bind nodeset="/data/one/save/case/create/case_type" calculate="\'case\'" />\n\t\t\t<bind nodeset="/data/one/save/case/create/case_name" calculate="\'name\'" />\n\t\t\t<bind nodeset="/data/one/save/case/@date_modified" calculate="/data/meta/timeEnd" type="xsd:dateTime" />\n\t\t\t<bind nodeset="/data/one/save/case/@user_id" calculate="instance(\'commcaresession\')/session/context/userid" />\n\t\t\t<bind vellum:nodeset="#form/two" nodeset="/data/two" />\n\t\t\t<bind nodeset="/data/two/save/case/create/case_type" calculate="\'case\'" />\n\t\t\t<bind nodeset="/data/two/save/case/create/case_name" calculate="\'name\'" />\n\t\t\t<bind nodeset="/data/two/save/case/@date_modified" calculate="/data/meta/timeEnd" type="xsd:dateTime" />\n\t\t\t<bind nodeset="/data/two/save/case/@user_id" calculate="instance(\'commcaresession\')/session/context/userid" />\n\t\t\t<setvalue event="xforms-ready" ref="/data/one/save/case/@case_id" value="uuid()" />\n\t\t\t<setvalue event="xforms-ready" ref="/data/two/save/case/@case_id" value="uuid()" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="one-label">\n\t\t\t\t\t\t<value>one</value>\n\t\t\t\t\t</text>\n\t\t\t\t\t<text id="two-label">\n\t\t\t\t\t\t<value>two</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<group vellum:ref="#form/one" ref="/data/one">\n\t\t\t<label ref="jr:itext(\'one-label\')" />\n\t\t</group>\n\t\t<group vellum:ref="#form/two" ref="/data/two">\n\t\t\t<label ref="jr:itext(\'two-label\')" />\n\t\t</group>\n\t</h:body>\n</h:html>'},4258:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/E1B03643-109D-4DC6-9737-815E4401DE79" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<name />\n\t\t\t\t\t<save_to_case vellum:role="SaveToCase" vellum:case_type="" >\n\t\t\t\t\t\t<case xmlns="http://commcarehq.org/case/transaction/v2" case_id="" date_modified="" user_id="">\n\t\t\t\t\t\t\t<update>\n\t\t\t\t\t\t\t\t<name />\n\t\t\t\t\t\t\t\t<dash-dash />\n\t\t\t\t\t\t\t</update>\n\t\t\t\t\t\t</case>\n\t\t\t\t\t</save_to_case>\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/name" nodeset="/data/name" type="xsd:string" />\n\t\t\t<bind nodeset="/data/save_to_case/case/update/name" vellum:relevant="#form/name != \'\'" vellum:calculate="#form/name" relevant="/data/name != \'\'" calculate="/data/name" />\n\t\t\t<bind nodeset="/data/save_to_case/case/update/dash-dash" calculate="\'-\'" />\n\t\t\t<bind nodeset="/data/save_to_case/case/@date_modified" calculate="/data/meta/timeEnd" type="xsd:dateTime" />\n\t\t\t<bind nodeset="/data/save_to_case/case/@user_id" calculate="/data/meta/userID" />\n\t\t\t<bind nodeset="/data/save_to_case/case/@case_id" calculate="/data/meta/caseID" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="name-label">\n\t\t\t\t\t\t<value>name</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<input vellum:ref="#form/name" ref="/data/name">\n\t\t\t<label ref="jr:itext(\'name-label\')" />\n\t\t</input>\n\t</h:body>\n</h:html>\n'},4202:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/85BAD5DB-3ECE-447C-A29B-6A92C074B1E2" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<text />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/text" nodeset="/data/text" type="xsd:string" />\n\t\t\t<setvalue event="special-snowflake" ref="/data/text" value="blah" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="text-label">\n\t\t\t\t\t\t<value>text</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<input vellum:ref="#form/text" ref="/data/text">\n\t\t\t<label ref="jr:itext(\'text-label\')" />\n\t\t</input>\n\t</h:body>\n</h:html>\n'},8396:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/EF36B822-59DA-4377-A4F7-90967C57B63C" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<text />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/text" nodeset="/data/text" type="xsd:string" />\n\t\t\t<setvalue event="xforms-ready" vellum:ref="#form/text" ref="/data/text" value="blah" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="">\n\t\t\t\t\t<text id="text-label">\n\t\t\t\t\t\t<value>text</value>\n\t\t\t\t\t</text>\n\t\t\t\t</translation>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<input vellum:ref="#form/text" ref="/data/text">\n\t\t\t<label ref="jr:itext(\'text-label\')" />\n\t\t</input>\n\t</h:body>\n</h:html>\n'},3913:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum" vellum:ignore="richText markdown">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/145B4E0A-2CE5-48A2-B0E0-8D1585CFCA47" uiVersion="1" version="1" name="Untitled Form" />\n\t\t\t</instance>\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default=""/>\n\t\t\t\t<translation lang="hin"/>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body />\n</h:html>\n'},5842:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/05E42EAF-BBD2-4BE1-9B58-45C09C1DA524" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<group jr:template="" />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/group" nodeset="/data/group" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default=""/>\n\t\t\t\t<translation lang="hin"/>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<group>\n\t\t\t<repeat vellum:nodeset="#form/group" nodeset="/data/group" jr:noAddRemove="false()" />\n\t\t</group>\n\t</h:body>\n</h:html>\n'},6276:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/6830242E-8941-4752-BF6F-F40F4C964878" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<question1 />\n\t\t\t\t\t<question2 jr:template="">\n\t\t\t\t\t\t<question3 />\n\t\t\t\t\t</question2>\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/question1" nodeset="/data/question1" type="xsd:int" />\n\t\t\t<bind vellum:nodeset="#form/question2" nodeset="/data/question2" />\n\t\t\t<bind vellum:nodeset="#form/question2/question3" nodeset="/data/question2/question3" type="xsd:string" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default="" />\n\t\t\t\t<translation lang="hin" />\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<input vellum:ref="#form/question1" ref="/data/question1"/>\n\t\t<group>\n\t\t\t<repeat vellum:jr__count="#form/question1" jr:count="/data/question1" jr:noAddRemove="true()" vellum:nodeset="#form/question2" nodeset="/data/question2">\n\t\t\t\t<input vellum:ref="#form/question2/question3" ref="/data/question2/question3"/>\n\t\t\t</repeat>\n\t\t</group>\n\t</h:body>\n</h:html>\n'},3465:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/145B4E0A-2CE5-48A2-B0E0-8D1585CFCA47" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<group jr:template="">\n\t\t\t\t\t\t<question2 />\n\t\t\t\t\t</group>\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/group" nodeset="/data/group" />\n\t\t\t<bind vellum:nodeset="#form/group/question2" nodeset="/data/group/question2" type="xsd:string" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default=""/>\n\t\t\t\t<translation lang="hin"/>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<group>\n\t\t\t<repeat vellum:nodeset="#form/group" nodeset="/data/group" jr:count="3" jr:noAddRemove="false()">\n\t\t\t\t<input vellum:ref="#form/group/question2" ref="/data/group/question2"/>\n\t\t\t</repeat>\n\t\t</group>\n\t</h:body>\n</h:html>\n'},1182:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/145B4E0A-2CE5-48A2-B0E0-8D1585CFCA47" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<group jr:template="">\n\t\t\t\t\t\t<question2 />\n\t\t\t\t\t</group>\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/group" nodeset="/data/group" />\n\t\t\t<bind vellum:nodeset="#form/group/question2" nodeset="/data/group/question2" type="xsd:string" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default=""/>\n\t\t\t\t<translation lang="hin"/>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<group>\n\t\t\t<repeat vellum:nodeset="#form/group" nodeset="/data/group" jr:count="3" jr:noAddRemove="true()">\n\t\t\t\t<input vellum:ref="#form/group/question2" ref="/data/group/question2"/>\n\t\t\t</repeat>\n\t\t</group>\n\t</h:body>\n</h:html>\n'},4340:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:orx="http://openrosa.org/jr/xforms" xmlns="http://www.w3.org/2002/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:jr="http://openrosa.org/javarosa" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n\t<h:head>\n\t\t<h:title>Untitled Form</h:title>\n\t\t<model>\n\t\t\t<instance>\n\t\t\t\t<data xmlns:jrm="http://dev.commcarehq.org/jr/xforms" xmlns="http://openrosa.org/formdesigner/05E42EAF-BBD2-4BE1-9B58-45C09C1DA524" uiVersion="1" version="1" name="Untitled Form">\n\t\t\t\t\t<group jr:template="" />\n\t\t\t\t</data>\n\t\t\t</instance>\n\t\t\t<bind vellum:nodeset="#form/group" nodeset="/data/group" />\n\t\t\t<itext>\n\t\t\t\t<translation lang="en" default=""/>\n\t\t\t\t<translation lang="hin"/>\n\t\t\t</itext>\n\t\t</model>\n\t</h:head>\n\t<h:body>\n\t\t<group>\n\t\t\t<repeat vellum:nodeset="#form/group" nodeset="/data/group" />\n\t\t</group>\n\t</h:body>\n</h:html>\n'},2900:t=>{"use strict";t.exports='debug\n\ndrought: <output value="/data/save/shocks/drought" vellum:value="#form/save/shocks/drought"/>\nflood: <output value="/data/save/shocks/flood_water_logging" vellum:value="#form/save/shocks/flood_water_logging"/>\ncrop: <output value="/data/save/shocks/crop_disease_pests" vellum:value="#form/save/shocks/crop_disease_pests"/>\nlivestock: <output value="/data/save/shocks/livestock_disease_deaths" vellum:value="#form/save/shocks/livestock_disease_deaths"/>\nbusiness: <output value="/data/save/shocks/business_failure" vellum:value="#form/save/shocks/business_failure"/>\njob: <output value="/data/save/shocks/lost_job_no_salary" vellum:value="#form/save/shocks/lost_job_no_salary"/>\nassistance <output value="/data/save/shocks/end_assistance" vellum:value="#form/save/shocks/end_assistance"/>\ncrop prices <output value="/data/save/shocks/fall_crop_prices" vellum:value="#form/save/shocks/fall_crop_prices"/>\nfood prices <output value="/data/save/shocks/rise_food_prices" vellum:value="#form/save/shocks/rise_food_prices"/>\nhh breakup <output value="/data/save/shocks/hh_breakup" vellum:value="#form/save/shocks/hh_breakup"/>\nhh death <output value="/data/save/shocks/hh_death" vellum:value="#form/save/shocks/hh_death"/>\nillness <output value="/data/save/shocks/illness_cholera" vellum:value="#form/save/shocks/illness_cholera"/>\ntheft <output value="/data/save/shocks/theft" vellum:value="#form/save/shocks/theft"/>\nfire <output value="/data/save/shocks/fire_damage" vellum:value="#form/save/shocks/fire_damage"/>\nwind <output value="/data/save/shocks/strong_wind" vellum:value="#form/save/shocks/strong_wind"/>\ndrought: <output value="/data/save/shocks/drought" vellum:value="#form/save/shocks/drought"/>\nflood: <output value="/data/save/shocks/flood_water_logging" vellum:value="#form/save/shocks/flood_water_logging"/>\ncrop: <output value="/data/save/shocks/crop_disease_pests" vellum:value="#form/save/shocks/crop_disease_pests"/>\nlivestock: <output value="/data/save/shocks/livestock_disease_deaths" vellum:value="#form/save/shocks/livestock_disease_deaths"/>\nbusiness: <output value="/data/save/shocks/business_failure" vellum:value="#form/save/shocks/business_failure"/>\njob: <output value="/data/save/shocks/lost_job_no_salary" vellum:value="#form/save/shocks/lost_job_no_salary"/>\nassistance <output value="/data/save/shocks/end_assistance" vellum:value="#form/save/shocks/end_assistance"/>\ncrop prices <output value="/data/save/shocks/fall_crop_prices" vellum:value="#form/save/shocks/fall_crop_prices"/>\nfood prices <output value="/data/save/shocks/rise_food_prices" vellum:value="#form/save/shocks/rise_food_prices"/>\nhh breakup <output value="/data/save/shocks/hh_breakup" vellum:value="#form/save/shocks/hh_breakup"/>\nhh death <output value="/data/save/shocks/hh_death" vellum:value="#form/save/shocks/hh_death"/>\nillness <output value="/data/save/shocks/illness_cholera" vellum:value="#form/save/shocks/illness_cholera"/>\ntheft <output value="/data/save/shocks/theft" vellum:value="#form/save/shocks/theft"/>\nfire <output value="/data/save/shocks/fire_damage" vellum:value="#form/save/shocks/fire_damage"/>\nwind <output value="/data/save/shocks/strong_wind" vellum:value="#form/save/shocks/strong_wind"/>\ndrought: <output value="/data/save/shocks/drought" vellum:value="#form/save/shocks/drought"/>\nflood: <output value="/data/save/shocks/flood_water_logging" vellum:value="#form/save/shocks/flood_water_logging"/>\ncrop: <output value="/data/save/shocks/crop_disease_pests" vellum:value="#form/save/shocks/crop_disease_pests"/>\nlivestock: <output value="/data/save/shocks/livestock_disease_deaths" vellum:value="#form/save/shocks/livestock_disease_deaths"/>\nbusiness: <output value="/data/save/shocks/business_failure" vellum:value="#form/save/shocks/business_failure"/>\njob: <output value="/data/save/shocks/lost_job_no_salary" vellum:value="#form/save/shocks/lost_job_no_salary"/>\nassistance <output value="/data/save/shocks/end_assistance" vellum:value="#form/save/shocks/end_assistance"/>\ncrop prices <output value="/data/save/shocks/fall_crop_prices" vellum:value="#form/save/shocks/fall_crop_prices"/>\nfood prices <output value="/data/save/shocks/rise_food_prices" vellum:value="#form/save/shocks/rise_food_prices"/>\nhh breakup <output value="/data/save/shocks/hh_breakup" vellum:value="#form/save/shocks/hh_breakup"/>\nhh death <output value="/data/save/shocks/hh_death" vellum:value="#form/save/shocks/hh_death"/>\nillness <output value="/data/save/shocks/illness_cholera" vellum:value="#form/save/shocks/illness_cholera"/>\ntheft <output value="/data/save/shocks/theft" vellum:value="#form/save/shocks/theft"/>\nfire <output value="/data/save/shocks/fire_damage" vellum:value="#form/save/shocks/fire_damage"/>\nwind <output value="/data/save/shocks/strong_wind" vellum:value="#form/save/shocks/strong_wind"/>\nother: <output value="/data/save/shocks/other" vellum:value="#form/save/shocks/other"/>'},8076:t=>{"use strict";t.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns="http://www.w3.org/2002/xforms" xmlns:vellum="http://commcarehq.org/xforms/vellum">\n<value>debug\n\ndrought: <output value="/data/save/shocks/drought" vellum:value="#form/save/shocks/drought" />\nflood: <output value="/data/save/shocks/flood_water_logging" vellum:value="#form/save/shocks/flood_water_logging" />\ncrop: <output value="/data/save/shocks/crop_disease_pests" vellum:value="#form/save/shocks/crop_disease_pests" />\nlivestock: <output value="/data/save/shocks/livestock_disease_deaths" vellum:value="#form/save/shocks/livestock_disease_deaths" />\nbusiness: <output value="/data/save/shocks/business_failure" vellum:value="#form/save/shocks/business_failure" />\njob: <output value="/data/save/shocks/lost_job_no_salary" vellum:value="#form/save/shocks/lost_job_no_salary" />\nassistance <output value="/data/save/shocks/end_assistance" vellum:value="#form/save/shocks/end_assistance" />\ncrop prices <output value="/data/save/shocks/fall_crop_prices" vellum:value="#form/save/shocks/fall_crop_prices" />\nfood prices <output value="/data/save/shocks/rise_food_prices" vellum:value="#form/save/shocks/rise_food_prices" />\nhh breakup <output value="/data/save/shocks/hh_breakup" vellum:value="#form/save/shocks/hh_breakup" />\nhh death <output value="/data/save/shocks/hh_death" vellum:value="#form/save/shocks/hh_death" />\nillness <output value="/data/save/shocks/illness_cholera" vellum:value="#form/save/shocks/illness_cholera" />\ntheft <output value="/data/save/shocks/theft" vellum:value="#form/save/shocks/theft" />\nfire <output value="/data/save/shocks/fire_damage" vellum:value="#form/save/shocks/fire_damage" />\nwind <output value="/data/save/shocks/strong_wind" vellum:value="#form/save/shocks/strong_wind" />\ndrought: <output value="/data/save/shocks/drought" vellum:value="#form/save/shocks/drought" />\nflood: <output value="/data/save/shocks/flood_water_logging" vellum:value="#form/save/shocks/flood_water_logging" />\ncrop: <output value="/data/save/shocks/crop_disease_pests" vellum:value="#form/save/shocks/crop_disease_pests" />\nlivestock: <output value="/data/save/shocks/livestock_disease_deaths" vellum:value="#form/save/shocks/livestock_disease_deaths" />\nbusiness: <output value="/data/save/shocks/business_failure" vellum:value="#form/save/shocks/business_failure" />\njob: <output value="/data/save/shocks/lost_job_no_salary" vellum:value="#form/save/shocks/lost_job_no_salary" />\nassistance <output value="/data/save/shocks/end_assistance" vellum:value="#form/save/shocks/end_assistance" />\ncrop prices <output value="/data/save/shocks/fall_crop_prices" vellum:value="#form/save/shocks/fall_crop_prices" />\nfood prices <output value="/data/save/shocks/rise_food_prices" vellum:value="#form/save/shocks/rise_food_prices" />\nhh breakup <output value="/data/save/shocks/hh_breakup" vellum:value="#form/save/shocks/hh_breakup" />\nhh death <output value="/data/save/shocks/hh_death" vellum:value="#form/save/shocks/hh_death" />\nillness <output value="/data/save/shocks/illness_cholera" vellum:value="#form/save/shocks/illness_cholera" />\ntheft <output value="/data/save/shocks/theft" vellum:value="#form/save/shocks/theft" />\nfire <output value="/data/save/shocks/fire_damage" vellum:value="#form/save/shocks/fire_damage" />\nwind <output value="/data/save/shocks/strong_wind" vellum:value="#form/save/shocks/strong_wind" />\ndrought: <output value="/data/save/shocks/drought" vellum:value="#form/save/shocks/drought" />\nflood: <output value="/data/save/shocks/flood_water_logging" vellum:value="#form/save/shocks/flood_water_logging" />\ncrop: <output value="/data/save/shocks/crop_disease_pests" vellum:value="#form/save/shocks/crop_disease_pests" />\nlivestock: <output value="/data/save/shocks/livestock_disease_deaths" vellum:value="#form/save/shocks/livestock_disease_deaths" />\nbusiness: <output value="/data/save/shocks/business_failure" vellum:value="#form/save/shocks/business_failure" />\njob: <output value="/data/save/shocks/lost_job_no_salary" vellum:value="#form/save/shocks/lost_job_no_salary" />\nassistance <output value="/data/save/shocks/end_assistance" vellum:value="#form/save/shocks/end_assistance" />\ncrop prices <output value="/data/save/shocks/fall_crop_prices" vellum:value="#form/save/shocks/fall_crop_prices" />\nfood prices <output value="/data/save/shocks/rise_food_prices" vellum:value="#form/save/shocks/rise_food_prices" />\nhh breakup <output value="/data/save/shocks/hh_breakup" vellum:value="#form/save/shocks/hh_breakup" />\nhh death <output value="/data/save/shocks/hh_death" vellum:value="#form/save/shocks/hh_death" />\nillness <output value="/data/save/shocks/illness_cholera" vellum:value="#form/save/shocks/illness_cholera" />\ntheft <output value="/data/save/shocks/theft" vellum:value="#form/save/shocks/theft" />\nfire <output value="/data/save/shocks/fire_damage" vellum:value="#form/save/shocks/fire_damage" />\nwind <output value="/data/save/shocks/strong_wind" vellum:value="#form/save/shocks/strong_wind" />\nother: <output value="/data/save/shocks/other" vellum:value="#form/save/shocks/other" /></value>\n</h:html>'},5210:t=>{"use strict";t.exports='edd:<output value="/data/edd" vellum:value="#form/edd"></output>\nvisit #:<output value="/data/calendario/visita_numero" vellum:value="#form/calendario/visita_numero"></output>\nclose to edd?: <output value="/data/calendario/visita_perto_do_edd" vellum:value="#form/calendario/visita_perto_do_edd"></output>\nfinal visit?: <output value="/data/calendario/e_visita_final" vellum:value="#form/calendario/e_visita_final"></output><output value="/data/calendario/atualiza_vp_datos/atualiza_vp9" vellum:value="#form/calendario/atualiza_vp_datos/atualiza_vp9"></output>\n\nNew values:\nvp1:<output value="/data/calendario/atualiza_vp_datos/atualiza_vp1" vellum:value="#form/calendario/atualiza_vp_datos/atualiza_vp1"></output>\nvp2:<output value="/data/calendario/atualiza_vp_datos/atualiza_vp2" vellum:value="#form/calendario/atualiza_vp_datos/atualiza_vp2"></output>\nvp3:\nvp4:<output value="/data/calendario/atualiza_vp_datos/atualiza_vp4" vellum:value="#form/calendario/atualiza_vp_datos/atualiza_vp4"></output>\nvp5:<output value="/data/calendario/atualiza_vp_datos/atualiza_vp5" vellum:value="#form/calendario/atualiza_vp_datos/atualiza_vp5"></output>  \nvp6:<output value="/data/calendario/atualiza_vp_datos/atualiza_vp6" vellum:value="#form/calendario/atualiza_vp_datos/atualiza_vp6"></output>\nvp7:<output value="/data/calendario/atualiza_vp_datos/atualiza_vp7" vellum:value="#form/calendario/atualiza_vp_datos/atualiza_vp7"></output>\nvp8:<output value="/data/calendario/atualiza_vp_datos/atualiza_vp8" vellum:value="#form/calendario/atualiza_vp_datos/atualiza_vp8"></output>\nvp9:\n\nExisting data:\nvp1:<output value="instance(\'casedb\')/cases/case[@case_id = instance(\'commcaresession\')/session/data/case_id]/vp1_data" vellum:value="#case/vp1_data"></output>\nvp2:<output value="instance(\'casedb\')/cases/case[@case_id = instance(\'commcaresession\')/session/data/case_id]/vp2_data" vellum:value="#case/vp2_data"></output>\nvp3:<output value="instance(\'casedb\')/cases/case[@case_id = instance(\'commcaresession\')/session/data/case_id]/vp3_data" vellum:value="#case/vp3_data"></output>  \nvp4:<output value="instance(\'casedb\')/cases/case[@case_id = instance(\'commcaresession\')/session/data/case_id]/vp4_data" vellum:value="#case/vp4_data"></output>\nvp5:<output value="instance(\'casedb\')/cases/case[@case_id = instance(\'commcaresession\')/session/data/case_id]/vp5_data" vellum:value="#case/vp5_data"></output>  \nvp6:<output value="instance(\'casedb\')/cases/case[@case_id = instance(\'commcaresession\')/session/data/case_id]/vp6_data" vellum:value="#case/vp6_data"></output>\nvp7:<output value="instance(\'casedb\')/cases/case[@case_id = instance(\'commcaresession\')/session/data/case_id]/vp7_data" vellum:value="#case/vp7_data"></output>\nvp8:<output value="instance(\'casedb\')/cases/case[@case_id = instance(\'commcaresession\')/session/data/case_id]/vp8_data" vellum:value="#case/vp8_data"></output>\nvp9:<output value="instance(\'casedb\')/cases/case[@case_id = instance(\'commcaresession\')/session/data/case_id]/vp9_data" vellum:value="#case/vp9_data"></output>'}}]);