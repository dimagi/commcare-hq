{% load i18n %}
{% load hq_shared_tags %}
<div class="control-group">
    <label class="control-label">
        {% trans "Enable visit schedule" %}
        <span class="hq-help-template"
              data-title="{% trans "Visit Schedule" %}"
              data-content="{% trans "Be able to configure a visit schedule" %}"
        ></span>
        <span class="label label-info">{% trans "Preview" %}</span>
    </label>
    <div class="controls">
        <label class="checkbox">
            {% if edit %}
                {% if module.all_forms_require_a_case or module.has_schedule %}
                    <input type="checkbox" name="has_schedule" {% if module.has_schedule %}checked{% endif %}>
                    {% if not module.all_forms_require_a_case %}
                    <div class="alert alert-error" data-bind="visible: value">
                        <strong>{% trans "Visit schedule will be ignored as not all forms in the module update or close a case." %}</strong>
                    </div>
                    {% endif %}
                {% else %}
                    {% blocktrans %}
                        Visit schedules can only be used on modules where all the forms in the module<br/>
                        update or close a case, which means registration forms must go in a separate module.
                    {% endblocktrans %}
                {% endif %}
            {% else %}
                {% trans "Visit schedule is enabled for forms in this module" %}
            {% endif %}
        </label>
    </div>
</div>