{% load i18n %}

{% include 'app_manager/partials/case_config_shared.html' %}

<script type="text/html" id="case-config:case-transaction">
    <div class="row-fluid">
        <div class="well span6">
            <div data-bind="template: 'case-config:case-transaction:case-preload'"></div>
        </div>
        <div class="well span6">
            <div data-bind="template: 'case-config:case-transaction:case-properties'"></div>
        </div>
    </div>
</script>

<div id="case-config-ko">
    <div data-bind="saveButton: saveButton, css: {disabled: validate}"></div>
    <div data-bind="with: transaction">
        <table class="table table-condensed">
            <thead>
                <tr>
                    <th>{% trans "Question" %}</th>
                    <th>{% trans "Case Property" %}</th>
                </tr>
            </thead>

            <tbody data-bind="foreach: fixedQuestions">
                <tr class="control-group" data-bind="css: {error: validate}">
                    <td>
                        <div><span data-bind="text: label"></span></div>
                        <p class="help-inline" data-bind="html: validateProperty, visible: validateProperty"></p>
                    </td>
                    <td>
                        <div>
                            <input class="input-xxlarge" type="hidden" data-bind="
                                questionsSelect: $root.questions,
                                value: path,
                                optionsCaption: ' '
                            "/>
                        </div>
                        <p class="help-inline" data-bind="html: validateQuestion, visible: validateQuestion"></p>
                    </td>
                </tr>
            </tbody>
        </table>
        <div>
            <strong>{% trans "Extra fields to load into the form or save to the case" %}</strong>
            <div data-bind="template: {name: 'case-config:case-transaction'}"></div>
        </div>
    </div>
</div>
