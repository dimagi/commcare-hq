{% load i18n %}

<div data-bind="with: search">

    <script type="text/html" id="property_template" class="hide">
        <tr>
            <td class="col-sm-4">
                <input class="form-control" type="text" data-bind="value: property.name"/>
            </td>
            <td class="col-sm-6">
                <input class="form-control" type="text" data-bind="value: property.label"/>
            </td>
            <td class="col-sm-2">
                <i style="cursor: pointer;"
                   data-bind="click: $parent.removeProperty,
                              css: COMMCAREHQ.icons.DELETE"></i>
            </td>
        </tr>
    </script>

    <form>
        <table class="table table-condensed">
            <thead data-bind="visible: searchProperties().length > 0">
                <tr>
                    <th class="col-sm-5">{% trans "Property" %}</th>
                    <th class="col-sm-6">{% trans "Display Text" %}</th>
                    <th class="col-sm-1">&nbsp;</th>
                </tr>
            </thead>
            <tbody data-bind="template: { name: 'property_template', foreach: searchProperties, as: 'property' }">
            </tbody>
        </table>
        <p>
            <button type="button"
                    class="btn btn-default"
                    data-bind="click: addProperty">
                <i class="fa fa-plus"></i> {% trans "Add search property" %}
            </button>
        </p>
    </form>

</div>
