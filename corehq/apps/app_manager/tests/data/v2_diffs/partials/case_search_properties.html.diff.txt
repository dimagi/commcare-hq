  {% load i18n %}
  
  <legend>
      {% trans "Searching" %}
  </legend>
  
  <div data-bind="with: search">
  
      <script type="text/html" id="property_template" class="hide">
          <tr>
              <td class="col-sm-4">
                  <input class="form-control" type="text" data-bind="value: property.name"/>
              </td>
              <td class="col-sm-6">
                  <input class="form-control" type="text" data-bind="value: property.label"/>
              </td>
              <td class="col-sm-2">
                  <i style="cursor: pointer;"
                     data-bind="click: $parent.removeProperty,
                                css: COMMCAREHQ.icons.DELETE"></i>
              </td>
          </tr>
      </script>
  
      <form>
          <table class="table table-condensed">
              <thead data-bind="visible: searchProperties().length > 0">
                  <tr>
                      <th class="col-sm-5">{% trans "Property" %}</th>
                      <th class="col-sm-6">{% trans "Display Text" %}</th>
                      <th class="col-sm-1">&nbsp;</th>
                  </tr>
              </thead>
              <tbody data-bind="template: { name: 'property_template', foreach: searchProperties, as: 'property' }">
              </tbody>
          </table>
          <p>
              <button type="button"
                      class="btn btn-default"
                      data-bind="click: addProperty">
                  <i class="fa fa-plus"></i> {% trans "Add search property" %}
              </button>
          </p>
          <div class="checkbox">
              <label>
                  <input type="checkbox" data-bind="checked: includeClosed"> {% trans "Include closed cases" %}
              </label>
          </div>
          <div class="form-group">
              <label>
                  {% trans "Conditional claim condition" %}
                  <input type="text" data-bind="value: relevant" class="form-control" />
              </label>
              <div class="checkbox">
                  <label>
                      <input type="checkbox" data-bind="checked: default_relevant">
                      {% trans "Don't claim already owned cases" %}
                  </label>
              </div>
          </div>
          <label>{% trans "Default Search Properties" %}</label>
          <p>{% trans "Filter based on a specific value of any case property" %}</p>
          <table class="table table-condensed">
              <thead data-bind="visible: defaultProperties().length > 0">
                  <tr>
                      <th class="col-sm-5">{% trans "Key" %}</th>
                      <th class="col-sm-6">{% trans "Value" %}</th>
                      <th class="col-sm-1">&nbsp;</th>
                  </tr>
              </thead>
              <tbody data-bind="foreach: defaultProperties">
              <tr>
                  <td class="col-sm-4">
                      <input class="form-control" type="text" data-bind="value: property"/>
                  </td>
                  <td class="col-sm-6">
                      <input class="form-control" type="text" data-bind="value: defaultValue"/>
                  </td>
                  <td class="col-sm-2">
                      <i style="cursor: pointer;"
                         data-bind="click: $parent.removeDefaultProperty,
                                    css: COMMCAREHQ.icons.DELETE"></i>
                  </td>
              </tr>
              </tbody>
          </table>
          <p>
              <button type="button"
                      class="btn btn-default"
                      data-bind="click: addDefaultProperty">
                  <i class="fa fa-plus"></i> {% trans "Add default property" %}
              </button>
          </p>
      </form>
  </div>
