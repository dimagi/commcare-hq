<partial>
  <detail id="m0_case_short">
    <title>
      <text>
        <locale id="cchq.case"/>
      </text>
    </title>
    <field>
      <header>
        <text>
          <locale id="m0.case_short.case_name_1.header"/>
        </text>
      </header>
      <template>
        <text>
          <xpath function="case_name"/>
        </text>
      </template>
      <sort direction="ascending" order="1" type="string">
        <text>
          <xpath function="case_name"/>
        </text>
      </sort>
    </field>
    <field>
      <header>
        <text>
          <locale id="m0.case_short.case_calculated_property_2.header"/>
        </text>
      </header>
      <template>
        <text>
          <xpath function="$calculated_property">
            <variable name="calculated_property">
              <xpath function="instance('reports')/report[1]/name"/>
            </variable>
          </xpath>
        </text>
      </template>
    </field>
    <field>
      <header>
        <text>
          <locale id="m0.case_short.case_calculated_property_3.header"/>
        </text>
      </header>
      <template>
        <text>
          <xpath function="$calculated_property">
            <variable name="calculated_property">
              <xpath function="instance('item-list:moons')/moons_list/moons[favorite='yes']/name"/>
            </variable>
          </xpath>
        </text>
      </template>
    </field>
    <field>
      <header>
        <text>
          <locale id="m0.case_short.case_parent/whatever_4.header"/>
        </text>
      </header>
      <template>
        <text>
          <xpath function="instance('casedb')/casedb/case[@case_id=current()/index/parent]/whatever"/>
         </text>
       </template>
     </field>
    <action auto_launch="false()" redo_last="false">
      <display>
        <text>
          <locale id="case_search.m0"/>
        </text>
      </display>
      <stack>
        <push>
          <mark />
          <command value="'search_command.m0'"/>
        </push>
      </stack>
    </action>
  </detail>
  <detail id="m0_case_long">
    <title>
      <text>
        <locale id="cchq.case"/>
      </text>
    </title>
    <field>
      <header>
        <text>
          <locale id="m0.case_long.case_name_1.header"/>
        </text>
      </header>
      <template>
        <text>
          <xpath function="case_name"/>
        </text>
      </template>
    </field>
    <field>
      <header>
        <text>
          <locale id="m0.case_long.case_calculated_property_2.header"/>
        </text>
      </header>
      <template>
        <text>
          <xpath function="$calculated_property">
            <variable name="calculated_property">
              <xpath function="instance('ledgerdb')/ledgers/name/name"/>
            </variable>
          </xpath>
        </text>
      </template>
    </field>
  </detail>
  <detail id="m0_search_short">
    <title>
      <text>
        <locale id="cchq.case"/>
      </text>
    </title>
    <field>
      <header>
        <text>
          <locale id="m0.search_short.case_name_1.header"/>
        </text>
      </header>
      <template>
        <text>
          <xpath function="case_name"/>
        </text>
      </template>
      <sort direction="ascending" order="1" type="string">
        <text>
          <xpath function="case_name"/>
        </text>
      </sort>
    </field>
    <field>
      <header>
        <text>
          <locale id="m0.search_short.case_calculated_property_2.header"/>
        </text>
      </header>
      <template>
        <text>
          <xpath function="$calculated_property">
            <variable name="calculated_property">
              <xpath function="instance('reports')/report[1]/name"/>
            </variable>
          </xpath>
        </text>
      </template>
    </field>
    <field>
      <header>
        <text>
          <locale id="m0.search_short.case_calculated_property_3.header"/>
        </text>
      </header>
      <template>
        <text>
          <xpath function="$calculated_property">
            <variable name="calculated_property">
              <xpath function="instance('item-list:moons')/moons_list/moons[favorite='yes']/name"/>
            </variable>
          </xpath>
        </text>
      </template>
    </field>
    <field>
      <header>
        <text>
          <locale id="m0.search_short.case_parent/whatever_4.header"/>
        </text>
      </header>
      <template>
        <text>
          <xpath function="instance('results')/results/case[@case_id=current()/index/parent]/whatever"/>
        </text>
      </template>
    </field>
    <action auto_launch="false()" redo_last="true">
      <display>
        <text>
          <locale id="case_search.m0.again"/>
        </text>
      </display>
      <stack>
        <push>
          <mark/>
          <command value="'search_command.m0'"/>
        </push>
      </stack>
    </action>
  </detail>
  <detail id="m0_search_long">
    <title>
      <text>
        <locale id="cchq.case"/>
      </text>
    </title>
    <field>
      <header>
        <text>
          <locale id="m0.search_long.case_name_1.header"/>
        </text>
      </header>
      <template>
        <text>
          <xpath function="case_name"/>
        </text>
      </template>
    </field>
    <field>
      <header>
        <text>
          <locale id="m0.search_long.case_calculated_property_2.header"/>
        </text>
      </header>
      <template>
        <text>
          <xpath function="$calculated_property">
            <variable name="calculated_property">
              <xpath function="instance('ledgerdb')/ledgers/name/name"/>
            </variable>
          </xpath>
        </text>
      </template>
    </field>
  </detail>
  <detail id="m1_case_short">
    <title>
      <text>
        <locale id="cchq.case"/>
      </text>
    </title>
    <field>
      <header>
        <text>
          <locale id="m1.case_short.case_name_1.header"/>
        </text>
      </header>
      <template>
        <text>
          <xpath function="case_name"/>
        </text>
      </template>
      <sort direction="ascending" order="1" type="string">
        <text>
          <xpath function="case_name"/>
        </text>
      </sort>
    </field>
    <action auto_launch="false()" redo_last="false">
      <display>
        <text>
          <locale id="case_search.m1"/>
        </text>
      </display>
      <stack>
        <push>
          <mark/>
          <command value="'search_command.m1'"/>
        </push>
      </stack>
    </action>
  </detail>
  <detail id="m1_case_long">
    <title>
      <text>
        <locale id="cchq.case"/>
      </text>
    </title>
    <field>
      <header>
        <text>
          <locale id="m1.case_long.case_name_1.header"/>
        </text>
      </header>
      <template>
        <text>
          <xpath function="case_name"/>
        </text>
      </template>
    </field>
  </detail>
  <detail id="m1_search_short">
    <title>
      <text>
        <locale id="cchq.case"/>
      </text>
    </title>
    <field>
      <header>
        <text>
          <locale id="m1.search_short.case_name_1.header"/>
        </text>
      </header>
      <template>
        <text>
          <xpath function="case_name"/>
        </text>
      </template>
      <sort direction="ascending" order="1" type="string">
        <text>
          <xpath function="case_name"/>
        </text>
      </sort>
    </field>
    <action auto_launch="false()" redo_last="true">
      <display>
        <text>
          <locale id="case_search.m1.again"/>
        </text>
      </display>
      <stack>
        <push>
          <mark/>
          <command value="'search_command.m1'"/>
        </push>
      </stack>
    </action>
  </detail>
  <detail id="m1_search_long">
    <title>
      <text>
        <locale id="cchq.case"/>
      </text>
    </title>
    <field>
      <header>
        <text>
          <locale id="m1.search_long.case_name_1.header"/>
        </text>
      </header>
      <template>
        <text>
          <xpath function="case_name"/>
        </text>
      </template>
    </field>
  </detail>
  <detail id="m2_case_short"/>
  <detail id="m2_case_long">
    <title>
      <text>
        <locale id="cchq.case"/>
      </text>
    </title>
    <field>
      <header>
        <text>
          <locale id="m2.case_long.case_name_1.header"/>
        </text>
      </header>
      <template>
        <text>
          <xpath function="case_name"/>
        </text>
      </template>
    </field>
  </detail>
  <detail id="m3_case_short"/>
  <detail id="m3_case_long">
    <title>
      <text>
        <locale id="cchq.case"/>
      </text>
    </title>
    <field>
      <header>
        <text>
          <locale id="m3.case_long.case_name_1.header"/>
        </text>
      </header>
      <template>
        <text>
          <xpath function="case_name"/>
        </text>
      </template>
    </field>
  </detail>

</partial>
