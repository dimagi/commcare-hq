{% load hq_shared_tags %}
{% load i18n %}

<div id="ko-getting-started" data-bind="with: $root.gettingStartedViewModel">
  <h3>{% trans "Linked Project Spaces" %}</h3>
  <p>{% trans "Create links between upstream and downstream project spaces." %}</p>
  <p>{% trans "Linked project spaces allow you to:" %}</p>
  <ol>
    <li>{% trans "Push content to a downstream project space" %}</li>
    <li>{% trans "Pull content from an upstream project space" %}</li>
  </ol>
  <p>
    {% blocktrans %}
      <a href="https://confluence.dimagi.com/display/commcarepublic/Linked+Project+Spaces" target="_blank">Learn more</a> about Linked Project Spaces.
    {% endblocktrans %}
  </p>
  <div class="spacer"></div>
  <div class="row">
    <!-- ko if: upstreamDomains().length > 0 -->
      <div class="col-sm-6">
        <h4>{% trans "Link to an existing upstream project space" %}</h4>
        <p>
          {% blocktrans %}
            To pull content from an upstream project space, link this project space to an upstream project space.
            The link can only be created from the upstream project space.
          {% endblocktrans %}
        </p>
        <!-- ko if: upstreamDomains().length == 1 -->
          <button type="button"
                class="btn btn-primary"
                id="go-to-upstream-project"
                data-bind="click: goToUpstream">
            {% trans "Go To Upstream Project Space" %}
          </button>
        <!-- /ko -->
        <!-- ko if: upstreamDomains().length > 1 -->
          <ul data-bind="foreach: upstreamDomains">
            <li><a data-bind="attr: {'href': $data.url}, text: $data.name"></a></li>
          </ul>
        <!-- /ko -->
      </div>
    <!-- /ko -->
    <div class="col-sm-6">
      <h4>{% trans "Make this an upstream project space" %}</h4>
      <p>
        {% blocktrans %}
          To push content from this project space to other project spaces, make this project space an upstream project space.
          This can be done by linking this project space to downstream project spaces.
        {% endblocktrans %}
      </p>
      <button type="button"
              class="btn"
              data-bind="class: upstreamButtonClass"
              id="add-downstream-domain"
              data-toggle="modal"
              data-target="#new-downstream-domain-modal">
        {% trans "Link Downstream Project Spaces" %}
      </button>
    </div>
  </div>
</div>
