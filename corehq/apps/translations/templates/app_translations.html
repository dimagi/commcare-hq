{% extends 'hqwebapp/bootstrap3/two_column.html' %}
{% load crispy_forms_tags %}
{% load i18n %}
{% load hq_shared_tags %}

{% requirejs_main "translations/js/app_translations" %}


{% block page_content %}
  {% registerurl "paginate_releases" domain '---' %}

  {% if not transifex_details_available %}
    <p class="text-error">
            <span class="label label-danger">
                {% trans 'Transifex integration not set for this domain' %}
            </span>
    </p>
  {% else %}
    <ul class="nav nav-tabs sticky-tabs" style="margin-bottom: 10px;">
      <li><a data-toggle="tab" href="#create-update-trans-form" id="create-tab">{% trans "Create or Update" %}</a></li>
      <li><a data-toggle="tab" href="#push-trans-form" id="push-tab">{% trans "Push" %}</a></li>
      <li><a data-toggle="tab" href="#pull-trans-form" id="pull-tab">{% trans "Pull" %}</a></li>
      <li><a data-toggle="tab" href="#del-trans-form" id="delete-tab">{% trans "Delete" %}</a></li>
    </ul>
    <div class="tab-content">
      <div id="create-update-trans-form" class="tab-pane">
        <form class="form form-horizontal" name="product" method="post">
          <legend>{% trans "Set Up or Update Resource" %}</legend>
          <p>
            {% blocktrans %}
              Create a new resource or update an existing one in Transifex.
            {% endblocktrans %}
          </p>
          </br>
          {% crispy create_update_form %}
        </form>
      </div>
      <div id="push-trans-form" class="tab-pane">
        <form class="form form-horizontal" name="product" method="post">
          <legend>{% trans "Push Target Language" %}</legend>
          <p>
            {% blocktrans %}
              Push translations for a target language to Transifex.
            {% endblocktrans %}
          </p>
          </br>
          {% crispy push_form %}
        </form>
      </div>
      <div id="pull-trans-form" class="tab-pane">
        <form class="form form-horizontal" name="product" method="post">
          <legend>{% trans "Pull App Translations" %}</legend>
          <p>
            {% blocktrans %}
              Pull all translations for a selected language, which will be emailed to you as an Excel file.
              If you choose to pull all source files and translations, it will be emailed to you as a zip file.
            {% endblocktrans %}
          </p>
          </br>
          {% crispy pull_form %}
        </form>
      </div>
      <div id="del-trans-form" class="tab-pane">
        {% if delete_form %}
          <form class="form form-horizontal" name="product" method="post">
            <legend>{% trans "Delete Project Resources" %}</legend>
            <p>
              {% blocktrans %}
                Delete all resources for the project. (This may be a bug - I think it's only supposed to delete
                resources that come from the selected application). Use caution!
              {% endblocktrans %}
            </p>
            </br>
            {% crispy delete_form %}
          </form>
        {% else %}
          <b>{% trans "Action permitted to only users with staff access" %}</b>
        {% endif %}
      </div>
    </div>
  {% endif %}
{% endblock %}
