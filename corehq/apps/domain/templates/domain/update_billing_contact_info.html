{% extends "hqwebapp/bootstrap5/base_section.html" %}
{% load crispy_forms_tags %}
{% load hq_shared_tags %}
{% load i18n %}

{% js_entry 'domain/js/update_billing_contact_info' %}

{% block additional_initial_page_data %}{{ block.super }}
  {% initial_page_data "stripe_public_key" stripe_public_key %}
  {% initial_page_data "cards" cards %}
  {% registerurl "cards_view" domain %}
{% endblock additional_initial_page_data %}

{% block page_content %}
  <div id="billing-info" class="card card-with-form">
    <h5 class="card-header">
      {% trans "Billing Details" %}
    </h5>
    <div class="card-body">
      {% crispy billing_account_info_form %}
    </div>
  </div>
  <div id="card-manager" class="mt-3 card">
    <h5 class="card-header">
      {% trans "Payment Methods" %}
    </h5>
    <div class="card-body card-with-form">
      <div class="mb-3">
        {% include "domain/partials/account_cards.html" %}
      </div>
      {% include "domain/partials/manage_saved_cards.html" %}
    </div>
  </div>
{% endblock page_content %}
