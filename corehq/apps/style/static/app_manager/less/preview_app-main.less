@import '../../style/less/_hq/includes/variables.less';
@import '../../style/less/_hq/includes/mixins.less';

/* this file is included in app_manager/v1/apps_base.html
AND app_manager/v2/apps_base.html and is relevant to the
EXTERNAL styling of the preview app container in app manager.

For the styling of the app preview content and layout, please check out
preview_app/less */

@preview-phone-wrapper-width: 300px;
@preview-phone-width: 250px;
@preview-phone-height: 444px;
@preview-phone-case-offset-y: 40px;
@preview-phone-case-offset-x: 15px;

#hq-content {
  overflow-x: hidden;
  min-height: @preview-phone-height + 150;
}

.preview-phone-container {
  box-sizing: border-box;
  background-color: black;
  .border-top-radius(30px);
  .border-bottom-radius(30px);
  right: -930px;
  position: absolute;
  top: 50%;
  margin-top: -(@preview-phone-height + (@preview-phone-case-offset-y * 2))/2;

  width: @preview-phone-width + (@preview-phone-case-offset-x * 2);
  height: @preview-phone-height + (@preview-phone-case-offset-y * 2);
  padding-top: @preview-phone-case-offset-y;
  padding-left: @preview-phone-case-offset-x;

  .box-shadow(0 0px 10px 3px rgba(0,0,0,.45));
  .transition(all 1s);
}

#js-appmanager-body.offset-for-preview {
  margin-right: @preview-phone-wrapper-width;
}

#hq-messages-container > div > div > .alert {
  .transition(margin-right 1s);
}

#hq-messages-container.offset-for-preview > div > div > .alert {
  margin-right: @preview-phone-wrapper-width + 10;
}

.preview-phone-wrapper {
  box-sizing: border-box;
  top: 0;
  right: 0;
  position: fixed;
  z-index: @zindex-app-preview;
  width: 0;
  background-color: rgba(50, 50, 50, .3);
  .transition(width 1s);
  overflow: hidden;


  &.open {
    width: @preview-phone-wrapper-width;
    .box-shadow(0 0px 10px 3px rgba(0,0,0,.45));
  }

  &.open.small-height  {
    z-index: @zindex-app-preview + 2;
    > .preview-phone-container {
      top: 20px;
      margin-top: 0;
    }
  }
  &.open > .preview-phone-container {
    right: 10px;
  }
}

.preview-phone-window {
   height: @preview-phone-height;
   width: @preview-phone-width;
   background-color: white;
}



.preview-icon {
  font-size: 1.5rem;
  line-height: 24px;
}

.appmanager-content-animate-preview {
  .transition(all 1s);
}

.btn-preview-toggle {
  @preview-close-size: 30px;
  margin: 0 auto;
  display: block;
  background-color: lighten(@cc-text, 20);
  border-color: lighten(@cc-text, 30);
  .border-top-radius(@preview-close-size/2);
  .border-bottom-radius(@preview-close-size/2);
  width: @preview-close-size;
  height: @preview-close-size;
  box-sizing: border-box;
  padding: 0;
  text-align: center;
  color: lighten(@cc-text, 60);
  font-size: 1.6rem;
  padding-left: 1px;
  .transition(all .6s);

  position: absolute;
  left: -5px;
  top: -5px;
}

.btn-preview-refresh::after {
  content: 'âœ”';
  color: green;
  width: 10px;
  height: 10px;
  display: block;
  position: absolute;
  top: -3px;
  right: -3px;
}

.btn-preview-refresh.app-out-of-date::after {
  content: ' ';
  background-color: red;
  border-radius: 10px;
}

.hardware-buttons {
  position: absolute;
  bottom: 0;

  .btn-hardware {
    display: inline-block;
  }
}
