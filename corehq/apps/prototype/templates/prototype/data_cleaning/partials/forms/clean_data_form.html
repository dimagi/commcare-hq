{% load i18n %}
{% load crispy_forms_tags %}

<div id="{{ container_id }}"
     hx-swap="outerHTML"
     hq-hx-refresh="{{ table_selector }}">

  {% if num_changes is not None %}
    <div class="alert alert-success alert-dismissible fade show"
         role="alert">
      {% blocktrans %}
        {{ num_changes }} changes made
      {% endblocktrans %}
      <button type="button"
              class="btn-close"
              data-bs-dismiss="alert"
              aria-label="{% trans "Close" %}"></button>
    </div>
  {% endif %}

  <form hx-post="{{ request.path_info }}"
        hx-target="#{{ container_id }}"
        hq-hx-loading="{{ table_loading_id }}"
        hx-disabled-elt="find button">
    {% crispy clean_data_form %}
  </form>
</div>
