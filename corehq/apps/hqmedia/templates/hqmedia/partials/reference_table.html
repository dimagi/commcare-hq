{% load i18n %}
<div class="accordion-group" data-bind="visible: {{ show_refs }}">
    <div class="accordion-heading">
        <h3>
            <a class="accordion-toggle"
                 data-toggle="collapse"
                 data-bind="attr: { href: '#' + id + '-{{ this_accordion }}'}">
                <i class="icon-double-angle-down"></i> {{ title }}
            </a>
        </h3>
    </div>
    <div class="accordion-body collapse in"
            data-bind="attr: { id: id + '-{{ this_accordion }}' }">
        <table class="table table-striped table-condensed table-multimedia">
            <thead>
                <tr>
                    <th class="span1">{% trans 'Type' %}</th>
                    <th class="span1">{% trans 'Status' %}</th>
                    <th class="span2">{% trans 'Action' %}</th>
                    <th class="span2">{% trans 'Preview' %}</th>
                    <th class="span6">{% trans 'Path in Application'  %}</th>
                </tr>
            </thead>
            <tbody data-bind="foreach: {{ ref_type }}">
                <tr data-bind="attr: { 'data-hqmediapath': path }, event: { mediaUploadComplete: uploadComplete }">
                    <td class="media-type-icon"><i data-bind="attr: { class: type_icon }"></i></td>
                    <td class="media-status-icon"><i data-bind="attr: { class: status_icon }"></i></td>
                    <td><a data-toggle="modal"
                            data-bind="text: upload_button_text,
                                       attr: { class: upload_button_class, href: upload_controller.container },
                                       click: triggerUpload"></a></td>
                    <td><div data-bind="visible: is_matched, template: preview_template"></div></td>
                    <td><code data-bind="text: path"></code></td>
                </tr>
            </tbody>
        </table>
    </div>
</div>
