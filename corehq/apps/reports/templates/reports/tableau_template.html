{% extends "hqwebapp/base_section.html" %}
{% load compress %}
{% load hq_shared_tags %}
{% load i18n %}

{% block page_content %}

{% initial_page_data "server_type" server_type %}
{% initial_page_data "ticket" ticket %}
{% initial_page_data "validate_hostname" validate_hostname %}
{% initial_page_data "server_address" server_address %}
{% initial_page_data "target_site" target_site %}
{% initial_page_data "domain_username" domain_username %}
{% initial_page_data "view_url" view_url %}
{% registerurl 'tableau_visualisation_ajax' request.domain %}

<script src="https://{{ validate_hostname }}/javascripts/api/tableau-2.5.0.min.js"></script>
<script src="{% static 'reports/js/tableau.js' %}"></script>

<body>
    <div id="loadingDiv"><p>{% trans "Page is loading..." %} </p></div>
    <div id="vizContainer"></div>
    <div id="errorMessage"><p>{{ failure_message }}</p></div>
</body>

{% endblock %}
