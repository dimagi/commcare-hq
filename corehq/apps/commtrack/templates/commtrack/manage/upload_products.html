{% extends "settings/base_template.html" %}
{% load i18n %}
{% load hq_shared_tags %}

{% block js-inline %}{{ block.super }}
    <script type="text/javascript">
        $('form#upload-products').submit(function(){
            $(this).find('button[type=submit]').attr('disabled', 'disabled');
        });
    </script>
{% endblock %}
{% block main_column %}
    <header>
        <div class="row-fluid">
            <div class="span8">
                <h2>{% trans "Import Products from Excel" %}</h2>
            </div>
        </div>
    </header>

    <ol>
        <li>
            {% trans "Download your current product data: " %}<a href="{% url "product_export" domain %}">{% trans "Products.xlsx" %}</a>
        </li>
        <li>
            {% trans "Update it with the changes you want to make" %}
        </li>
        <li>
            {% trans "To speed up the process, you can remove rows you aren't modifying" %}
        </li>
        <li>
            {% trans "Use the form below to upload your completed file" %}
        </li>
    </ol>

    <form class="form-horizontal form-report"
          id="upload-products"
          method="post"
          action=""
          enctype="multipart/form-data">
        <div class="control-group">
            <label class="control-label" for="file">
                {% trans "Select a file to upload" %}
            </label>
            <div class="controls">
                <input type="file" name="products" />
            </div>
        </div>

        <div class="form-actions">
            <button type="submit" id='upload-button' class="btn btn-primary">
                {% trans "Import products" %}
            </button>
        </div>
    </form>
{% endblock %}
