{% extends "reports/partials/maps.html" %}
{% load hq_shared_tags %}
{% load report_tags %}
{% load i18n %}

{% block js-libs %}
    {% if "print" in report.url_root %}
        <script>
            setTimeout(function() {
                $('#tabular_filter').remove();
                $(".dataTables_control").remove();
                window.print();
           }, 3000);

        </script>

        <style>
            table {
                border-collapse: collapse;
            }
            td {
                border: 1px solid #000000;
            }

            th {
                border: 1px solid #000000;
            }

            body {
                width: 297mm;
            }
            tr {
                border: 1px solid #000000;
                page-break-inside: avoid;
            }
            small {
                font-size: 1em !important;
            }

            @page {
                size: A4 landscape;
            }
            @media print {
                #report_table_health_status_map_processing {
                    display: none;
                }
                .leaflet-top {
                    display: none;
                }
            }
        </style>
    {% endif %}
    <style>
        #legend, #extra-legend {
            max-height: 17em !important;
            overflow-y: auto;
        }
        #legend > div {
            font: 10px/0.9 "Helvetica Neue", Arial, Helvetica, sans-serif;
        }
        #map {
            height: 15cm !important;
            page-break-after: always;
        }
    </style>
    {{ block.super }}
{% endblock js-libs %}

{% block js %}
    <script src="{% static "opm/js/map.js" %}"></script>
{% endblock js %}

{% block content %}
    <h2 class="media-heading">{{ report.report_title }}</h2>
    <h4 class="media-heading">
        {% for subtitle in report.report_subtitles %}
        <br/><small>{{ subtitle }}</small>
        {% endfor %}
    </h4>
    <table class="table table-striped datatable dataTable" id="tabular"></table>
    <div class="row dataTables_control" style="height: 20px"></div>
{% endblock content %}
