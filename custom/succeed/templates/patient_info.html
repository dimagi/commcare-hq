{% extends "base_patient.html" %}
{% load url from future %}
{% load i18n %}
{% block patient-tab-container %}

    <style>
        .table td, .table th {
            border: none;
            padding: 10px;
        }

        table.table.table-condensed {
            border: 2px solid black;
            margin-left: 15px;
        }

        table.table.table-condensed tr td:nth-child(odd) {
            font-weight:bold;
        }
    </style>

    <div style="display: inline">
        <span><a target="_blank" href="{{ edit_patient_info_url }}" class="btn btn-large btn-success" style="margin: 2%">{% trans "Edit Patient Info" %}</a></span>
        <span><a target="_blank" href="{{ upcoming_appointments_url }}" class="btn btn-large btn-success" style="margin: 2%">{% trans "Upcoming Appointments" %}</a></span>
    </div>

    <div class="row">
    <div class="span8">
        <h4>General Information</h4>
            <table class="table table-condensed">
                <tbody>
                    <tr>
                        <td>{{ general_information.mrn.label }}</td>
                        <td>{{ general_information.mrn.value }}</td>

                        <td>{{ general_information.gender.label }}</td>
                        <td>{{ general_information.gender.value }}</td>
                    </tr>
                    <tr>
                        <td>{{ general_information.randomization_date.label }}</td>
                        <td>{{ general_information.randomization_date.value }}</td>

                        <td>{{ general_information.diagnosis.label }}</td>
                        <td>{{ general_information.diagnosis.value }}</td>
                    </tr>
                    <tr>
                        <td>{{ general_information.age.label }}</td>
                        <td>{{ general_information.age.value }}</td>

                        <td>{{ general_information.preferred_language.label }}</td>
                        <td>{{ general_information.preferred_language.value }}</td>
                    </tr>
                    <tr>
                        <td>{{ general_information.primary_care_provider.label }}</td>
                        <td>
                            {% for line in general_information.primary_care_provider.value %}
                                {% if line %}
                                    {{ line }} <br />
                                {% endif %}
                            {% endfor %}
                        </td>
                        <td></td><td></td>
                    </tr>
                </tbody>
            </table>

            <table class="table table-condensed">
                <tbody>
                    <tr>
                        <td>{{ general_information.key_notes.label }}</td>
                        <td>{{ general_information.key_notes.value }}</td>
                    </tr>
                </tbody>
            </table>

        <h4>Contact Information</h4>
            <table class="table table-condensed">
                <tbody>
                    <tr>
                        <td>{{ contact_information.address.label }}</td>
                        <td>
                            {% for line in contact_information.address.value %}
                                {{ line }} <br />
                            {% endfor %}
                        </td>

                        <td>{{ contact_information.family_member_1.label }}</td>
                        <td>
                            {% for line in contact_information.family_member_1.value %}
                                {{ line }} <br />
                            {% endfor %}
                        </td>
                    </tr>
                    <tr>
                        <td>{{ contact_information.phone_number_1.label }}</td>
                        <td>
                            {% for line in contact_information.phone_number_1.value %}
                                {{ line }} <br />
                            {% endfor %}
                        </td>
                        <td>{{ contact_information.family_member_2.label }}</td>
                        <td>
                            {% for line in contact_information.family_member_2.value %}
                                {{ line }} <br />
                            {% endfor %}
                        </td>
                    </tr>
                    <tr>
                        <td>{{ contact_information.phone_number_2.label }}</td>
                        <td>
                            {% for line in contact_information.phone_number_2.value %}
                                {{ line }} <br />
                            {% endfor %}
                        </td>
                        <td>{{ contact_information.phone_number_3.label }}</td>
                        <td>
                            {% for line in contact_information.phone_number_3.value %}
                                {{ line }} <br />
                            {% endfor %}
                        </td>
                    </tr>
                    <tr>
                        <td>{{ contact_information.family_member_3.label }}</td>
                        <td>
                            {% for line in contact_information.family_member_3.value %}
                                {{ line }} <br />
                            {% endfor %}
                        </td>
                        <td>{{ contact_information.family_member_4.label }}</td>
                        <td>
                            {% for line in contact_information.family_member_4.value %}
                                {{ line }} <br />
                            {% endfor %}
                       </td>
                    </tr>
                </tbody>
            </table>

        <h4>Most Recent Lab and Exam Results</h4>
            <table class="table table-condensed">
                <tbody>
                    <tr>
                        <td>{{ most_recent_lab_exams.recent_blood_pressure_1.label }}</td>
                        <td>{% for line in most_recent_lab_exams.recent_blood_pressure_1.value %}
                             {{ line }} <br />
                            {% endfor %}
                        </td>
                        <td>{{ most_recent_lab_exams.recent_blood_pressure_2.label }}</td>
                        <td>
                            {% for line in most_recent_lab_exams.recent_blood_pressure_2.value %}
                             {{ line }} <br />
                            {% endfor %}
                    </tr>
                    <tr>
                        <td>{{ most_recent_lab_exams.recent_blood_pressure_3.label }}</td>
                        <td>
                            {% for line in most_recent_lab_exams.recent_blood_pressure_3.value %}
                             {{ line }} <br />
                            {% endfor %}
                        </td>

                        <td>{{ most_recent_lab_exams.bmi.label }}</td>
                        <td>
                            {% for line in most_recent_lab_exams.bmi.value %}
                             {{ line }} <br />
                            {% endfor %}
                        </td>
                    </tr>
                    <tr>
                        <td>{{ most_recent_lab_exams.waist_circumference.label }}</td>
                        <td>
                            {% for line in most_recent_lab_exams.waist_circumference.value %}
                                {{ line }} <br />
                            {% endfor %}
                        </td>

                        <td>{{ most_recent_lab_exams.most_recent_HbA1c.label }}</td>
                        <td>
                            {% for line in most_recent_lab_exams.most_recent_HbA1c.value %}
                                {{ line }} <br />
                            {% endfor %}
                        </td>
                    </tr>
                    <tr>
                        <td>{{ most_recent_lab_exams.baseline_LDL.label }}</td>
                        <td>
                            {% for line in most_recent_lab_exams.baseline_LDL.value %}
                                {{ line }} <br />
                            {% endfor %}
                        </td>

                        <td>{{ most_recent_lab_exams.most_recent_LDL.label }}</td>
                        <td>
                            {% for line in most_recent_lab_exams.most_recent_LDL.value %}
                                {{ line }} <br />
                            {% endfor %}
                        </td>
                    </tr>
                    <tr>
                        <td>{{ most_recent_lab_exams.most_recent_HDL.label }}</td>
                        <td>
                            {% for line in most_recent_lab_exams.most_recent_HDL.value %}
                             {{ line }} <br />
                            {% endfor %}
                        </td>

                        <td>{{ most_recent_lab_exams.most_recent_Triglycerides.label }}</td>
                        <td>
                            {% for line in most_recent_lab_exams.most_recent_Triglycerides.value %}
                             {{ line }} <br />
                            {% endfor %}
                        </td>
                    </tr>
                    <tr>
                        <td>{{ most_recent_lab_exams.most_recent_INR.label }}</td>
                        <td>
                            {% for line in most_recent_lab_exams.most_recent_INR.value%}
                             {{ line }} <br />
                            {% endfor %}
                        </td>

                        <td></td>
                        <td></td>
                    </tr>
                </tbody>
            </table>

        <h4>Allergies</h4>
             <table class="table table-condensed">
                <tbody>
                    <tr>
                        <td>{{ allergies.statin.label }}</td>
                        <td>{{ allergies.statin.value }}</td>

                        <td>{{ allergies.aspirin.label }}</td>
                        <td>{{ allergies.aspirin.value }}</td>
                    </tr>
                    <tr>
                        <td>{{ allergies.other.label }}</td>
                        <td>{{ allergies.other.value }}</td>

                        <td></td>
                        <td></td>
                    </tr>
                </tbody>
            </table>
    </div>

    </div>
{% endblock %}