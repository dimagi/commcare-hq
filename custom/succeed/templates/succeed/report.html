{% include "reports/async/filters.html" %}

<script type="text/javascript">

    $('#group_search_query').hide();

    $search_bar = '<div id="report_table_case_activity_filter" class="dataTables_filter form-search"><label for="dataTables-filter-box"><i class="fa fa-search"></i></label><input placeholder="Search..." class="search-query form-control" id="dataTables-filter-box" aria-controls="report_table_case_activity" type="text"></div>';
    if(!$('#report_table_case_activity_filter').length) {
        $('#extra-filter-info').append($search_bar);
    }

    $('#dataTables-filter-box').val($('#report_filter_search_query').val());

    var asyncHQReport = hqImport("reports/js/standard_hq_report.js").getAsyncHQReport();
    $('.accordion-heading').on('keypress', '#dataTables-filter-box', function(e) {
        if(e.which === 13) {
            $query = $('#dataTables-filter-box').val();
            $('#report_filter_search_query').val($query);
            asyncHQReport.filterForm.submit();
        }
    })

</script>
