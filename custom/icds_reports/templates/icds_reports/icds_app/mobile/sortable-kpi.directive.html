{% load static %}
<div ng-repeat="section in $ctrl.data">
  <div class="shadow rounded-border bg-white col-xs-11 mx-auto float-unset mb-3 px-0 pb-3">
    <div ng-click="$ctrl.toggleCardExpansion($index)">
      <div class="d-flex justify-content-between align-items-center p-3">
        <p class="font-16 font-weight-600 font-montserrat mb-0" ng-bind-html="section.cardHeading"></p>
        <img src="{% static 'icds_reports/mobile/images/drop-down-icon.png' %}">
      </div>
      <hr class="mt-0 mb-3">
      <div class="mb-4 px-3">
        <div class="mb-2">
          <span class="font-16 font-weight-500 font-montserrat text-grey" ng-bind="section.attributes[0]['heading']"></span>
          <i class="fa fa-arrow-down text-grey" aria-hidden="true"
             ng-show="section.attributes[0]['sortingDirection'] && section.attributes[0]['isTheSortedColumn']"></i>
          <i class="fa fa-arrow-up text-grey" aria-hidden="true"
             ng-show="!section.attributes[0]['sortingDirection'] && section.attributes[0]['isTheSortedColumn']"></i>
        </div>
        <p class="font-16 font-weight-600 font-montserrat text-blue mb-0" ng-bind-html="section.attributes[0]['value']"></p>
      </div>
    </div>
    <div ng-repeat="attribute in section.attributes | limitTo: (1 - section.attributes.length)" class="mb-4 px-3" ng-show="$ctrl.expandedCard === $parent.$index">
      <p class="font-16 font-weight-600 font-montserrat text-grey mb-2" ng-bind="attribute['heading']"></p>
      <p class="font-16 font-weight-600 font-montserrat text-blue mb-0">
        <span ng-bind-html="attribute['value']" uib-popover-html="attribute['tooltip']" popover-placement="right" popover-trigger="'mouseenter'"></span>
      </p>
    </div>
  </div>
</div>
